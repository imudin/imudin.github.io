{"version":3,"sources":["webpack:///static/js/app.533bca198a59d02bb9ef.js","webpack:///./examples/components/demo-block.vue?7dfc","webpack:///./examples/App.vue?4af4","webpack:///./examples/pages/demo-pano.vue","webpack:///./examples/pages/demo-video-pano.vue","webpack:///./examples/components/demo-block.vue?edb7","webpack:///./src/Pano.vue?e317","webpack:///./examples/App.vue?91cc","webpack:///./examples/pages/demo-pano.vue?2a92","webpack:///./examples/pages/demo-video-pano.vue?50d9","webpack:///./examples/components/demo-block.vue?d45a","webpack:///./examples/App.vue?810f","webpack:///./examples/components/demo-block.vue","webpack:///./src/Pano.vue","webpack:///./examples/router/index.js","webpack:///./examples/App.vue","webpack:///./examples/index.js","webpack:///./examples/pages/index.js","webpack:///App.vue","webpack:///demo-block.vue","webpack:///demo-pano.vue","webpack:///demo-video-pano.vue","webpack:///Pano.vue","webpack:///./src/lib/panolens.js","webpack:///./src/util.js"],"names":["webpackJsonp","125","module","exports","__webpack_require__","push","i","126","127","308","Component","309","310","render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","_v","ref","_s","_f","vueCode","htmlCode","staticRenderFns","311","staticStyle","width","height","margin","border","padding","312","313","attrs","vue-code","code","html-code","slot","source","on","on-load","onLoad","directives","name","rawName","value","expression","314","src","316","content","locals","317","58","59","61","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages__","use","routes","map","page","path","component","redirect","62","63","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__App_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue___default","n","__WEBPACK_IMPORTED_MODULE_2__router__","el","router","h","a","64","d","pages","__WEBPACK_IMPORTED_MODULE_0__demo_pano__","__WEBPACK_IMPORTED_MODULE_0__demo_pano___default","__WEBPACK_IMPORTED_MODULE_1__demo_video_pano__","__WEBPACK_IMPORTED_MODULE_1__demo_video_pano___default","65","66","__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__","__WEBPACK_IMPORTED_MODULE_1_highlight_js__","__WEBPACK_IMPORTED_MODULE_1_highlight_js___default","codeHandler","replace","props","String","type","default","mounted","highlightBlock","$refs","data","filters","val","components","67","__WEBPACK_IMPORTED_MODULE_0__components_demo_block__","__WEBPACK_IMPORTED_MODULE_0__components_demo_block___default","__WEBPACK_IMPORTED_MODULE_1__src_Pano_vue__","__WEBPACK_IMPORTED_MODULE_1__src_Pano_vue___default","loading","methods","Pano","DemoBlock","68","69","__WEBPACK_IMPORTED_MODULE_1__lib_panolens__","Number","size","viewer","panorama","created","window","addEventListener","onResize","undefined","$el","offsetWidth","offsetHeight","Viewer","container","console","log","loadPano","watch","_this","$nextTick","l","f","r","b","u","CubePanorama","ImagePanorama","y","Math","PI","add","$emit","70","process","global","require","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property__","__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property___default","__WEBPACK_IMPORTED_MODULE_8_three__","PANOLENS","REVISION","enableInlineVideo","e","t","start","stop","requestAnimationFrame","cancelAnimationFrame","stopImmediatePropagation","get","set","dispatchEvent","Event","resolve","then","Audio","crossOrigin","currentSrc","m","Date","now","currentTime","k","T","o","driver","video","duration","s","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","loop","networkState","NETWORK_IDLE","buffered","length","load","ended","pause","c","g","webkitDisplayingFullscreen","E","paused","play","updater","HAVE_ENOUGH_DATA","v","w","p","bind","muted","autoplay","indexOf","everywhere","iPad","ipad","test","navigator","userAgent","classList","removeEventListener","platform","warn","document","head","style","matchMedia","matches","TWEEN","_tweens","getAll","removeAll","tween","remove","splice","update","time","preserve","hrtime","performance","getTime","Tween","object","_repeatDelayTime","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","to","properties","property","Array","concat","call","stopChainedTweens","end","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","interpolation","chain","arguments","onStart","callback","onUpdate","onComplete","onStop","elapsed","charAt","parseFloat","isFinite","tmp","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","pow","Circular","sqrt","Elastic","Back","Bounce","floor","fn","Utils","Bezier","pw","bn","Bernstein","CatmullRom","p0","p1","fc","Factorial","p2","p3","v0","v1","t2","root","define","domElement","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","zoomSpeed","onMouseDown","event","momentumOn","momentumLeft","momentumUp","enabled","preventDefault","button","mouseButtons","ORBIT","noRotate","state","STATE","ROTATE","rotateStart","clientX","clientY","ZOOM","noZoom","DOLLY","dollyStart","PAN","noPan","panStart","NONE","onMouseMove","onMouseUp","startEvent","element","body","rotateEnd","rotateDelta","subVectors","rotateLeft","x","clientWidth","rotateSpeed","rotateUp","clientHeight","copy","eventPrevious","dollyEnd","dollyDelta","dollyIn","dollyOut","panEnd","panDelta","pan","endEvent","onMouseWheel","stopPropagation","delta","wheelDelta","detail","fov","maxFov","updateProjectionMatrix","minFov","changeEvent","onKeyUp","keyCode","keys","UP","keyUp","BOTTOM","keyBottom","LEFT","keyLeft","RIGHT","keyRight","onKeyDown","noKeys","momentumKeydownFactor","touchstart","touches","TOUCH_ROTATE","pageX","pageY","TOUCH_DOLLY","dx","dy","TOUCH_PAN","touchmove","scale","touchend","frameId","target","center","minDistance","maxDistance","Infinity","minZoom","maxZoom","keyPanSpeed","autoRotate","minPolarAngle","maxPolarAngle","momentumDampingFactor","momentumScalingFactor","minAzimuthAngle","maxAzimuthAngle","MIDDLE","theta","phi","panOffset","offset","phiDelta","thetaDelta","lastPosition","lastQuaternion","target0","clone","position0","position","zoom0","zoom","quat","setFromUnitVectors","up","quatInverse","inverse","setLastQuaternion","quaternion","getLastPosition","angle","panLeft","distance","te","matrix","elements","multiplyScalar","panUp","deltaX","deltaY","sub","targetDistance","tan","right","left","top","bottom","momentum","abs","dollyScale","max","min","ignoreUpdate","applyQuaternion","atan2","z","radius","lookAt","distanceToSquared","dot","reset","getPolarAngle","getAzimuthalAngle","prototype","constructor","camera","rotY","rotX","tempX","tempY","rotation","reorder","deviceOrientation","screenOrientation","alpha","alphaOffsetAngle","onDeviceOrientationChangeEvent","onScreenOrientationChangeEvent","orientation","onTouchStartEvent","onTouchMoveEvent","degToRad","updateAlphaOffsetAngle","setCameraQuaternion","beta","gamma","orient","vectorFingerY","zee","euler","q0","q1","fingerQY","fingerQX","setFromAxisAngle","multiply","setFromEuler","connect","disconnect","dispose","direction","axis","_sign","_cosh","exp","_sinhInverse","modify","geometry","thirdAxis","crossVectors","P","transpose","InverseP","getInverse","newVertices","oldVertices","anglesBetweenOldandNewVertices","meshGeometryBoundingBoxMaxx","meshGeometryBoundingBoxMinx","meshGeometryBoundingBoxMaxy","meshGeometryBoundingBoxMiny","vertices","applyMatrix4","meshWidthold","meshDepth","ParamB","oldMiddlex","oldMiddley","meshWidth","NewParamB","rightEdgePos","bendCenter","x0","y0","normalize","Q","addVectors","middle","O","acos","computeFaceNormals","verticesNeedUpdate","normalsNeedUpdate","fvNames","fl","faces","face","vertexNormals","vl","rotateMatrix","applyMatrix3","renderer","_camera","_scene","_stereo","aspect","_params","minFilter","magFilter","format","_renderTarget","scissorTest","texture","generateMipmaps","distortion","removeAttribute","toNonIndexed","positions","attributes","array","uvs","uv","count","positions2","Float32Array","uvs2","vector","scalar","material","mesh","setSize","pixelRatio","getPixelRatio","scene","updateMatrixWorld","parent","scissor","viewport","cameraL","cameraR","setEyeSeparation","eyeSep","getSize","autoClear","clear","setScissorTest","setScissor","setViewport","GSVPANO","PanoLoader","parameters","_zoom","_panoId","_parameters","_panoClient","google","maps","StreetViewService","_count","_total","_canvas","_ctx","_wc","_hc","copyright","levelsW","levelsH","widths","heights","gl","canvas","createElement","getContext","error","maxW","maxH","maxTexSize","getParameter","MAX_TEXTURE_SIZE","setProgress","loaded","total","onProgress","throwError","message","onError","adaptTextureToZoom","ceil","ptr","composeFromTile","px","py","drawImage","progress","round","panoId","onPanoramaLoad","loadFromId","id","composePanorama","url","self","useWebGL","loadTexture","img","Image","panoid","getPanoramaById","result","status","StreetViewStatus","OK","onPanoramaData","location","pano","onNoPanoramaData","setZoom","DataImageSource","DataImage","Info","Arrow","FullscreenEnter","FullscreenLeave","VideoPlay","VideoPause","WhiteTile","ReticleIdle","Setting","ChevronRight","Check","ViewIndicator","ReticleDwell","Controls","DEVICEORIENTATION","Modes","UNKNOWN","NORMAL","CARDBOARD","STEREO","checkTouchSupported","msMaxTouchPoints","ImageLoader","onImageLoaded","urlCreator","revokeObjectURL","image","cached","request","arrayBufferView","blob","reference","iconName","hasOwnProperty","setTimeout","URL","webkitURL","createElementNS","XMLHttpRequest","open","responseType","onprogress","lengthComputable","onloadend","Uint8Array","response","Blob","createObjectURL","send","TextureLoader","needsUpdate","CubeTextureLoader","urls","all","loadings","index","images","StereographicShader","uniforms","tDiffuse","resolution","transform","vertexShader","join","fragmentShader","Panorama","ImageQualityLow","ImageQualityFair","ImageQualityMedium","ImageQualityHigh","ImageQualitySuperHigh","animationDuration","defaultInfospotSize","linkedSpots","isInfospotVisible","linkingImageURL","linkingImageScale","side","visible","infospotAnimation","fadeIn","setContainer","onClick","setupTransitions","invertedObject","Infospot","method","scalePlaceHolder","intersects","traverse","HTMLElement","children","forEach","child","getZoomLevel","innerWidth","updateTexture","toggleInfospotVisibility","isVisible","show","hide","setLinkingImage","link","imageScale","imageSrc","spot","toPanorama","fadeInAnimation","fadeOutAnimation","enterTransition","leaveTransition","opacity","fadeOut","onEnter","onLeave","recursiveDispose","transparent","HTMLImageElement","GoogleStreetviewPanorama","gsvLoader","loadRequested","setupGoogleMapAPI","loadGSVLoader","script","onreadystatechange","setGSVLoader","onload","getElementsByTagName","appendChild","getGSVLoader","edgeLength","shader","JSON","parse","BasicPanorama","tile","VideoPanorama","options","playsinline","videoElement","videoRenderObject","videoProgress","isIOS","isMobile","pauseVideo","resumeVideoProgress","toggleVideo","setVideoCurrentTime","setAttribute","onloadeddata","setVideoTexture","querySelectorAll","ontimeupdate","resetVideo","videoTexture","isVideoPaused","percentage","playVideo","isVideoMuted","muteVideo","unmuteVideo","getVideoElement","EmptyPanorama","color","LittlePlanet","ratio","EPS","createGeometry","createMaterial","dragging","userMouse","quatA","quatB","quatCur","quatSlerp","vectorX","vectorY","onWindowResize","registerMouseEvents","onContextMenu","unregisterMouseEvents","pinchDistance","onUpdateCallback","angleX","angleY","addZoomDelta","lowerBound","upperBound","slerp","makeRotationFromQuaternion","ImageLittlePlanet","Reticle","autoSelect","idleImageUrl","dwellImageUrl","dwellTime","dwellSpriteAmount","dwellInterval","IDLE","DWELLING","scaleIdle","scaleDwell","textureLoaded","idleTexture","dwellTexture","depthTest","currentTile","startTime","renderOrder","timerId","updateStatus","loadTextures","setupDwellSprite","select","completeCallback","completeDwelling","updateDwelling","clearTimer","wrapS","startDwelling","elasped","cancelDwelling","Tile","widthSegments","heightSegments","forceDirection","forceAxis","forceAngle","bendModifier","entity","animationFadeOut","animationFadeIn","animationTranslation","tweens","bend","originalGeometry","setEntity","unbend","toState","ripple","TileGroup","tileArray","verticalGap","depthGap","v_gap","d_gap","animationEasing","visibleDelta","setTexture","originalPosition","updateVisbility","imageArray","outline","updateAllTexture","scrollUp","tiles","scrollDown","getIndex","getTileCount","sharedFont","sharedTexture","pendingQueue","SpriteText","text","maxWidth","addText","generateTextGeometry","generateSDFShader","setBMFont","font","anisotropy","pop","textAnchor","computeBoundingBox","computeBoundingSphere","layout","textMesh","getLayout","Widget","DEFAULT_TRANSITION","TOUCH_ENABLED","PREVENT_EVENT_HANDLER","barElement","fullscreenElement","settingElement","mainMenu","activeMainItem","activeSubMenu","mask","addControlBar","bar","styleTranslate","styleOpacity","gradientStyle","float","webkitTransform","msTransform","background","transition","pointerEvents","isHidden","toggle","menu","createDefaultMenu","createMainMenu","createMask","removeChild","deactivate","handler","title","subMenu","addControlButton","createFullscreenButton","createSettingButton","createVideoControl","display","onTap","activated","activate","item","createCustomItem","backgroundImage","webkitTransition","_width","changeSize","unslideAll","tapSkipped","isFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","onFullScreenChange","stylesheetId","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","querySelector","sheet","innerHTML","controlButton","createVideoControlButton","seekBar","createVideoControlSeekbar","isDragging","mouseX","changedTouches","percentageNow","parseInt","progressElement","addControlListeners","onVideoControlDrag","percentageNext","onVideoControlStop","removeControlListeners","progressElementControl","getBoundingClientRect","offsetX","onDispose","backgroundColor","borderRadius","marginTop","createMenuItem","textContent","textDecoration","cursor","slide","unslide","setIcon","icon","setSelectionTitle","selection","addSelection","fontSize","fontWeight","addIcon","flip","backgroundSize","addSubMenu","items","createSubMenu","createMenuItemHeader","header","borderBottom","paddingBottom","menus","onNextTick","slideAll","parentElement","createMenu","addItem","paddingLeft","setActiveItem","activeItem","addHeader","fontFamily","visibility","boxShadow","overflow","willChange","backgroundRepeat","backgroundPosition","webkitUserSelect","MozUserSelect","userSelect","filter","webkitFilter","mergeStyleOptions","animated","postLoad","naturalWidth","naturalHeight","startScale","scaleUpAnimation","scaleFactor","scaleDownAnimation","isHovering","cursorStyle","mode","HANDLER_FOCUS","showAnimation","hideAnimation","onHover","onHoverStart","onHoverEnd","onDualEyeEffect","onDismiss","setFocusMethod","getContainer","lockHoverElement","unlockHoverElement","mouseEvent","_height","locked","halfWidth","halfHeight","cloneNode","translateElement","verticalDelta","setElementStyle","setText","setCursorHoverStyle","addHoverText","maxHeight","textShadow","addHoverElement","removeHoverElement","focus","controlBar","controlButtons","autoHideControlBar","autoHideInfospot","horizontalView","clickTolerance","cameraFov","reverseDragging","enableReticle","autoReticleSelect","viewIndicator","indicatorSize","output","innerHeight","antialias","viewIndicatorSize","reticle","tempEnableReticle","OrbitControls","DeviceOrientationControls","CardboardEffect","StereoEffect","controls","effect","widget","hoverObject","infospot","pressEntityObject","pressObject","raycaster","raycasterPoint","updateCallbacks","requestAnimationId","cameraFrustum","cameraViewProjectionMatrix","outputDivElement","HANDLER_MOUSE_DOWN","HANDLER_MOUSE_UP","HANDLER_MOUSE_MOVE","HANDLER_WINDOW_RESIZE","HANDLER_KEY_DOWN","HANDLER_KEY_UP","HANDLER_TAP","OUTPUT_INFOSPOT","tweenLeftAnimation","tweenUpAnimation","setPixelRatio","devicePixelRatio","setClearColor","sortObjects","passiveRendering","control","addReticle","addDefaultControlBar","addViewIndicator","reverseDraggingDirection","enableReticleControl","registerMouseAndTouchEvents","addOutputElement","registerEventListeners","animate","eventHandler","addPanoramaEventListener","setPanorama","buttonName","leavingPanorama","hideInfospot","afterEnterComplete","dispatchEventToChildren","activateWidgetItem","controlIndex","ControlMenuItem","ModeMenuItem","enableEffect","disableEffect","disableReticleControl","unregisterMouseAndTouchEvents","registerReticleEvent","updateReticleEvent","unregisterReticleEvent","toggleVideoPlay","onVideoUpdate","addUpdateCallback","removeUpdateCallback","showVideoWidget","hideVideoWidget","updateVideoPlayButton","setCameraControl","getControl","getScene","getCamera","getRenderer","getControlName","getNextControlName","getNextControlIndex","nextIndex","setCameraFov","enableControl","disableControl","toggleNextControl","getScreenVector","worldVector","widthHalf","heightHalf","project","checkSpriteInViewport","sprite","matrixWorldInverse","matrixWorld","multiplyMatrices","projectionMatrix","setFromMatrix","intersectsSprite","tweenControlCenter","ha","va","chv","cvv","hv","vv","vptc","ov","nv","getWorldDirection","getWorldPosition","angleTo","tweenControlCenterByObject","isUnderScalePlaceHolder","traverseAncestors","ancestor","invertXVector","windowWidth","windowHeight","expand","contains","documentElement","outputInfospotPosition","point","panoramaWorldPosition","outputPosition","intersectObject","toFixed","info","onTarget","toggleControlBar","intersect_entity","intersect","offsetLeft","offsetTop","setFromCamera","intersectObjects","getConvertedIntersect","passThrough","key","onChange","centerX","centerY","unregisterEventListeners","destory","onPanoramaDispose","loadAsyncRequest","loadViewIndicator","asyncEvent","viewIndicatorDiv","responseXML","indicator","setIndicatorD","currentPanoAngle","fovAngle","leftAngle","rightAngle","leftX","leftY","rightX","rightY","indicatorD","indicatorOnMouseEnter","indicatorOnMouseLeave","appendControlItem","option","group","Error","1","TextGeometry","opt","Base","_opt","assign","createLayout","inherits","createIndices","buffer","utils","TypeError","flipY","texWidth","common","scaleW","texHeight","scaleH","glyphs","glyph","bitmap","visibleGlyphs","indices","clockwise","attr","multipage","boundingSphere","itemSize","computeSphere","isNaN","boundingBox","bbox","makeEmpty","computeBox","./lib/utils","./lib/vertices","layout-bmfont-text","object-assign","quad-indices","three-buffer-vertex-data","2","bounds","box","minX","minY","maxX","maxY","3","bw","bh","u0","u1","xoffset","yoffset","4","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","5","TextLayout","_measure","computeMetrics","addGetter","wrapper","Function","getGlyphById","chars","glyphIdx","findChar","getXHeight","X_HEIGHTS","charCodeAt","idx","getMGlyph","M_WIDTHS","getCapHeight","CAP_HEIGHTS","getKerning","kernings","table","kern","first","second","getAlignType","align","ALIGN_CENTER","ALIGN_RIGHT","ALIGN_LEFT","wordWrap","xtend","number","TAB_ID","SPACE_ID","measure","tabSize","_setupSpaceGlyphs","lines","minWidth","maxLineWidth","reduce","prev","line","lineHeight","baseline","base","descender","letterSpacing","_descender","_baseline","_xHeight","_capHeight","_lineHeight","_ascender","lineIndex","lastGlyph","lineWidth","getGlyph","tx","xadvance","_linesTotal","_fallbackSpaceGlyph","_fallbackTabGlyph","space","tabWidth","curPen","curWidth","nextPen","nextWidth","as-number","indexof-property","word-wrapper","6","num","def","7","8","idxOf","chr","isWhitespace","whitespace","pre","lineStart","isNewline","newline","lineEnd","measured","greedy","testWidth","MAX_VALUE","newLine","newlineChar","nextStart","monospace","substring","9","extend","10","Buffer","isArrayBuffer","arr","toString","getBinaryOpts","xml2","req","overrideMimeType","xhr","noop","parseASCII","parseXML","readBinary","isBinaryFormat","cb","uri","binary","err","res","statusCode","isBuffer","encoding","trim","headers","./lib/is-binary","parse-bmfont-ascii","parse-bmfont-binary","parse-bmfont-xml","11","equal","HEADER","buf","slice","buffer-equal","12","equals","13","splitLine","split","str","match","dt","parseData","out","parseIntList","lineData","file","14","readBlock","blockID","readUInt8","blockSize","readInt32LE","readInfo","readCommon","readPages","readChars","readKernings","readInt16LE","bitField","smooth","unicode","italic","bold","fixedHeight","charset","stretchH","readUInt16LE","aa","readInt8","spacing","readStringNT","packed","alphaChnl","redChnl","greenChnl","blueChnl","readNameNT","len","char","off","readUInt32LE","chnl","pos","every","byte","15","getAttribs","getAttribList","dict","attrib","mapName","nodeName","nodeValue","attribs","NAME_MAP","toLowerCase","parseAttributes","parseFromString","scaleh","scalew","stretchh","lineheight","alphachnl","redchnl","greenchnl","bluechnl","xmlRoot","pageRoot","getAttribute","childTag","./parse-attribs","xml-parse-from-string","16","obj","17","DOMParser","ActiveXObject","xmlDoc","async","loadXML","div","18","isEmpty","initParams","params","isFunction","createXHR","_createXHR","readystatechange","loadFunc","getBody","responseText","isJson","errorFunc","evt","clearTimeout","timeoutTimer","failureResponse","aborted","useXDR","rawRequest","getAllResponseHeaders","parseHeaders","once","cors","XDomainRequest","sync","json","onerror","ontimeout","username","password","withCredentials","timeout","abort","setRequestHeader","beforeSend","iterator","toUpperCase","global/window","is-function","parse-headers","19","20","string","alert","confirm","prompt","21","called","apply","proto","22","list","context","forEachArray","forEachString","forEachObject","23","24","isArray","arg","row","for-each","25","dup","26","toObject","propIsEnumerable","propertyIsEnumerable","from","symbols","27","dtype","anArray","CW","CCW","dir","numIndices","j","an-array","is-buffer","28","BYTES_PER_ELEMENT","29","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Float64Array","Uint8ClampedArray","30","_isBuffer","31","setIndex","isR69","newAttrib","updateAttribute","addAttribute","rebuildAttribute","flatten","attribLength","flatten-vertex-data","32","flattenVertexData","dim","dstLength","Ctor","33","34","alphaTest","precision","35","loadFont","tex","load-bmfont","36","createText","SDFShader","loadBMFont","fontObject","../","../shaders/sdf","./load","37","kMaxLength","TYPED_ARRAY_SUPPORT","fromNumber","fromString","fromObject","that","allocate","checked","byteLength","write","fromBuffer","fromArray","ArrayBuffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","__proto__","poolSize","rootParent","RangeError","SlowBuffer","subject","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","units","leadSurrogate","byteArray","hi","lo","toByteArray","dst","INSPECT_MAX_BYTES","foo","subarray","compare","isEncoding","inspect","byteOffset","arrayIndexOf","foundIndex","swap","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt16BE","readUInt32BE","readIntLE","readIntBE","readInt16BE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","fill","base64-js","isarray","38","decode","elt","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","Arr","uint8ToBase64","uint8","encode","lookup","temp","extraBytes","base64js","39","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","40","71","__WEBPACK_IMPORTED_MODULE_0_three__"],"mappings":"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","file":"static/js/app.533bca198a59d02bb9ef.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(55)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-size:13px;float:left}.demo-block .demo-block-code pre code{font:normal 10pt Consolas,Monaco,monospace}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:\\\"\\\";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .hljs{background:transparent}.demo-block .demo-block-code code{position:absolute;top:0;left:0}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(55)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:\\\"\\\";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@keyframes loading-rotate{0%{transform:rotate(0) scale(1)}50%{transform:rotate(180deg) scale(.6)}to{transform:rotate(1turn) scale(1)}}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(67),\n  /* template */\n  __webpack_require__(313),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(68),\n  /* template */\n  __webpack_require__(314),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"Vue Component & Webpack\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"vueCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.vueCode)))]), _vm._v(\"\\n                \")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"HTML & JS\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"htmlCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.htmlCode)))]), _vm._v(\"\\n                \")])])])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"border\": \"0\",\n      \"padding\": \"0\"\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('div', {\n    staticClass: \"examples-pages\"\n  }, [_c('router-view')], 1)])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('Pano', {\n    attrs: {\n      \"source\": \"static/equirectangular.jpg\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('Pano', {\n    attrs: {\n      \"src\": \"./../static/equirectangular.jpg\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(60)(\"3d56467c\", content, true);\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(126);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(60)(\"51b71d58\", content, true);\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(316)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(66),\n  /* template */\n  __webpack_require__(310),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(69),\n  /* template */\n  __webpack_require__(311),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages__ = __webpack_require__(64);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\nvar routes = __WEBPACK_IMPORTED_MODULE_2__pages__[\"a\" /* pages */].map(function (page) {\n\n    var name = page.name;\n\n    return {\n        path: '/' + name,\n        name: name,\n        component: page\n    };\n});\n\nroutes.push({\n    path: '*',\n    redirect: '/demo-pano'\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({ routes: routes }));\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(317)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(65),\n  /* template */\n  __webpack_require__(312),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(61);\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue___default.a);\n  }\n});\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return pages; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__demo_pano__ = __webpack_require__(308);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__demo_pano___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__demo_pano__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__demo_video_pano__ = __webpack_require__(309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__demo_video_pano___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__demo_video_pano__);\n\n\n\nvar pages = [__WEBPACK_IMPORTED_MODULE_0__demo_pano___default.a, __WEBPACK_IMPORTED_MODULE_1__demo_video_pano___default.a];\n\n\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app'\n});\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__ = __webpack_require__(127);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_highlight_js__);\n\n\n\n\n\nvar codeHandler = function codeHandler(code) {\n    var scripts = '<script src=\"vue.js\"></script>\\n \\xA0 \\xA0<script src=\"vue-vr.min.js\"></script>';\n\n    return code.replace(/#scripts#/ig, scripts);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    props: {\n        vueCode: String,\n        htmlCode: {\n            type: String,\n            default: '// TODO'\n        }\n    },\n    mounted: function mounted() {\n        __WEBPACK_IMPORTED_MODULE_1_highlight_js___default.a.highlightBlock(this.$refs.vueCode);\n        __WEBPACK_IMPORTED_MODULE_1_highlight_js___default.a.highlightBlock(this.$refs.htmlCode);\n    },\n    data: function data() {\n        return {};\n    },\n\n    filters: {\n        code: function code(val) {\n            return codeHandler(val);\n        }\n    },\n    components: {}\n});\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_Pano_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <Pano\\n        @on-load=\"onLoad\"\\n        src=\"./../static/equirectangular.jpg\">\\n    </Pano>\\n</template>\\n\\n<script>\\n    import { Pano } from \\'vue-vr\\'\\n\\n    export default {\\n        components: {\\n            Pano\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <Pano\\n            @on-load=\"onLoad\"\\n            type=\\'cube\\'\\n            source=\"./../static/equirectangular.jpg\">\\n        </Pano>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-pano',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        Pano: __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_Pano_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <Pano\\n        @on-load=\"onLoad\"\\n        src=\"./../static/equirectangular.jpg\">\\n    </Pano>\\n</template>\\n\\n<script>\\n    import { Pano } from \\'vue-vr\\'\\n\\n    export default {\\n        components: {\\n            Pano\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <Pano\\n            @on-load=\"onLoad\"\\n            type=\\'cube\\'\\n            source=\"./../static/equirectangular.jpg\">\\n        </Pano>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-video-pano',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        Pano: __WEBPACK_IMPORTED_MODULE_1__src_Pano_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_panolens__ = __webpack_require__(70);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    source: {\n      type: String\n    },\n    type: {\n      type: String\n    },\n    width: {\n      type: Number\n    },\n    height: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      size: {\n        width: this.width,\n        height: this.height\n      },\n      viewer: null,\n      panorama: null\n    };\n  },\n  created: function created() {\n    window.addEventListener(\"resize\", this.onResize, false);\n  },\n  mounted: function mounted() {\n    if (this.width === undefined || this.height === undefined) {\n      this.size = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight\n      };\n    }\n\n    this.viewer = new __WEBPACK_IMPORTED_MODULE_1__lib_panolens__[\"a\" /* default */].Viewer({\n      container: this.$el\n    });\n\n    console.log(this.source);\n    this.loadPano();\n  },\n\n  watch: {\n    source: function source() {\n      if (!this.viewer) return;\n      if (!this.panorama) return;\n      this.loadPano();\n    }\n  },\n  methods: {\n    onResize: function onResize() {\n      var _this = this;\n\n      if (this.width === undefined || this.height === undefined) {\n        this.$nextTick(function () {\n          _this.size = {\n            width: _this.$el.offsetWidth,\n            height: _this.$el.offsetHeight\n          };\n        });\n      }\n    },\n    loadPano: function loadPano() {\n      if (!this.source) return;\n\n      switch (this.type) {\n        case 'cube':\n          var l = this.source.replace('%s', 'l');\n          var f = this.source.replace('%s', 'f');\n          var r = this.source.replace('%s', 'r');\n          var b = this.source.replace('%s', 'b');\n          var u = this.source.replace('%s', 'u');\n          var d = this.source.replace('%s', 'd');\n          this.panorama = new __WEBPACK_IMPORTED_MODULE_1__lib_panolens__[\"a\" /* default */].CubePanorama([r, l, u, d, f, b]);\n          break;\n        default:\n          this.panorama = new __WEBPACK_IMPORTED_MODULE_1__lib_panolens__[\"a\" /* default */].ImagePanorama(this.source);\n          break;\n      }\n\n      this.panorama.y = Math.PI / 2.;\n\n      this.viewer.add(this.panorama);\n      this.$emit(\"on-load\");\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process, module, global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_three__ = __webpack_require__(57);\nvar require;var require;\n\n\n\n\n\n\n\n\n\nvar PANOLENS = { REVISION: '9' };\n;\nvar enableInlineVideo = function () {\n\t\"use strict\";\n\n\tfunction e(e, i, n, r) {\n\t\tfunction t(n) {\n\t\t\td = i(t, r), e(n - (a || n)), a = n;\n\t\t}var d, a;return { start: function start() {\n\t\t\t\td || t(0);\n\t\t\t}, stop: function stop() {\n\t\t\t\tn(d), d = null, a = 0;\n\t\t\t} };\n\t}function i(i) {\n\t\treturn e(i, requestAnimationFrame, cancelAnimationFrame);\n\t}function n(e, i, n) {\n\t\tfunction r(r) {\n\t\t\tn && !n(e, i) || r.stopImmediatePropagation();\n\t\t}return e.addEventListener(i, r), r;\n\t}function r(e, i, n, r) {\n\t\tfunction t() {\n\t\t\treturn n[i];\n\t\t}function d(e) {\n\t\t\tn[i] = e;\n\t\t}r && d(e[i]), __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property___default()(e, i, { get: t, set: d });\n\t}function t(e, i, n) {\n\t\tn.addEventListener(i, function () {\n\t\t\treturn e.dispatchEvent(new Event(i));\n\t\t});\n\t}function d(e, i) {\n\t\t__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_promise___default.a.resolve().then(function () {\n\t\t\te.dispatchEvent(new Event(i));\n\t\t});\n\t}function a(e) {\n\t\tvar i = new Audio();return t(e, \"play\", i), t(e, \"playing\", i), t(e, \"pause\", i), i.crossOrigin = e.crossOrigin, i.src = e.src || e.currentSrc || \"data:\", i;\n\t}function u(e, i, n) {\n\t\t(m || 0) + 200 < Date.now() && (e[h] = !0, m = Date.now()), n || (e.currentTime = i), k[++T % 3] = 100 * i | 0;\n\t}function o(e) {\n\t\treturn e.driver.currentTime >= e.video.duration;\n\t}function s(e) {\n\t\tvar i = this;i.video.readyState >= i.video.HAVE_FUTURE_DATA ? (i.hasAudio || (i.driver.currentTime = i.video.currentTime + e * i.video.playbackRate / 1e3, i.video.loop && o(i) && (i.driver.currentTime = 0)), u(i.video, i.driver.currentTime)) : i.video.networkState === i.video.NETWORK_IDLE && 0 === i.video.buffered.length && i.video.load(), i.video.ended && (delete i.video[h], i.video.pause(!0));\n\t}function c() {\n\t\tvar e = this,\n\t\t    i = e[g];if (e.webkitDisplayingFullscreen) return void e[E]();\"data:\" !== i.driver.src && i.driver.src !== e.src && (u(e, 0, !0), i.driver.src = e.src), e.paused && (i.paused = !1, 0 === e.buffered.length && e.load(), i.driver.play(), i.updater.start(), i.hasAudio || (d(e, \"play\"), i.video.readyState >= i.video.HAVE_ENOUGH_DATA && d(e, \"playing\")));\n\t}function v(e) {\n\t\tvar i = this,\n\t\t    n = i[g];n.driver.pause(), n.updater.stop(), i.webkitDisplayingFullscreen && i[w](), n.paused && !e || (n.paused = !0, n.hasAudio || d(i, \"pause\"), i.ended && !i.webkitDisplayingFullscreen && (i[h] = !0, d(i, \"ended\")));\n\t}function p(e, n) {\n\t\tvar r = {};e[g] = r, r.paused = !0, r.hasAudio = n, r.video = e, r.updater = i(s.bind(r)), n ? r.driver = a(e) : (e.addEventListener(\"canplay\", function () {\n\t\t\te.paused || d(e, \"playing\");\n\t\t}), r.driver = { src: e.src || e.currentSrc || \"data:\", muted: !0, paused: !0, pause: function pause() {\n\t\t\t\tr.driver.paused = !0;\n\t\t\t}, play: function play() {\n\t\t\t\tr.driver.paused = !1, o(r) && u(e, 0);\n\t\t\t}, get ended() {\n\t\t\t\treturn o(r);\n\t\t\t} }), e.addEventListener(\"emptied\", function () {\n\t\t\tvar i = !r.driver.src || \"data:\" === r.driver.src;r.driver.src && r.driver.src !== e.src && (u(e, 0, !0), r.driver.src = e.src, i || !n && e.autoplay ? r.driver.play() : r.updater.stop());\n\t\t}, !1), e.addEventListener(\"webkitbeginfullscreen\", function () {\n\t\t\te.paused ? n && 0 === r.driver.buffered.length && r.driver.load() : (e.pause(), e[E]());\n\t\t}), n && (e.addEventListener(\"webkitendfullscreen\", function () {\n\t\t\tr.driver.currentTime = e.currentTime;\n\t\t}), e.addEventListener(\"seeking\", function () {\n\t\t\tk.indexOf(100 * e.currentTime | 0) < 0 && (r.driver.currentTime = e.currentTime);\n\t\t}));\n\t}function l(e) {\n\t\tvar i = e[h];return delete e[h], !e.webkitDisplayingFullscreen && !i;\n\t}function f(e) {\n\t\tvar i = e[g];e[E] = e.play, e[w] = e.pause, e.play = c, e.pause = v, r(e, \"paused\", i.driver), r(e, \"muted\", i.driver, !0), r(e, \"playbackRate\", i.driver, !0), r(e, \"ended\", i.driver), r(e, \"loop\", i.driver, !0), n(e, \"seeking\", function (e) {\n\t\t\treturn !e.webkitDisplayingFullscreen;\n\t\t}), n(e, \"seeked\", function (e) {\n\t\t\treturn !e.webkitDisplayingFullscreen;\n\t\t}), n(e, \"timeupdate\", l), n(e, \"ended\", l);\n\t}function y(e, i) {\n\t\tif (void 0 === i && (i = {}), !e[g]) {\n\t\t\tif (!i.everywhere) {\n\t\t\t\tif (!b) return;if (!(i.iPad || i.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) return;\n\t\t\t}e.pause();var n = e.autoplay;e.autoplay = !1, p(e, !e.muted), f(e), e.classList.add(\"IIV\"), e.muted && n && (e.play(), e.addEventListener(\"playing\", function i() {\n\t\t\t\te.autoplay = !0, e.removeEventListener(\"playing\", i);\n\t\t\t})), /iPhone|iPod|iPad/.test(navigator.platform) || console.warn(\"iphone-inline-video is not guaranteed to work in emulated environments\");\n\t\t}\n\t}var m,\n\t    b = \"object\" == (typeof document === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(document)) && \"object-fit\" in document.head.style && !matchMedia(\"(-webkit-video-playable-inline)\").matches,\n\t    g = \"bfred-it:iphone-inline-video\",\n\t    h = \"bfred-it:iphone-inline-video:event\",\n\t    E = \"bfred-it:iphone-inline-video:nativeplay\",\n\t    w = \"bfred-it:iphone-inline-video:nativepause\",\n\t    k = [],\n\t    T = 0;return y;\n}();\n;\n\nvar TWEEN = TWEEN || function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function getAll() {\n\n\t\t\treturn _tweens;\n\t\t},\n\n\t\tremoveAll: function removeAll() {\n\n\t\t\t_tweens = [];\n\t\t},\n\n\t\tadd: function add(tween) {\n\n\t\t\t_tweens.push(tween);\n\t\t},\n\n\t\tremove: function remove(tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\t\t},\n\n\t\tupdate: function update(time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t};\n}();\n\nif (typeof window === 'undefined' && typeof process !== 'undefined') {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n} else if (typeof window !== 'undefined' && window.performance !== undefined && window.performance.now !== undefined) {\n\t\tTWEEN.now = window.performance.now.bind(window.performance);\n\t} else if (Date.now !== undefined) {\n\t\t\tTWEEN.now = Date.now;\n\t\t} else {\n\t\t\t\tTWEEN.now = function () {\n\t\t\t\t\treturn new Date().getTime();\n\t\t\t\t};\n\t\t\t}\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _repeatDelayTime;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\tthis.to = function (properties, duration) {\n\n\t\t_valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\t\t\t}\n\n\t\t\tif (_object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif (_valuesStart[property] instanceof Array === false) {\n\t\t\t\t_valuesStart[property] *= 1.0;\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object, _object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\t};\n\n\tthis.end = function () {\n\n\t\tthis.update(_startTime + _duration);\n\t\treturn this;\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\t};\n\n\tthis.repeatDelay = function (amount) {\n\n\t\t_repeatDelayTime = amount;\n\t\treturn this;\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\t};\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object, _object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\t\t\t} else {\n\t\t\t\tif (typeof end === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof end === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof _valuesEnd[property] === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\tif (_repeatDelayTime !== undefined) {\n\t\t\t\t\t_startTime = time + _repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\t_startTime = time + _delayTime;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\n\t\t\t\t\t_onCompleteCallback.call(_object, _object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n};\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function None(k) {\n\n\t\t\treturn k;\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn k * k;\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn k * (2 - k);\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn -0.5 * (--k * (k - 2) - 1);\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn k * k * k;\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn --k * k * k + 1;\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn k * k * k * k;\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn 1 - --k * k * k * k;\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn -0.5 * ((k -= 2) * k * k * k - 2);\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn k * k * k * k * k;\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\treturn Math.sqrt(1 - --k * k);\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn -0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function In(k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function In(k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function In(k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\t\t},\n\n\t\tOut: function Out(k) {\n\n\t\t\tif (k < 1 / 2.75) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < 2 / 2.75) {\n\t\t\t\treturn 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n\t\t\t} else if (k < 2.5 / 2.75) {\n\t\t\t\treturn 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n\t\t\t}\n\t\t},\n\n\t\tInOut: function InOut(k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function Linear(v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\t},\n\n\tBezier: function Bezier(v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\t},\n\n\tCatmullRom: function CatmullRom(v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\t\t}\n\t},\n\n\tUtils: {\n\n\t\tLinear: function Linear(p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\t\t},\n\n\t\tBernstein: function Bernstein(n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\t\t},\n\n\t\tFactorial: function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\t\t\t};\n\t\t}(),\n\n\t\tCatmullRom: function CatmullRom(p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\t\t}\n\n\t}\n\n};\n\n(function (root) {\n\n\tif (typeof define === 'function' && __webpack_require__(319)) {\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\t} else if (typeof module !== 'undefined' && (typeof exports === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_typeof___default()(exports)) === 'object') {\n\t\tmodule.exports = TWEEN;\n\t} else if (root !== undefined) {\n\t\troot.TWEEN = TWEEN;\n\t}\n})(this);\n;\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"OrbitControls\"] = function (object, domElement) {\n\n\tthis.object = object;\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\tthis.frameId;\n\n\tthis.enabled = true;\n\n\tthis.target = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\n\tthis.center = this.target;\n\n\tthis.noZoom = false;\n\tthis.zoomSpeed = 1.0;\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\tthis.noRotate = false;\n\tthis.rotateSpeed = -0.15;\n\n\tthis.noPan = true;\n\tthis.keyPanSpeed = 7.0;\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0;\n\tthis.minPolarAngle = 0;\n\tthis.maxPolarAngle = Math.PI;\n\tthis.momentumDampingFactor = 0.90;\n\tthis.momentumScalingFactor = -0.005;\n\tthis.momentumKeydownFactor = 20;\n\n\tthis.minFov = 30;\n\tthis.maxFov = 120;\n\n\tthis.minAzimuthAngle = -Infinity;\n\tthis.maxAzimuthAngle = Infinity;\n\tthis.noKeys = false;\n\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\tthis.mouseButtons = { ORBIT: __WEBPACK_IMPORTED_MODULE_8_three__[\"MOUSE\"].LEFT, ZOOM: __WEBPACK_IMPORTED_MODULE_8_three__[\"MOUSE\"].MIDDLE, PAN: __WEBPACK_IMPORTED_MODULE_8_three__[\"MOUSE\"].RIGHT };\n\n\tvar scope = this;\n\n\tvar EPS = 10e-8;\n\tvar MEPS = 10e-5;\n\n\tvar rotateStart = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar rotateEnd = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar rotateDelta = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\n\tvar panStart = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar panEnd = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar panDelta = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar panOffset = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\n\tvar offset = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\n\tvar dollyStart = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar dollyEnd = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar dollyDelta = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\n\tvar theta;\n\tvar phi;\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar pan = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\n\tvar lastPosition = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\tvar lastQuaternion = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\n\tvar momentumLeft = 0,\n\t    momentumUp = 0;\n\tvar eventCurrent, eventPrevious;\n\tvar momentumOn = false;\n\n\tvar keyUp, keyBottom, keyLeft, keyRight;\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\tvar quat = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]().setFromUnitVectors(object.up, new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 1, 0));\n\tvar quatInverse = quat.clone().inverse();\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tthis.setLastQuaternion = function (quaternion) {\n\t\tlastQuaternion.copy(quaternion);\n\t\tscope.object.quaternion.copy(quaternion);\n\t};\n\n\tthis.getLastPosition = function () {\n\t\treturn lastPosition;\n\t};\n\n\tthis.rotateLeft = function (angle) {\n\n\t\tif (angle === undefined) {\n\n\t\t\tangle = getAutoRotationAngle();\n\t\t}\n\n\t\tthetaDelta -= angle;\n\t};\n\n\tthis.rotateUp = function (angle) {\n\n\t\tif (angle === undefined) {\n\n\t\t\tangle = getAutoRotationAngle();\n\t\t}\n\n\t\tphiDelta -= angle;\n\t};\n\n\tthis.panLeft = function (distance) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\tpanOffset.set(te[0], te[1], te[2]);\n\t\tpanOffset.multiplyScalar(-distance);\n\n\t\tpan.add(panOffset);\n\t};\n\n\tthis.panUp = function (distance) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\tpanOffset.set(te[4], te[5], te[6]);\n\t\tpanOffset.multiplyScalar(distance);\n\n\t\tpan.add(panOffset);\n\t};\n\n\tthis.pan = function (deltaX, deltaY) {\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"PerspectiveCamera\"]) {\n\t\t\tvar position = scope.object.position;\n\t\t\tvar offset = position.clone().sub(scope.target);\n\t\t\tvar targetDistance = offset.length();\n\n\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\tscope.panLeft(2 * deltaX * targetDistance / element.clientHeight);\n\t\t\tscope.panUp(2 * deltaY * targetDistance / element.clientHeight);\n\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"OrthographicCamera\"]) {\n\t\t\tscope.panLeft(deltaX * (scope.object.right - scope.object.left) / element.clientWidth);\n\t\t\tscope.panUp(deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight);\n\t\t} else {\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t}\n\t};\n\n\tthis.momentum = function () {\n\n\t\tif (!momentumOn) return;\n\n\t\tif (Math.abs(momentumLeft) < MEPS && Math.abs(momentumUp) < MEPS) {\n\n\t\t\tmomentumOn = false;\n\t\t\treturn;\n\t\t}\n\n\t\tmomentumUp *= this.momentumDampingFactor;\n\t\tmomentumLeft *= this.momentumDampingFactor;\n\n\t\tthetaDelta -= this.momentumScalingFactor * momentumLeft;\n\t\tphiDelta -= this.momentumScalingFactor * momentumUp;\n\t};\n\n\tthis.dollyIn = function (dollyScale) {\n\n\t\tif (dollyScale === undefined) {\n\n\t\t\tdollyScale = getZoomScale();\n\t\t}\n\n\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"PerspectiveCamera\"]) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"OrthographicCamera\"]) {\n\n\t\t\tscope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent(changeEvent);\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t}\n\t};\n\n\tthis.dollyOut = function (dollyScale) {\n\n\t\tif (dollyScale === undefined) {\n\n\t\t\tdollyScale = getZoomScale();\n\t\t}\n\n\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"PerspectiveCamera\"]) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_8_three__[\"OrthographicCamera\"]) {\n\n\t\t\tscope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent(changeEvent);\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t}\n\t};\n\n\tthis.update = function (ignoreUpdate) {\n\n\t\tvar position = this.object.position;\n\n\t\toffset.copy(position).sub(this.target);\n\n\t\toffset.applyQuaternion(quat);\n\n\t\ttheta = Math.atan2(offset.x, offset.z);\n\n\t\tphi = Math.atan2(Math.sqrt(offset.x * offset.x + offset.z * offset.z), offset.y);\n\n\t\tif (this.autoRotate && state === STATE.NONE) {\n\n\t\t\tthis.rotateLeft(getAutoRotationAngle());\n\t\t}\n\n\t\tthis.momentum();\n\n\t\ttheta += thetaDelta;\n\t\tphi += phiDelta;\n\n\t\ttheta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, theta));\n\n\t\tphi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, phi));\n\n\t\tphi = Math.max(EPS, Math.min(Math.PI - EPS, phi));\n\n\t\tvar radius = offset.length() * scale;\n\n\t\tradius = Math.max(this.minDistance, Math.min(this.maxDistance, radius));\n\n\t\tthis.target.add(pan);\n\n\t\toffset.x = radius * Math.sin(phi) * Math.sin(theta);\n\t\toffset.y = radius * Math.cos(phi);\n\t\toffset.z = radius * Math.sin(phi) * Math.cos(theta);\n\n\t\toffset.applyQuaternion(quatInverse);\n\n\t\tposition.copy(this.target).add(offset);\n\n\t\tthis.object.lookAt(this.target);\n\n\t\tthetaDelta = 0;\n\t\tphiDelta = 0;\n\t\tscale = 1;\n\t\tpan.set(0, 0, 0);\n\n\t\tif (lastPosition.distanceToSquared(this.object.position) > EPS || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS) {\n\n\t\t\tignoreUpdate !== true && this.dispatchEvent(changeEvent);\n\n\t\t\tlastPosition.copy(this.object.position);\n\t\t\tlastQuaternion.copy(this.object.quaternion);\n\t\t}\n\t};\n\n\tthis.reset = function () {\n\n\t\tstate = STATE.NONE;\n\n\t\tthis.target.copy(this.target0);\n\t\tthis.object.position.copy(this.position0);\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent(changeEvent);\n\n\t\tthis.update();\n\t};\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn theta;\n\t};\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction onMouseDown(event) {\n\n\t\tmomentumOn = false;\n\n\t\tmomentumLeft = momentumUp = 0;\n\n\t\tif (scope.enabled === false) return;\n\t\tevent.preventDefault();\n\n\t\tif (event.button === scope.mouseButtons.ORBIT) {\n\t\t\tif (scope.noRotate === true) return;\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t\trotateStart.set(event.clientX, event.clientY);\n\t\t} else if (event.button === scope.mouseButtons.ZOOM) {\n\t\t\tif (scope.noZoom === true) return;\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t\tdollyStart.set(event.clientX, event.clientY);\n\t\t} else if (event.button === scope.mouseButtons.PAN) {\n\t\t\tif (scope.noPan === true) return;\n\n\t\t\tstate = STATE.PAN;\n\n\t\t\tpanStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif (state === STATE.ROTATE) {\n\n\t\t\tif (scope.noRotate === true) return;\n\n\t\t\trotateEnd.set(event.clientX, event.clientY);\n\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\tscope.rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\tscope.rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\tif (eventPrevious) {\n\t\t\t\tmomentumLeft = event.clientX - eventPrevious.clientX;\n\t\t\t\tmomentumUp = event.clientY - eventPrevious.clientY;\n\t\t\t}\n\n\t\t\teventPrevious = event;\n\t\t} else if (state === STATE.DOLLY) {\n\n\t\t\tif (scope.noZoom === true) return;\n\n\t\t\tdollyEnd.set(event.clientX, event.clientY);\n\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\tscope.dollyIn();\n\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\tscope.dollyOut();\n\t\t\t}\n\n\t\t\tdollyStart.copy(dollyEnd);\n\t\t} else if (state === STATE.PAN) {\n\n\t\t\tif (scope.noPan === true) return;\n\n\t\t\tpanEnd.set(event.clientX, event.clientY);\n\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\tscope.pan(panDelta.x, panDelta.y);\n\n\t\t\tpanStart.copy(panEnd);\n\t\t}\n\n\t\tif (state !== STATE.NONE) scope.update();\n\t}\n\n\tfunction onMouseUp() {\n\n\t\tmomentumOn = true;\n\n\t\teventPrevious = undefined;\n\n\t\tif (scope.enabled === false) return;\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\t\tscope.dispatchEvent(endEvent);\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.noZoom === true || state !== STATE.NONE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif (event.wheelDelta !== undefined) {\n\n\t\t\tdelta = event.wheelDelta;\n\t\t} else if (event.detail !== undefined) {\n\n\t\t\tdelta = -event.detail;\n\t\t}\n\n\t\tif (delta > 0) {\n\t\t\tscope.object.fov = scope.object.fov < scope.maxFov ? scope.object.fov + 1 : scope.maxFov;\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t} else if (delta < 0) {\n\t\t\tscope.object.fov = scope.object.fov > scope.minFov ? scope.object.fov - 1 : scope.minFov;\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t}\n\n\t\tscope.update();\n\t\tscope.dispatchEvent(changeEvent);\n\t\tscope.dispatchEvent(startEvent);\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyUp(event) {\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tkeyUp = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tkeyBottom = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tkeyLeft = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tkeyRight = false;\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.noKeys === true || scope.noRotate === true) return;\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tkeyUp = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tkeyBottom = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tkeyLeft = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tkeyRight = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (keyUp || keyBottom || keyLeft || keyRight) {\n\n\t\t\tmomentumOn = true;\n\n\t\t\tif (keyUp) momentumUp = -scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyBottom) momentumUp = scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyLeft) momentumLeft = -scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyRight) momentumLeft = scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t}\n\t}\n\n\tfunction touchstart(event) {\n\n\t\tmomentumOn = false;\n\n\t\tmomentumLeft = momentumUp = 0;\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.noRotate === true) return;\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.noZoom === true) return;\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.noPan === true) return;\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) scope.dispatchEvent(startEvent);\n\t}\n\n\tfunction touchmove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.noRotate === true) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return;\n\n\t\t\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tscope.rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\t\tscope.rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tif (eventPrevious) {\n\t\t\t\t\tmomentumLeft = event.touches[0].pageX - eventPrevious.pageX;\n\t\t\t\t\tmomentumUp = event.touches[0].pageY - eventPrevious.pageY;\n\t\t\t\t}\n\n\t\t\t\teventPrevious = {\n\t\t\t\t\tpageX: event.touches[0].pageX,\n\t\t\t\t\tpageY: event.touches[0].pageY\n\t\t\t\t};\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.noZoom === true) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return;\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tif (event.scale < 1) {\n\n\t\t\t\t\tscope.object.fov = scope.object.fov < scope.maxFov ? scope.object.fov + 1 : scope.maxFov;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t} else if (event.scale > 1) {\n\n\t\t\t\t\tscope.object.fov = scope.object.fov > scope.minFov ? scope.object.fov - 1 : scope.minFov;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t}\n\n\t\t\t\tscope.update();\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.noPan === true) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return;\n\n\t\t\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tscope.pan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction touchend() {\n\n\t\tmomentumOn = true;\n\n\t\teventPrevious = undefined;\n\n\t\tif (scope.enabled === false) return;\n\n\t\tscope.dispatchEvent(endEvent);\n\t\tstate = STATE.NONE;\n\t}\n\n\tthis.domElement.addEventListener('mousedown', onMouseDown, false);\n\tthis.domElement.addEventListener('mousewheel', onMouseWheel, false);\n\tthis.domElement.addEventListener('DOMMouseScroll', onMouseWheel, false);\n\n\tthis.domElement.addEventListener('touchstart', touchstart, false);\n\tthis.domElement.addEventListener('touchend', touchend, false);\n\tthis.domElement.addEventListener('touchmove', touchmove, false);\n\n\twindow.addEventListener('keyup', onKeyUp, false);\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\tthis.update();\n};\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"OrbitControls\"].prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].prototype);\n__WEBPACK_IMPORTED_MODULE_8_three__[\"OrbitControls\"].prototype.constructor = __WEBPACK_IMPORTED_MODULE_8_three__[\"OrbitControls\"];;\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"DeviceOrientationControls\"] = function (camera, domElement) {\n\n\tvar scope = this;\n\tvar changeEvent = { type: 'change' };\n\n\tvar rotY = 0;\n\tvar rotX = 0;\n\tvar tempX = 0;\n\tvar tempY = 0;\n\n\tthis.camera = camera;\n\tthis.camera.rotation.reorder(\"YXZ\");\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\tthis.enabled = true;\n\n\tthis.deviceOrientation = {};\n\tthis.screenOrientation = 0;\n\n\tthis.alpha = 0;\n\tthis.alphaOffsetAngle = 0;\n\n\tvar onDeviceOrientationChangeEvent = function onDeviceOrientationChangeEvent(event) {\n\n\t\tscope.deviceOrientation = event;\n\t};\n\n\tvar onScreenOrientationChangeEvent = function onScreenOrientationChangeEvent() {\n\n\t\tscope.screenOrientation = window.orientation || 0;\n\t};\n\n\tvar onTouchStartEvent = function onTouchStartEvent(event) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\ttempX = event.touches[0].pageX;\n\t\ttempY = event.touches[0].pageY;\n\t};\n\n\tvar onTouchMoveEvent = function onTouchMoveEvent(event) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\trotY += __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad((event.touches[0].pageX - tempX) / 4);\n\t\trotX += __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad((tempY - event.touches[0].pageY) / 4);\n\n\t\tscope.updateAlphaOffsetAngle(rotY);\n\n\t\ttempX = event.touches[0].pageX;\n\t\ttempY = event.touches[0].pageY;\n\t};\n\n\tvar setCameraQuaternion = function setCameraQuaternion(quaternion, alpha, beta, gamma, orient) {\n\n\t\tvar zee = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 0, 1);\n\n\t\tvar euler = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Euler\"]();\n\n\t\tvar q0 = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\n\t\tvar q1 = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"](-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5));\n\n\t\tvar vectorFingerY;\n\t\tvar fingerQY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\t\tvar fingerQX = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\n\t\tif (scope.screenOrientation == 0) {\n\n\t\t\tvectorFingerY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](1, 0, 0);\n\t\t\tfingerQY.setFromAxisAngle(vectorFingerY, -rotX);\n\t\t} else if (scope.screenOrientation == 180) {\n\n\t\t\tvectorFingerY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](1, 0, 0);\n\t\t\tfingerQY.setFromAxisAngle(vectorFingerY, rotX);\n\t\t} else if (scope.screenOrientation == 90) {\n\n\t\t\tvectorFingerY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 1, 0);\n\t\t\tfingerQY.setFromAxisAngle(vectorFingerY, rotX);\n\t\t} else if (scope.screenOrientation == -90) {\n\n\t\t\tvectorFingerY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 1, 0);\n\t\t\tfingerQY.setFromAxisAngle(vectorFingerY, -rotX);\n\t\t}\n\n\t\tq1.multiply(fingerQY);\n\t\tq1.multiply(fingerQX);\n\n\t\teuler.set(beta, alpha, -gamma, 'YXZ');\n\n\t\tquaternion.setFromEuler(euler);\n\n\t\tquaternion.multiply(q1);\n\n\t\tquaternion.multiply(q0.setFromAxisAngle(zee, -orient));\n\t};\n\n\tthis.connect = function () {\n\n\t\tonScreenOrientationChangeEvent();\n\n\t\twindow.addEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n\t\twindow.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n\t\twindow.addEventListener('deviceorientation', this.update.bind(this), false);\n\n\t\tscope.domElement.addEventListener(\"touchstart\", onTouchStartEvent, false);\n\t\tscope.domElement.addEventListener(\"touchmove\", onTouchMoveEvent, false);\n\n\t\tscope.enabled = true;\n\t};\n\n\tthis.disconnect = function () {\n\n\t\twindow.removeEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n\t\twindow.removeEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n\t\twindow.removeEventListener('deviceorientation', this.update.bind(this), false);\n\n\t\tscope.domElement.removeEventListener(\"touchstart\", onTouchStartEvent, false);\n\t\tscope.domElement.removeEventListener(\"touchmove\", onTouchMoveEvent, false);\n\n\t\tscope.enabled = false;\n\t};\n\n\tthis.update = function (ignoreUpdate) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tvar alpha = scope.deviceOrientation.alpha ? __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(scope.deviceOrientation.alpha) + this.alphaOffsetAngle : 0;\n\t\tvar beta = scope.deviceOrientation.beta ? __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(scope.deviceOrientation.beta) : 0;\n\t\tvar gamma = scope.deviceOrientation.gamma ? __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(scope.deviceOrientation.gamma) : 0;\n\t\tvar orient = scope.screenOrientation ? __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(scope.screenOrientation) : 0;\n\n\t\tsetCameraQuaternion(scope.camera.quaternion, alpha, beta, gamma, orient);\n\t\tthis.alpha = alpha;\n\n\t\tignoreUpdate !== true && this.dispatchEvent(changeEvent);\n\t};\n\n\tthis.updateAlphaOffsetAngle = function (angle) {\n\n\t\tthis.alphaOffsetAngle = angle;\n\t\tthis.update();\n\t};\n\n\tthis.dispose = function () {\n\n\t\tthis.disconnect();\n\t};\n\n\tthis.connect();\n};\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"DeviceOrientationControls\"].prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].prototype);\n__WEBPACK_IMPORTED_MODULE_8_three__[\"DeviceOrientationControls\"].prototype.constructor = __WEBPACK_IMPORTED_MODULE_8_three__[\"DeviceOrientationControls\"];;\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"BendModifier\"] = function () {};\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"BendModifier\"].prototype = {\n\n\tconstructor: __WEBPACK_IMPORTED_MODULE_8_three__[\"BendModifier\"],\n\n\tset: function set(direction, axis, angle) {\n\t\tthis.direction = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();this.direction.copy(direction);\n\t\tthis.axis = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();this.axis.copy(axis);\n\t\tthis.angle = angle;\n\t\treturn this;\n\t},\n\n\t_sign: function _sign(a) {\n\t\treturn 0 > a ? -1 : 0 < a ? 1 : 0;\n\t},\n\n\t_cosh: function _cosh(x) {\n\t\treturn (Math.exp(x) + Math.exp(-x)) / 2;\n\t},\n\n\t_sinhInverse: function _sinhInverse(x) {\n\t\treturn Math.log(Math.abs(x) + Math.sqrt(x * x + 1));\n\t},\n\n\tmodify: function modify(geometry) {\n\n\t\tvar thirdAxis = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();thirdAxis.crossVectors(this.direction, this.axis);\n\n\t\tvar P = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Matrix4\"]();\n\t\tP.set(thirdAxis.x, thirdAxis.y, thirdAxis.z, 0, this.direction.x, this.direction.y, this.direction.z, 0, this.axis.x, this.axis.y, this.axis.z, 0, 0, 0, 0, 1).transpose();\n\n\t\tvar InverseP = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Matrix4\"]().getInverse(P);\n\t\tvar newVertices = [];var oldVertices = [];var anglesBetweenOldandNewVertices = [];\n\n\t\tvar meshGeometryBoundingBoxMaxx = 0;var meshGeometryBoundingBoxMinx = 0;\n\t\tvar meshGeometryBoundingBoxMaxy = 0;var meshGeometryBoundingBoxMiny = 0;\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++) {\n\n\t\t\tnewVertices[i] = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();newVertices[i].copy(geometry.vertices[i]).applyMatrix4(InverseP);\n\t\t\tif (newVertices[i].x > meshGeometryBoundingBoxMaxx) {\n\t\t\t\tmeshGeometryBoundingBoxMaxx = newVertices[i].x;\n\t\t\t}\n\t\t\tif (newVertices[i].x < meshGeometryBoundingBoxMinx) {\n\t\t\t\tmeshGeometryBoundingBoxMinx = newVertices[i].x;\n\t\t\t}\n\t\t\tif (newVertices[i].y > meshGeometryBoundingBoxMaxy) {\n\t\t\t\tmeshGeometryBoundingBoxMaxy = newVertices[i].y;\n\t\t\t}\n\t\t\tif (newVertices[i].y < meshGeometryBoundingBoxMiny) {\n\t\t\t\tmeshGeometryBoundingBoxMiny = newVertices[i].y;\n\t\t\t}\n\t\t}\n\n\t\tvar meshWidthold = meshGeometryBoundingBoxMaxx - meshGeometryBoundingBoxMinx;\n\t\tvar meshDepth = meshGeometryBoundingBoxMaxy - meshGeometryBoundingBoxMiny;\n\t\tvar ParamB = 2 * this._sinhInverse(Math.tan(this.angle)) / meshWidthold;\n\t\tvar oldMiddlex = (meshGeometryBoundingBoxMaxx + meshGeometryBoundingBoxMinx) / 2;\n\t\tvar oldMiddley = (meshGeometryBoundingBoxMaxy + meshGeometryBoundingBoxMiny) / 2;\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++) {\n\n\t\t\toldVertices[i] = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();oldVertices[i].copy(newVertices[i]);\n\t\t\tnewVertices[i].x = this._sign(newVertices[i].x - oldMiddlex) * 1 / ParamB * this._sinhInverse((newVertices[i].x - oldMiddlex) * ParamB);\n\t\t}\n\n\t\tvar meshWidth = 2 / ParamB * this._sinhInverse(meshWidthold / 2 * ParamB);\n\n\t\tvar NewParamB = 2 * this._sinhInverse(Math.tan(this.angle)) / meshWidth;\n\n\t\tvar rightEdgePos = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](meshWidth / 2, -meshDepth / 2, 0);\n\t\trightEdgePos.y = 1 / NewParamB * this._cosh(NewParamB * rightEdgePos.x) - 1 / NewParamB - meshDepth / 2;\n\n\t\tvar bendCenter = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, rightEdgePos.y + rightEdgePos.x / Math.tan(this.angle), 0);\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++) {\n\n\t\t\tvar x0 = this._sign(oldVertices[i].x - oldMiddlex) * 1 / ParamB * this._sinhInverse((oldVertices[i].x - oldMiddlex) * ParamB);\n\t\t\tvar y0 = 1 / NewParamB * this._cosh(NewParamB * x0) - 1 / NewParamB;\n\n\t\t\tvar k = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](bendCenter.x - x0, bendCenter.y - (y0 - meshDepth / 2), bendCenter.z).normalize();\n\n\t\t\tvar Q = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();\n\t\t\tQ.addVectors(new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](x0, y0 - meshDepth / 2, oldVertices[i].z), k.multiplyScalar(oldVertices[i].y + meshDepth / 2));\n\t\t\tnewVertices[i].x = Q.x;newVertices[i].y = Q.y;\n\t\t}\n\n\t\tvar middle = oldMiddlex * meshWidth / meshWidthold;\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++) {\n\n\t\t\tvar O = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](oldMiddlex, oldMiddley, oldVertices[i].z);\n\t\t\tvar p = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();p.subVectors(oldVertices[i], O);\n\t\t\tvar q = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"]();q.subVectors(newVertices[i], O);\n\n\t\t\tanglesBetweenOldandNewVertices[i] = Math.acos(1 / this._cosh(ParamB * newVertices[i].x)) * this._sign(newVertices[i].x);\n\n\t\t\tnewVertices[i].x = newVertices[i].x + middle;\n\t\t\tgeometry.vertices[i].copy(newVertices[i].applyMatrix4(P));\n\t\t}\n\n\t\tgeometry.computeFaceNormals();\n\t\tgeometry.verticesNeedUpdate = true;\n\t\tgeometry.normalsNeedUpdate = true;\n\n\t\tvar fvNames = ['a', 'b', 'c', 'd'];\n\n\t\tfor (var f = 0, fl = geometry.faces.length; f < fl; f++) {\n\n\t\t\tvar face = geometry.faces[f];\n\t\t\tif (face.vertexNormals === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (var v = 0, vl = face.vertexNormals.length; v < vl; v++) {\n\n\t\t\t\tvar angle = anglesBetweenOldandNewVertices[face[fvNames[v]]];\n\t\t\t\tvar x = this.axis.x,\n\t\t\t\t    y = this.axis.y,\n\t\t\t\t    z = this.axis.z;\n\n\t\t\t\tvar rotateMatrix = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Matrix3\"]();\n\t\t\t\trotateMatrix.set(Math.cos(angle) + (1 - Math.cos(angle)) * x * x, (1 - Math.cos(angle)) * x * y - Math.sin(angle) * z, (1 - Math.cos(angle)) * x * z + Math.sin(angle) * y, (1 - Math.cos(angle)) * y * x + Math.sin(angle) * z, Math.cos(angle) + (1 - Math.cos(angle)) * y * y, (1 - Math.cos(angle)) * y * z - Math.sin(angle) * x, (1 - Math.cos(angle)) * z * x - Math.sin(angle) * y, (1 - Math.cos(angle)) * z * y + Math.sin(angle) * x, Math.cos(angle) + (1 - Math.cos(angle)) * z * z);\n\n\t\t\t\tface.vertexNormals[v].applyMatrix3(rotateMatrix);\n\t\t\t}\n\t\t}\n\n\n\t\treturn this;\n\t}\n};\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"CardboardEffect\"] = function (renderer) {\n\n\tvar _camera = new __WEBPACK_IMPORTED_MODULE_8_three__[\"OrthographicCamera\"](-1, 1, 1, -1, 0, 1);\n\n\tvar _scene = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Scene\"]();\n\n\tvar _stereo = new __WEBPACK_IMPORTED_MODULE_8_three__[\"StereoCamera\"]();\n\t_stereo.aspect = 0.5;\n\n\tvar _params = { minFilter: __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"], magFilter: __WEBPACK_IMPORTED_MODULE_8_three__[\"NearestFilter\"], format: __WEBPACK_IMPORTED_MODULE_8_three__[\"RGBAFormat\"] };\n\n\tvar _renderTarget = new __WEBPACK_IMPORTED_MODULE_8_three__[\"WebGLRenderTarget\"](512, 512, _params);\n\t_renderTarget.scissorTest = true;\n\t_renderTarget.texture.generateMipmaps = false;\n\n\tvar distortion = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"](0.441, 0.156);\n\n\tvar geometry = new __WEBPACK_IMPORTED_MODULE_8_three__[\"PlaneBufferGeometry\"](1, 1, 10, 20).removeAttribute('normal').toNonIndexed();\n\n\tvar positions = geometry.attributes.position.array;\n\tvar uvs = geometry.attributes.uv.array;\n\n\tgeometry.attributes.position.count *= 2;\n\tgeometry.attributes.uv.count *= 2;\n\n\tvar positions2 = new Float32Array(positions.length * 2);\n\tpositions2.set(positions);\n\tpositions2.set(positions, positions.length);\n\n\tvar uvs2 = new Float32Array(uvs.length * 2);\n\tuvs2.set(uvs);\n\tuvs2.set(uvs, uvs.length);\n\n\tvar vector = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\tvar length = positions.length / 3;\n\n\tfor (var i = 0, l = positions2.length / 3; i < l; i++) {\n\n\t\tvector.x = positions2[i * 3 + 0];\n\t\tvector.y = positions2[i * 3 + 1];\n\n\t\tvar dot = vector.dot(vector);\n\t\tvar scalar = 1.5 + (distortion.x + distortion.y * dot) * dot;\n\n\t\tvar offset = i < length ? 0 : 1;\n\n\t\tpositions2[i * 3 + 0] = vector.x / scalar * 1.5 - 0.5 + offset;\n\t\tpositions2[i * 3 + 1] = vector.y / scalar * 3.0;\n\n\t\tuvs2[i * 2] = (uvs2[i * 2] + offset) * 0.5;\n\t}\n\n\tgeometry.attributes.position.array = positions2;\n\tgeometry.attributes.uv.array = uvs2;\n\n\tvar material = new __WEBPACK_IMPORTED_MODULE_8_three__[\"MeshBasicMaterial\"]({ map: _renderTarget.texture });\n\tvar mesh = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"](geometry, material);\n\t_scene.add(mesh);\n\n\tthis.setSize = function (width, height) {\n\n\t\trenderer.setSize(width, height);\n\n\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t_renderTarget.setSize(width * pixelRatio, height * pixelRatio);\n\t};\n\n\tthis.render = function (scene, camera) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t_stereo.update(camera);\n\n\t\tvar width = _renderTarget.width / 2;\n\t\tvar height = _renderTarget.height;\n\n\t\t_renderTarget.scissor.set(0, 0, width, height);\n\t\t_renderTarget.viewport.set(0, 0, width, height);\n\t\trenderer.render(scene, _stereo.cameraL, _renderTarget);\n\n\t\t_renderTarget.scissor.set(width, 0, width, height);\n\t\t_renderTarget.viewport.set(width, 0, width, height);\n\t\trenderer.render(scene, _stereo.cameraR, _renderTarget);\n\n\t\trenderer.render(_scene, _camera);\n\t};\n};;\n\n__WEBPACK_IMPORTED_MODULE_8_three__[\"StereoEffect\"] = function (renderer) {\n\n\tvar _stereo = new __WEBPACK_IMPORTED_MODULE_8_three__[\"StereoCamera\"]();\n\t_stereo.aspect = 0.5;\n\n\tthis.setEyeSeparation = function (eyeSep) {\n\n\t\t_stereo.eyeSep = eyeSep;\n\t};\n\n\tthis.setSize = function (width, height) {\n\n\t\trenderer.setSize(width, height);\n\t};\n\n\tthis.render = function (scene, camera) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t_stereo.update(camera);\n\n\t\tvar size = renderer.getSize();\n\n\t\tif (renderer.autoClear) renderer.clear();\n\t\trenderer.setScissorTest(true);\n\n\t\trenderer.setScissor(0, 0, size.width / 2, size.height);\n\t\trenderer.setViewport(0, 0, size.width / 2, size.height);\n\t\trenderer.render(scene, _stereo.cameraL);\n\n\t\trenderer.setScissor(size.width / 2, 0, size.width / 2, size.height);\n\t\trenderer.setViewport(size.width / 2, 0, size.width / 2, size.height);\n\t\trenderer.render(scene, _stereo.cameraR);\n\n\t\trenderer.setScissorTest(false);\n\t};\n};\n;var GSVPANO = GSVPANO || {};\nGSVPANO.PanoLoader = function (parameters) {\n\n\t'use strict';\n\n\tvar _parameters = parameters || {},\n\t    _location,\n\t    _zoom,\n\t    _panoId,\n\t    _panoClient = new google.maps.StreetViewService(),\n\t    _count = 0,\n\t    _total = 0,\n\t    _canvas = [],\n\t    _ctx = [],\n\t    _wc = 0,\n\t    _hc = 0,\n\t    result = null,\n\t    rotation = 0,\n\t    copyright = '',\n\t    onSizeChange = null,\n\t    onPanoramaLoad = null;\n\n\tvar levelsW = [1, 2, 4, 7, 13, 26],\n\t    levelsH = [1, 1, 2, 4, 7, 13];\n\n\tvar widths = [416, 832, 1664, 3328, 6656, 13312],\n\t    heights = [416, 416, 832, 1664, 3328, 6656];\n\n\tvar gl = null;\n\ttry {\n\t\tvar canvas = document.createElement('canvas');\n\t\tgl = canvas.getContext('experimental-webgl');\n\t\tif (gl == null) {\n\t\t\tgl = canvas.getContext('webgl');\n\t\t}\n\t} catch (error) {}\n\n\tvar maxW = 1024,\n\t    maxH = 1024;\n\n\tif (gl) {\n\t\tvar maxTexSize = Math.max(gl.getParameter(gl.MAX_TEXTURE_SIZE), 6656);\n\n\t\tmaxW = maxH = maxTexSize;\n\t}\n\n\tthis.setProgress = function (loaded, total) {\n\n\t\tif (this.onProgress) {\n\t\t\tthis.onProgress({ loaded: loaded, total: total });\n\t\t}\n\t};\n\n\tthis.throwError = function (message) {\n\n\t\tif (this.onError) {\n\t\t\tthis.onError(message);\n\t\t} else {\n\t\t\tconsole.error(message);\n\t\t}\n\t};\n\n\tthis.adaptTextureToZoom = function () {\n\n\t\tvar w = levelsW[_zoom] * 416,\n\t\t    h = levelsH[_zoom] * 416;\n\n\t\tw = widths[_zoom];\n\t\th = heights[_zoom];\n\n\t\t_wc = Math.ceil(w / maxW);\n\t\t_hc = Math.ceil(h / maxH);\n\n\t\t_canvas = [];_ctx = [];\n\n\t\tvar ptr = 0;\n\t\tfor (var y = 0; y < _hc; y++) {\n\t\t\tfor (var x = 0; x < _wc; x++) {\n\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\tif (x < _wc - 1) c.width = maxW;else c.width = w - maxW * x;\n\t\t\t\tif (y < _hc - 1) c.height = maxH;else c.height = h - maxH * y;\n\t\t\t\t_canvas.push(c);\n\t\t\t\t_ctx.push(c.getContext('2d'));\n\t\t\t\tptr++;\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.composeFromTile = function (x, y, texture) {\n\n\t\tx *= 512;\n\t\ty *= 512;\n\t\tvar px = Math.floor(x / maxW),\n\t\t    py = Math.floor(y / maxH);\n\n\t\tx -= px * maxW;\n\t\ty -= py * maxH;\n\n\t\t_ctx[py * _wc + px].drawImage(texture, 0, 0, texture.width, texture.height, x, y, 512, 512);\n\t\tthis.progress();\n\t};\n\n\tthis.progress = function () {\n\n\t\t_count++;\n\n\t\tvar p = Math.round(_count * 100 / _total);\n\t\tthis.setProgress(_count, _total);\n\n\t\tif (_count === _total) {\n\t\t\tthis.canvas = _canvas;\n\t\t\tthis.panoId = _panoId;\n\t\t\tthis.zoom = _zoom;\n\t\t\tif (this.onPanoramaLoad) {\n\t\t\t\tthis.onPanoramaLoad(_canvas[0]);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.loadFromId = function (id) {\n\n\t\t_panoId = id;\n\t\tthis.composePanorama();\n\t};\n\n\tthis.composePanorama = function () {\n\n\t\tthis.setProgress(0, 1);\n\n\t\tvar w = levelsW[_zoom],\n\t\t    h = levelsH[_zoom],\n\t\t    self = this,\n\t\t    url,\n\t\t    x,\n\t\t    y;\n\n\t\t_count = 0;\n\t\t_total = w * h;\n\n\t\tvar self = this;\n\t\tfor (var y = 0; y < h; y++) {\n\t\t\tfor (var x = 0; x < w; x++) {\n\t\t\t\tvar url = 'https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom=' + _zoom + '&x=' + x + '&y=' + y + '&panoid=' + _panoId + '&nbt&fover=2';\n\t\t\t\t(function (x, y) {\n\t\t\t\t\tif (_parameters.useWebGL) {\n\t\t\t\t\t\tvar texture = __WEBPACK_IMPORTED_MODULE_8_three__[\"ImageUtils\"].loadTexture(url, null, function () {\n\t\t\t\t\t\t\tself.composeFromTile(x, y, texture);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.addEventListener('load', function () {\n\t\t\t\t\t\t\tself.composeFromTile(x, y, this);\n\t\t\t\t\t\t});\n\t\t\t\t\t\timg.crossOrigin = '';\n\t\t\t\t\t\timg.src = url;\n\t\t\t\t\t}\n\t\t\t\t})(x, y);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.load = function (panoid) {\n\n\t\tthis.loadPano(panoid);\n\t};\n\n\tthis.loadPano = function (id) {\n\n\t\tvar self = this;\n\t\t_panoClient.getPanoramaById(id, function (result, status) {\n\t\t\tif (status === google.maps.StreetViewStatus.OK) {\n\t\t\t\tself.result = result;\n\t\t\t\tif (self.onPanoramaData) self.onPanoramaData(result);\n\n\t\t\t\tcopyright = result.copyright;\n\t\t\t\tself.copyright = result.copyright;\n\t\t\t\t_panoId = result.location.pano;\n\t\t\t\tself.location = location;\n\t\t\t\tself.composePanorama();\n\t\t\t} else {\n\t\t\t\tif (self.onNoPanoramaData) self.onNoPanoramaData(status);\n\t\t\t\tself.throwError('Could not retrieve panorama for the following reason: ' + status);\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.setZoom = function (z) {\n\t\t_zoom = z;\n\t\tthis.adaptTextureToZoom();\n\t};\n\n\tthis.setZoom(_parameters.zoom || 1);\n};;(function () {\n\n\t'use strict';\n\n\tPANOLENS.DataImageSource = 'https://pchen66.github.io/Panolens/asset/icon/';\n\n\tPANOLENS.DataImage = {\n\t\tInfo: PANOLENS.DataImageSource + 'information.png',\n\t\tArrow: PANOLENS.DataImageSource + 'arrow-up.png',\n\t\tFullscreenEnter: PANOLENS.DataImageSource + 'fullscreen.png',\n\t\tFullscreenLeave: PANOLENS.DataImageSource + 'fullscreen-exit.png',\n\t\tVideoPlay: PANOLENS.DataImageSource + 'video-play.png',\n\t\tVideoPause: PANOLENS.DataImageSource + 'pause.png',\n\t\tWhiteTile: PANOLENS.DataImageSource + 'tiles.png',\n\t\tReticleIdle: PANOLENS.DataImageSource + 'reticle-idle.png',\n\t\tSetting: PANOLENS.DataImageSource + 'setting.png',\n\t\tChevronRight: PANOLENS.DataImageSource + 'chevron-right.png',\n\t\tCheck: PANOLENS.DataImageSource + 'check.png',\n\t\tViewIndicator: PANOLENS.DataImageSource + 'view-indicator.svg',\n\t\tReticleDwell: PANOLENS.DataImageSource + 'reticle-animation.png'\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Controls = {\n\n\t\tORBIT: 0,\n\n\t\tDEVICEORIENTATION: 1\n\n\t};\n\n\tPANOLENS.Modes = {\n\t\tUNKNOWN: 0,\n\n\t\tNORMAL: 1,\n\n\t\tCARDBOARD: 2,\n\n\t\tSTEREO: 3\n\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Utils = {};\n\n\tPANOLENS.Utils.checkTouchSupported = function () {\n\n\t\treturn window ? 'ontouchstart' in window || window.navigator.msMaxTouchPoints : false;\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Utils.ImageLoader = {};\n\n\tPANOLENS.Utils.ImageLoader.load = function (url, onLoad, onProgress, onError) {\n\n\t\tvar cached, request, arrayBufferView, blob, urlCreator, image, reference;\n\n\t\tfor (var iconName in PANOLENS.DataImage) {\n\n\t\t\tif (PANOLENS.DataImage.hasOwnProperty(iconName) && url === PANOLENS.DataImage[iconName]) {\n\n\t\t\t\treference = iconName;\n\t\t\t}\n\t\t}\n\n\t\tcached = __WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"].get(reference ? reference : url);\n\n\t\tif (cached !== undefined) {\n\n\t\t\tif (onLoad) {\n\n\t\t\t\tsetTimeout(function () {\n\n\t\t\t\t\tif (onProgress) {\n\n\t\t\t\t\t\tonProgress({ loaded: 1, total: 1 });\n\t\t\t\t\t}\n\n\t\t\t\t\tonLoad(cached);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\treturn cached;\n\t\t}\n\n\t\turlCreator = window.URL || window.webkitURL;\n\t\timage = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"].add(reference ? reference : url, image);\n\n\t\tfunction onImageLoaded() {\n\n\t\t\turlCreator.revokeObjectURL(image.src);\n\t\t\tonLoad && onLoad(image);\n\t\t}\n\n\t\tif (url.indexOf('data:') === 0) {\n\n\t\t\timage.addEventListener('load', onImageLoaded, false);\n\t\t\timage.src = url;\n\t\t\treturn image;\n\t\t}\n\n\t\timage.crossOrigin = this.crossOrigin !== undefined ? this.crossOrigin : '';\n\n\t\trequest = new XMLHttpRequest();\n\t\trequest.open('GET', url, true);\n\t\trequest.responseType = 'arraybuffer';\n\t\trequest.onprogress = function (event) {\n\n\t\t\tif (event.lengthComputable) {\n\n\t\t\t\tonProgress && onProgress({ loaded: event.loaded, total: event.total });\n\t\t\t}\n\t\t};\n\t\trequest.onloadend = function (event) {\n\n\t\t\tarrayBufferView = new Uint8Array(this.response);\n\t\t\tblob = new Blob([arrayBufferView]);\n\n\t\t\timage.addEventListener('load', onImageLoaded, false);\n\t\t\timage.src = urlCreator.createObjectURL(blob);\n\t\t};\n\n\t\trequest.send(null);\n\t};\n\n\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"].enabled = true;\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Utils.TextureLoader = {};\n\n\tPANOLENS.Utils.TextureLoader.load = function (url, onLoad, onProgress, onError) {\n\n\t\tvar texture = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"]();\n\n\t\tPANOLENS.Utils.ImageLoader.load(url, function (image) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tonLoad && onLoad(texture);\n\t\t}, onProgress, onError);\n\n\t\treturn texture;\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Utils.CubeTextureLoader = {};\n\n\tPANOLENS.Utils.CubeTextureLoader.load = function (urls, onLoad, onProgress, onError) {\n\n\t\tvar texture, loaded, progress, all, loadings;\n\n\t\ttexture = new __WEBPACK_IMPORTED_MODULE_8_three__[\"CubeTexture\"]([]);\n\n\t\tloaded = 0;\n\t\tprogress = {};\n\t\tall = {};\n\n\t\turls.map(function (url, index) {\n\n\t\t\tPANOLENS.Utils.ImageLoader.load(url, function (image) {\n\n\t\t\t\ttexture.images[index] = image;\n\n\t\t\t\tloaded++;\n\n\t\t\t\tif (loaded === 6) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tonLoad && onLoad(texture);\n\t\t\t\t}\n\t\t\t}, function (event) {\n\n\t\t\t\tprogress[index] = { loaded: event.loaded, total: event.total };\n\n\t\t\t\tall.loaded = 0;\n\t\t\t\tall.total = 0;\n\t\t\t\tloadings = 0;\n\n\t\t\t\tfor (var i in progress) {\n\n\t\t\t\t\tloadings++;\n\t\t\t\t\tall.loaded += progress[i].loaded;\n\t\t\t\t\tall.total += progress[i].total;\n\t\t\t\t}\n\n\t\t\t\tif (loadings < 6) {\n\n\t\t\t\t\tall.total = all.total / loadings * 6;\n\t\t\t\t}\n\n\t\t\t\tonProgress && onProgress(all);\n\t\t\t}, onError);\n\t\t});\n\n\t\treturn texture;\n\t};\n})();;\n\nPANOLENS.StereographicShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { value: new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"]() },\n\t\t\"resolution\": { value: 1.0 },\n\t\t\"transform\": { value: new __WEBPACK_IMPORTED_MODULE_8_three__[\"Matrix4\"]() },\n\t\t\"zoom\": { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n\n\tfragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform float resolution;\", \"uniform mat4 transform;\", \"uniform float zoom;\", \"varying vec2 vUv;\", \"const float PI = 3.141592653589793;\", \"void main(){\", \"vec2 position = -1.0 +  2.0 * vUv;\", \"position *= vec2( zoom * resolution, zoom * 0.5 );\", \"float x2y2 = position.x * position.x + position.y * position.y;\", \"vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );\", \"sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );\", \"vec2 sampleUV = vec2(\", \"(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,\", \"(asin(sphere_pnt.z) / PI + 0.5)\", \");\", \"gl_FragColor = texture2D( tDiffuse, sampleUV );\", \"}\"].join(\"\\n\")\n\n};;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Panorama = function (geometry, material) {\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"].call(this);\n\n\t\tthis.type = 'panorama';\n\n\t\tthis.ImageQualityLow = 1;\n\t\tthis.ImageQualityFair = 2;\n\t\tthis.ImageQualityMedium = 3;\n\t\tthis.ImageQualityHigh = 4;\n\t\tthis.ImageQualitySuperHigh = 5;\n\n\t\tthis.animationDuration = 1000;\n\n\t\tthis.defaultInfospotSize = 350;\n\n\t\tthis.container = undefined;\n\n\t\tthis.loaded = false;\n\n\t\tthis.linkedSpots = [];\n\n\t\tthis.isInfospotVisible = false;\n\n\t\tthis.linkingImageURL = undefined;\n\t\tthis.linkingImageScale = undefined;\n\n\t\tthis.geometry = geometry;\n\n\t\tthis.material = material;\n\t\tthis.material.side = __WEBPACK_IMPORTED_MODULE_8_three__[\"DoubleSide\"];\n\t\tthis.material.visible = false;\n\n\t\tthis.scale.x *= -1;\n\n\t\tthis.infospotAnimation = new TWEEN.Tween(this).to({}, this.animationDuration / 2);\n\n\t\tthis.addEventListener('load', this.fadeIn.bind(this));\n\t\tthis.addEventListener('panolens-container', this.setContainer.bind(this));\n\t\tthis.addEventListener('click', this.onClick.bind(this));\n\n\t\tthis.setupTransitions();\n\t};\n\n\tPANOLENS.Panorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"].prototype);\n\n\tPANOLENS.Panorama.prototype.constructor = PANOLENS.Panorama;\n\n\tPANOLENS.Panorama.prototype.add = function (object) {\n\n\t\tvar scope, invertedObject;\n\n\t\tscope = this;\n\n\t\tif (arguments.length > 1) {\n\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\n\t\t\t\tthis.add(arguments[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tif (object instanceof PANOLENS.Infospot) {\n\n\t\t\tinvertedObject = object;\n\n\t\t\tif (object.dispatchEvent) {\n\n\t\t\t\tthis.container && object.dispatchEvent({ type: 'panolens-container', container: this.container });\n\n\t\t\t\tobject.dispatchEvent({ type: 'panolens-infospot-focus', method: function method(vector, duration, easing) {\n\t\t\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'tweenControlCenter', data: [vector, duration, easing] });\n\t\t\t\t\t} });\n\t\t\t}\n\t\t} else {\n\t\t\tinvertedObject = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"]();\n\t\t\tinvertedObject.scale.x = -1;\n\t\t\tinvertedObject.scalePlaceHolder = true;\n\t\t\tinvertedObject.add(object);\n\t\t}\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"].prototype.add.call(this, invertedObject);\n\t};\n\n\tPANOLENS.Panorama.prototype.load = function () {\n\n\t\tthis.onLoad();\n\t};\n\n\tPANOLENS.Panorama.prototype.onClick = function (event) {\n\n\t\tif (event.intersects && event.intersects.length === 0) {\n\n\t\t\tthis.traverse(function (object) {\n\t\t\t\tobject.dispatchEvent({ type: 'dismiss' });\n\t\t\t});\n\t\t}\n\t};\n\n\tPANOLENS.Panorama.prototype.setContainer = function (data) {\n\n\t\tvar container;\n\n\t\tif (data instanceof HTMLElement) {\n\n\t\t\tcontainer = data;\n\t\t} else if (data && data.container) {\n\n\t\t\tcontainer = data.container;\n\t\t}\n\n\t\tif (container) {\n\n\t\t\tthis.children.forEach(function (child) {\n\n\t\t\t\tif (child instanceof PANOLENS.Infospot && child.dispatchEvent) {\n\t\t\t\t\tchild.dispatchEvent({ type: 'panolens-container', container: container });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.container = container;\n\t\t}\n\t};\n\n\tPANOLENS.Panorama.prototype.onLoad = function () {\n\n\t\tthis.loaded = true;\n\n\t\tthis.dispatchEvent({ type: 'load' });\n\t};\n\n\tPANOLENS.Panorama.prototype.onProgress = function (progress) {\n\t\tthis.dispatchEvent({ type: 'progress', progress: progress });\n\t};\n\n\tPANOLENS.Panorama.prototype.onError = function () {\n\t\tthis.dispatchEvent({ type: 'error' });\n\t};\n\n\tPANOLENS.Panorama.prototype.getZoomLevel = function () {\n\n\t\tvar zoomLevel;\n\n\t\tif (window.innerWidth <= 800) {\n\n\t\t\tzoomLevel = this.ImageQualityFair;\n\t\t} else if (window.innerWidth > 800 && window.innerWidth <= 1280) {\n\n\t\t\tzoomLevel = this.ImageQualityMedium;\n\t\t} else if (window.innerWidth > 1280 && window.innerWidth <= 1920) {\n\n\t\t\tzoomLevel = this.ImageQualityHigh;\n\t\t} else if (window.innerWidth > 1920) {\n\n\t\t\tzoomLevel = this.ImageQualitySuperHigh;\n\t\t} else {\n\n\t\t\tzoomLevel = this.ImageQualityLow;\n\t\t}\n\n\t\treturn zoomLevel;\n\t};\n\n\tPANOLENS.Panorama.prototype.updateTexture = function (texture) {\n\n\t\tthis.material.map = texture;\n\n\t\tthis.material.needsUpdate = true;\n\t};\n\n\tPANOLENS.Panorama.prototype.toggleInfospotVisibility = function (isVisible, delay) {\n\n\t\tdelay = delay !== undefined ? delay : 0;\n\n\t\tvar scope, visible;\n\n\t\tscope = this;\n\t\tvisible = isVisible !== undefined ? isVisible : this.isInfospotVisible ? false : true;\n\n\t\tthis.traverse(function (object) {\n\n\t\t\tif (object instanceof PANOLENS.Infospot) {\n\n\t\t\t\tvisible ? object.show(delay) : object.hide(delay);\n\t\t\t}\n\t\t});\n\n\t\tthis.isInfospotVisible = visible;\n\n\t\tthis.infospotAnimation.onComplete(function () {\n\t\t\tscope.dispatchEvent({ type: 'infospot-animation-complete', visible: visible });\n\t\t}).delay(delay).start();\n\t};\n\n\tPANOLENS.Panorama.prototype.setLinkingImage = function (url, scale) {\n\n\t\tthis.linkingImageURL = url;\n\t\tthis.linkingImageScale = scale;\n\t};\n\n\tPANOLENS.Panorama.prototype.link = function (pano, position, imageScale, imageSrc) {\n\n\t\tvar scope = this,\n\t\t    spot,\n\t\t    scale,\n\t\t    img;\n\n\t\tthis.visible = true;\n\n\t\tif (!position) {\n\n\t\t\tconsole.warn('Please specify infospot position for linking');\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (imageScale !== undefined) {\n\n\t\t\tscale = imageScale;\n\t\t} else if (pano.linkingImageScale !== undefined) {\n\n\t\t\tscale = pano.linkingImageScale;\n\t\t} else {\n\n\t\t\tscale = 300;\n\t\t}\n\n\t\tif (imageSrc) {\n\n\t\t\timg = imageSrc;\n\t\t} else if (pano.linkingImageURL) {\n\n\t\t\timg = pano.linkingImageURL;\n\t\t} else {\n\n\t\t\timg = PANOLENS.DataImage.Arrow;\n\t\t}\n\n\t\tspot = new PANOLENS.Infospot(scale, img);\n\t\tspot.position.copy(position);\n\t\tspot.toPanorama = pano;\n\t\tspot.addEventListener('click', function () {\n\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'setPanorama', data: pano });\n\t\t});\n\n\t\tthis.linkedSpots.push(spot);\n\n\t\tthis.add(spot);\n\n\t\tthis.visible = false;\n\t};\n\n\tPANOLENS.Panorama.prototype.reset = function () {\n\n\t\tthis.children.length = 0;\n\t};\n\n\tPANOLENS.Panorama.prototype.setupTransitions = function () {\n\n\t\tthis.fadeInAnimation = new TWEEN.Tween(this.material).easing(TWEEN.Easing.Quartic.Out).onStart(function () {\n\n\t\t\tthis.visible = true;\n\t\t\tthis.material.visible = true;\n\n\t\t\tthis.dispatchEvent({ type: 'enter-fade-start' });\n\t\t}.bind(this));\n\n\t\tthis.fadeOutAnimation = new TWEEN.Tween(this.material).easing(TWEEN.Easing.Quartic.Out).onComplete(function () {\n\n\t\t\tthis.visible = false;\n\t\t\tthis.material.visible = true;\n\n\t\t\tthis.dispatchEvent({ type: 'leave-complete' });\n\t\t}.bind(this));\n\n\t\tthis.enterTransition = new TWEEN.Tween(this).easing(TWEEN.Easing.Quartic.Out).onComplete(function () {\n\t\t\tthis.dispatchEvent({ type: 'enter-animation-complete' });\n\t\t}.bind(this)).start();\n\n\t\tthis.leaveTransition = new TWEEN.Tween(this).easing(TWEEN.Easing.Quartic.Out);\n\t};\n\n\tPANOLENS.Panorama.prototype.fadeIn = function (duration) {\n\n\t\tduration = duration >= 0 ? duration : this.animationDuration;\n\n\t\tthis.fadeOutAnimation.stop();\n\t\tthis.fadeInAnimation.to({ opacity: 1 }, duration).onComplete(function () {\n\n\t\t\tthis.toggleInfospotVisibility(true, duration / 2);\n\n\t\t\tthis.dispatchEvent({ type: 'enter-fade-complete' });\n\t\t}.bind(this)).start();\n\t};\n\n\tPANOLENS.Panorama.prototype.fadeOut = function (duration) {\n\n\t\tduration = duration >= 0 ? duration : this.animationDuration;\n\n\t\tthis.fadeInAnimation.stop();\n\t\tthis.fadeOutAnimation.to({ opacity: 0 }, duration).start();\n\t};\n\n\tPANOLENS.Panorama.prototype.onEnter = function () {\n\n\t\tvar duration = this.animationDuration;\n\n\t\tthis.leaveTransition.stop();\n\t\tthis.enterTransition.to({}, duration).onStart(function () {\n\t\t\tthis.dispatchEvent({ type: 'enter-animation-start' });\n\n\t\t\tif (this.loaded) {\n\n\t\t\t\tthis.fadeIn(duration);\n\t\t\t} else {\n\n\t\t\t\tthis.load();\n\t\t\t}\n\t\t}.bind(this)).start();\n\n\t\tthis.dispatchEvent({ type: 'enter' });\n\t};\n\n\tPANOLENS.Panorama.prototype.onLeave = function () {\n\n\t\tvar duration = this.animationDuration;\n\n\t\tthis.enterTransition.stop();\n\t\tthis.leaveTransition.to({}, duration).onStart(function () {\n\t\t\tthis.dispatchEvent({ type: 'leave-animation-start' });\n\n\t\t\tthis.fadeOut(duration);\n\t\t\tthis.toggleInfospotVisibility(false);\n\t\t}.bind(this)).start();\n\n\t\tthis.dispatchEvent({ type: 'leave' });\n\t};\n\n\tPANOLENS.Panorama.prototype.dispose = function () {\n\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'onPanoramaDispose', data: this });\n\n\t\tfunction recursiveDispose(object) {\n\n\t\t\tfor (var i = object.children.length - 1; i >= 0; i--) {\n\n\t\t\t\trecursiveDispose(object.children[i]);\n\t\t\t\tobject.remove(object.children[i]);\n\t\t\t}\n\n\t\t\tif (object instanceof PANOLENS.Infospot) {\n\n\t\t\t\tobject.dispose();\n\t\t\t}\n\n\t\t\tobject.geometry && object.geometry.dispose();\n\t\t\tobject.material && object.material.dispose();\n\t\t}\n\n\t\trecursiveDispose(this);\n\n\t\tif (this.parent) {\n\n\t\t\tthis.parent.remove(this);\n\t\t}\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.ImagePanorama = function (image, radius) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_8_three__[\"SphereGeometry\"](radius, 60, 40),\n\t\t    material = new __WEBPACK_IMPORTED_MODULE_8_three__[\"MeshBasicMaterial\"]({ opacity: 0, transparent: true });\n\n\t\tPANOLENS.Panorama.call(this, geometry, material);\n\n\t\tthis.src = image;\n\t};\n\n\tPANOLENS.ImagePanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.Panorama.prototype);\n\n\tPANOLENS.ImagePanorama.prototype.constructor = PANOLENS.ImagePanorama;\n\n\tPANOLENS.ImagePanorama.prototype.load = function (src) {\n\n\t\tsrc = src || this.src;\n\n\t\tif (!src) {\n\n\t\t\tconsole.warn('Image source undefined');\n\n\t\t\treturn;\n\t\t} else if (typeof src === 'string') {\n\n\t\t\tPANOLENS.Utils.TextureLoader.load(src, this.onLoad.bind(this), this.onProgress.bind(this), this.onError.bind(this));\n\t\t} else if (src instanceof HTMLImageElement) {\n\n\t\t\tthis.onLoad(new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"](src));\n\t\t}\n\t};\n\n\tPANOLENS.ImagePanorama.prototype.onLoad = function (texture) {\n\n\t\ttexture.minFilter = texture.magFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\n\t\ttexture.needsUpdate = true;\n\n\t\tthis.updateTexture(texture);\n\n\t\twindow.requestAnimationFrame(function () {\n\n\t\t\twindow.requestAnimationFrame(function () {\n\n\t\t\t\tPANOLENS.Panorama.prototype.onLoad.call(this);\n\t\t\t}.bind(this));\n\t\t}.bind(this));\n\t};\n\n\tPANOLENS.ImagePanorama.prototype.reset = function () {\n\n\t\tPANOLENS.Panorama.prototype.reset.call(this);\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.GoogleStreetviewPanorama = function (panoId, radius) {\n\n\t\tPANOLENS.ImagePanorama.call(this, undefined, radius);\n\n\t\tthis.panoId = panoId;\n\n\t\tthis.gsvLoader = undefined;\n\n\t\tthis.loadRequested = false;\n\n\t\tthis.setupGoogleMapAPI();\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.ImagePanorama.prototype);\n\n\tPANOLENS.GoogleStreetviewPanorama.constructor = PANOLENS.GoogleStreetviewPanorama;\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.load = function (panoId) {\n\n\t\tthis.loadRequested = true;\n\n\t\tpanoId = panoId || this.panoId || {};\n\n\t\tif (panoId && this.gsvLoader) {\n\n\t\t\tthis.loadGSVLoader(panoId);\n\t\t} else {\n\n\t\t\tthis.gsvLoader = {};\n\t\t}\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.setupGoogleMapAPI = function () {\n\n\t\tvar script = document.createElement('script');\n\t\tscript.src = 'https://maps.googleapis.com/maps/api/js';\n\t\tscript.onreadystatechange = this.setGSVLoader.bind(this);\n\t\tscript.onload = this.setGSVLoader.bind(this);\n\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.setGSVLoader = function () {\n\n\t\tthis.gsvLoader = new GSVPANO.PanoLoader();\n\n\t\tif (this.gsvLoader === {} || this.loadRequested) {\n\n\t\t\tthis.load();\n\t\t}\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.getGSVLoader = function () {\n\n\t\treturn this.gsvLoader;\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.loadGSVLoader = function (panoId) {\n\n\t\tthis.loadRequested = false;\n\n\t\tthis.gsvLoader.onProgress = this.onProgress.bind(this);\n\n\t\tthis.gsvLoader.onPanoramaLoad = this.onLoad.bind(this);\n\n\t\tthis.gsvLoader.setZoom(this.getZoomLevel());\n\n\t\tthis.gsvLoader.load(panoId);\n\n\t\tthis.gsvLoader.loaded = true;\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.onLoad = function (canvas) {\n\n\t\tif (!this.gsvLoader) {\n\t\t\treturn;\n\t\t}\n\n\t\tPANOLENS.ImagePanorama.prototype.onLoad.call(this, new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"](canvas));\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.reset = function () {\n\n\t\tthis.gsvLoader = undefined;\n\n\t\tPANOLENS.ImagePanorama.prototype.reset.call(this);\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.CubePanorama = function (images, edgeLength) {\n\n\t\tvar shader, geometry, material;\n\n\t\tthis.images = images || [];\n\n\t\tedgeLength = edgeLength || 10000;\n\t\tshader = JSON.parse(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"ShaderLib\"]['cube']));\n\n\t\tgeometry = new __WEBPACK_IMPORTED_MODULE_8_three__[\"BoxGeometry\"](edgeLength, edgeLength, edgeLength);\n\t\tmaterial = new __WEBPACK_IMPORTED_MODULE_8_three__[\"ShaderMaterial\"]({\n\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tuniforms: shader.uniforms,\n\t\t\tside: __WEBPACK_IMPORTED_MODULE_8_three__[\"BackSide\"]\n\n\t\t});\n\n\t\tPANOLENS.Panorama.call(this, geometry, material);\n\t};\n\n\tPANOLENS.CubePanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.Panorama.prototype);\n\n\tPANOLENS.CubePanorama.prototype.constructor = PANOLENS.CubePanorama;\n\n\tPANOLENS.CubePanorama.prototype.load = function () {\n\n\t\tPANOLENS.Utils.CubeTextureLoader.load(this.images, this.onLoad.bind(this), this.onProgress.bind(this), this.onError.bind(this));\n\t};\n\n\tPANOLENS.CubePanorama.prototype.onLoad = function (texture) {\n\n\t\tthis.material.uniforms['tCube'].value = texture;\n\n\t\tPANOLENS.Panorama.prototype.onLoad.call(this);\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.BasicPanorama = function (edgeLength) {\n\n\t\tvar tile = PANOLENS.DataImage.WhiteTile;\n\n\t\tPANOLENS.CubePanorama.call(this, [tile, tile, tile, tile, tile, tile], edgeLength);\n\t};\n\n\tPANOLENS.BasicPanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.CubePanorama.prototype);\n\n\tPANOLENS.BasicPanorama.prototype.constructor = PANOLENS.BasicPanorama;\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.VideoPanorama = function (src, options, radius) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_8_three__[\"SphereGeometry\"](radius, 60, 40),\n\t\t    material = new __WEBPACK_IMPORTED_MODULE_8_three__[\"MeshBasicMaterial\"]({ opacity: 0, transparent: true });\n\n\t\tPANOLENS.Panorama.call(this, geometry, material);\n\n\t\tthis.src = src;\n\t\tthis.options = options || {};\n\t\tthis.options.playsinline = this.options.playsinline !== false ? true : false;\n\n\t\tthis.videoElement = undefined;\n\t\tthis.videoRenderObject = undefined;\n\t\tthis.videoProgress = 0;\n\n\t\tthis.isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n\t\tthis.isMobile = this.isIOS || /Android|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent);\n\n\t\tthis.addEventListener('leave', this.pauseVideo.bind(this));\n\t\tthis.addEventListener('enter-fade-start', this.resumeVideoProgress.bind(this));\n\t\tthis.addEventListener('video-toggle', this.toggleVideo.bind(this));\n\t\tthis.addEventListener('video-time', this.setVideoCurrentTime.bind(this));\n\t};\n\n\tPANOLENS.VideoPanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.Panorama.prototype);\n\n\tPANOLENS.VideoPanorama.constructor = PANOLENS.VideoPanorama;\n\n\tPANOLENS.VideoPanorama.prototype.load = function (src, options) {\n\n\t\tvar scope = this;\n\n\t\tsrc = src || this.src || '';\n\t\toptions = options || this.options || {};\n\n\t\tthis.videoElement = options.videoElement || document.createElement('video');\n\n\t\tthis.videoElement.muted = options.muted || false;\n\t\tthis.videoElement.loop = options.loop !== undefined ? options.loop : true;\n\t\tthis.videoElement.autoplay = options.autoplay !== undefined ? options.autoplay : false;\n\t\tthis.videoElement.crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : \"anonymous\";\n\n\t\tif (options.playsinline) {\n\t\t\tthis.videoElement.setAttribute(\"playsinline\", \"\");\n\t\t\tthis.videoElement.setAttribute(\"webkit-playsinline\", \"\");\n\t\t}\n\n\t\tvar onloadeddata = function onloadeddata() {\n\n\t\t\tscope.onProgress({ loaded: 1, total: 1 });\n\t\t\tscope.setVideoTexture(scope.videoElement);\n\n\t\t\tif (scope.videoElement.autoplay) {\n\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false });\n\t\t\t}\n\n\t\t\tif (scope.isMobile) {\n\n\t\t\t\tif (scope.videoElement.autoplay && scope.videoElement.muted) {\n\t\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false });\n\t\t\t\t} else {\n\t\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tscope.onLoad();\n\t\t};\n\n\t\tif (this.videoElement.readyState > 2) {\n\n\t\t\tonloadeddata();\n\t\t} else {\n\n\t\t\tif (!this.videoElement.querySelectorAll('source').length || !this.videoElement.src) {\n\n\t\t\t\tthis.videoElement.src = src;\n\t\t\t}\n\n\t\t\tthis.videoElement.load();\n\t\t}\n\n\t\tthis.videoElement.onloadeddata = onloadeddata;\n\n\t\tthis.videoElement.ontimeupdate = function (event) {\n\n\t\t\tscope.videoProgress = this.duration >= 0 ? this.currentTime / this.duration : 0;\n\n\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: scope.videoProgress });\n\t\t};\n\n\t\tthis.videoElement.addEventListener('ended', function () {\n\n\t\t\tif (!scope.options.loop) {\n\n\t\t\t\tscope.resetVideo();\n\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true });\n\t\t\t}\n\t\t}, false);\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.setVideoTexture = function (video) {\n\n\t\tvar videoTexture, videoRenderObject, scene;\n\n\t\tif (!video) return;\n\n\t\tvideoTexture = new __WEBPACK_IMPORTED_MODULE_8_three__[\"VideoTexture\"](video);\n\t\tvideoTexture.minFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\t\tvideoTexture.magFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\t\tvideoTexture.format = __WEBPACK_IMPORTED_MODULE_8_three__[\"RGBFormat\"];\n\n\t\tvideoRenderObject = {\n\n\t\t\tvideo: video,\n\t\t\tvideoTexture: videoTexture\n\n\t\t};\n\n\t\tif (this.isIOS) {\n\n\t\t\tenableInlineVideo(video);\n\t\t}\n\n\t\tthis.updateTexture(videoTexture);\n\n\t\tthis.videoRenderObject = videoRenderObject;\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.reset = function () {\n\n\t\tthis.videoElement = undefined;\n\n\t\tPANOLENS.Panorama.prototype.reset.call(this);\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.isVideoPaused = function () {\n\n\t\treturn this.videoRenderObject.video.paused;\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.toggleVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video) {\n\n\t\t\tif (this.isVideoPaused()) {\n\n\t\t\t\tthis.videoRenderObject.video.play();\n\t\t\t} else {\n\n\t\t\t\tthis.videoRenderObject.video.pause();\n\t\t\t}\n\t\t}\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.setVideoCurrentTime = function (event) {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video && !__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_number_is_nan___default()(event.percentage) && event.percentage !== 1) {\n\n\t\t\tthis.videoRenderObject.video.currentTime = this.videoRenderObject.video.duration * event.percentage;\n\n\t\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: event.percentage });\n\t\t}\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.playVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video && this.isVideoPaused()) {\n\n\t\t\tthis.videoRenderObject.video.play();\n\t\t}\n\n\t\tthis.dispatchEvent({ type: 'play' });\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.pauseVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video && !this.isVideoPaused()) {\n\n\t\t\tthis.videoRenderObject.video.pause();\n\t\t}\n\n\t\tthis.dispatchEvent({ type: 'pause' });\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.resumeVideoProgress = function () {\n\n\t\tif (this.videoElement.autoplay && !this.isMobile) {\n\n\t\t\tthis.playVideo();\n\n\t\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false });\n\t\t} else {\n\n\t\t\tthis.pauseVideo();\n\n\t\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true });\n\t\t}\n\n\t\tthis.setVideoCurrentTime({ percentage: this.videoProgress });\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.resetVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video) {\n\n\t\t\tthis.setVideoCurrentTime({ percentage: 0 });\n\t\t}\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.isVideoMuted = function () {\n\n\t\treturn this.videoRenderObject.video.muted;\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.muteVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video && !this.isVideoMuted()) {\n\n\t\t\tthis.videoRenderObject.video.muted = true;\n\t\t}\n\n\t\tthis.dispatchEvent({ type: 'volumechange' });\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.unmuteVideo = function () {\n\n\t\tif (this.videoRenderObject && this.videoRenderObject.video && this.isVideoMuted()) {\n\n\t\t\tthis.videoRenderObject.video.muted = false;\n\t\t}\n\n\t\tthis.dispatchEvent({ type: 'volumechange' });\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.getVideoElement = function () {\n\n\t\treturn this.videoRenderObject.video;\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.dispose = function () {\n\n\t\tthis.resetVideo();\n\t\tthis.pauseVideo();\n\n\t\tthis.removeEventListener('leave', this.pauseVideo.bind(this));\n\t\tthis.removeEventListener('enter-fade-start', this.resumeVideoProgress.bind(this));\n\t\tthis.removeEventListener('video-toggle', this.toggleVideo.bind(this));\n\t\tthis.removeEventListener('video-time', this.setVideoCurrentTime.bind(this));\n\n\t\tPANOLENS.Panorama.prototype.dispose.call(this);\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.EmptyPanorama = function (radius) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Geometry\"](),\n\t\t    material = new __WEBPACK_IMPORTED_MODULE_8_three__[\"MeshBasicMaterial\"]({\n\t\t\tcolor: 0x000000, opacity: 1, transparent: true\n\t\t});\n\n\t\tPANOLENS.Panorama.call(this, geometry, material);\n\t};\n\n\tPANOLENS.EmptyPanorama.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.Panorama.prototype);\n\n\tPANOLENS.EmptyPanorama.prototype.constructor = PANOLENS.EmptyPanorama;\n})();;(function () {\n\tPANOLENS.LittlePlanet = function (type, source, size, ratio) {\n\n\t\ttype = type || 'image';\n\n\t\ttype === 'image' && PANOLENS.ImagePanorama.call(this, source, size);\n\n\t\tthis.size = size || 10000;\n\t\tthis.ratio = ratio || 0.5;\n\t\tthis.EPS = 0.000001;\n\t\tthis.frameId;\n\n\t\tthis.geometry = this.createGeometry();\n\t\tthis.material = this.createMaterial(this.size);\n\n\t\tthis.dragging = false;\n\t\tthis.userMouse = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\n\t\tthis.quatA = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\t\tthis.quatB = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\t\tthis.quatCur = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\t\tthis.quatSlerp = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Quaternion\"]();\n\n\t\tthis.vectorX = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](1, 0, 0);\n\t\tthis.vectorY = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 1, 0);\n\n\t\tthis.addEventListener('window-resize', this.onWindowResize);\n\t};\n\n\tPANOLENS.LittlePlanet.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.ImagePanorama.prototype);\n\n\tPANOLENS.LittlePlanet.prototype.constructor = PANOLENS.LittlePlanet;\n\n\tPANOLENS.LittlePlanet.prototype.createGeometry = function () {\n\n\t\treturn new __WEBPACK_IMPORTED_MODULE_8_three__[\"PlaneGeometry\"](this.size, this.size * this.ratio);\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.createMaterial = function (size) {\n\n\t\tvar uniforms = PANOLENS.StereographicShader.uniforms;\n\t\tuniforms.zoom.value = size;\n\n\t\treturn new __WEBPACK_IMPORTED_MODULE_8_three__[\"ShaderMaterial\"]({\n\n\t\t\tuniforms: uniforms,\n\t\t\tvertexShader: PANOLENS.StereographicShader.vertexShader,\n\t\t\tfragmentShader: PANOLENS.StereographicShader.fragmentShader\n\n\t\t});\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.registerMouseEvents = function () {\n\n\t\tthis.container.addEventListener('mousedown', this.onMouseDown.bind(this), false);\n\t\tthis.container.addEventListener('mousemove', this.onMouseMove.bind(this), false);\n\t\tthis.container.addEventListener('mouseup', this.onMouseUp.bind(this), false);\n\t\tthis.container.addEventListener('touchstart', this.onMouseDown.bind(this), false);\n\t\tthis.container.addEventListener('touchmove', this.onMouseMove.bind(this), false);\n\t\tthis.container.addEventListener('touchend', this.onMouseUp.bind(this), false);\n\t\tthis.container.addEventListener('mousewheel', this.onMouseWheel.bind(this), false);\n\t\tthis.container.addEventListener('DOMMouseScroll', this.onMouseWheel.bind(this), false);\n\t\tthis.container.addEventListener('contextmenu', this.onContextMenu.bind(this), false);\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.unregisterMouseEvents = function () {\n\n\t\tthis.container.removeEventListener('mousedown', this.onMouseDown.bind(this), false);\n\t\tthis.container.removeEventListener('mousemove', this.onMouseMove.bind(this), false);\n\t\tthis.container.removeEventListener('mouseup', this.onMouseUp.bind(this), false);\n\t\tthis.container.removeEventListener('touchstart', this.onMouseDown.bind(this), false);\n\t\tthis.container.removeEventListener('touchmove', this.onMouseMove.bind(this), false);\n\t\tthis.container.removeEventListener('touchend', this.onMouseUp.bind(this), false);\n\t\tthis.container.removeEventListener('mousewheel', this.onMouseWheel.bind(this), false);\n\t\tthis.container.removeEventListener('DOMMouseScroll', this.onMouseWheel.bind(this), false);\n\t\tthis.container.removeEventListener('contextmenu', this.onContextMenu.bind(this), false);\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseDown = function (event) {\n\n\t\tvar x = event.clientX >= 0 ? event.clientX : event.touches[0].clientX;\n\t\tvar y = event.clientY >= 0 ? event.clientY : event.touches[0].clientY;\n\n\t\tvar inputCount = event.touches && event.touches.length || 1;\n\n\t\tswitch (inputCount) {\n\n\t\t\tcase 1:\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tthis.userMouse.set(x, y);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tthis.userMouse.pinchDistance = distance;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tthis.onUpdateCallback();\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseMove = function (event) {\n\n\t\tvar x = event.clientX >= 0 ? event.clientX : event.touches[0].clientX;\n\t\tvar y = event.clientY >= 0 ? event.clientY : event.touches[0].clientY;\n\n\t\tvar inputCount = event.touches && event.touches.length || 1;\n\n\t\tswitch (inputCount) {\n\n\t\t\tcase 1:\n\n\t\t\t\tvar angleX = __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(x - this.userMouse.x) * 0.4;\n\t\t\t\tvar angleY = __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(y - this.userMouse.y) * 0.4;\n\n\t\t\t\tif (this.dragging) {\n\t\t\t\t\tthis.quatA.setFromAxisAngle(this.vectorY, angleX);\n\t\t\t\t\tthis.quatB.setFromAxisAngle(this.vectorX, angleY);\n\t\t\t\t\tthis.quatCur.multiply(this.quatA).multiply(this.quatB);\n\t\t\t\t\tthis.userMouse.set(x, y);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tvar uniforms = this.material.uniforms;\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tthis.addZoomDelta(this.userMouse.pinchDistance - distance);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\n\t\t}\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseUp = function (event) {\n\n\t\tthis.dragging = false;\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseWheel = function (event) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif (event.wheelDelta !== undefined) {\n\n\t\t\tdelta = event.wheelDelta;\n\t\t} else if (event.detail !== undefined) {\n\n\t\t\tdelta = -event.detail;\n\t\t}\n\n\t\tthis.addZoomDelta(delta);\n\t\tthis.onUpdateCallback();\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.addZoomDelta = function (delta) {\n\n\t\tvar uniforms = this.material.uniforms;\n\t\tvar lowerBound = this.size * 0.1;\n\t\tvar upperBound = this.size * 10;\n\n\t\tuniforms.zoom.value += delta;\n\n\t\tif (uniforms.zoom.value <= lowerBound) {\n\n\t\t\tuniforms.zoom.value = lowerBound;\n\t\t} else if (uniforms.zoom.value >= upperBound) {\n\n\t\t\tuniforms.zoom.value = upperBound;\n\t\t}\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onUpdateCallback = function () {\n\n\t\tthis.frameId = window.requestAnimationFrame(this.onUpdateCallback.bind(this));\n\n\t\tthis.quatSlerp.slerp(this.quatCur, 0.1);\n\t\tthis.material.uniforms.transform.value.makeRotationFromQuaternion(this.quatSlerp);\n\n\t\tif (!this.dragging && 1.0 - this.quatSlerp.clone().dot(this.quatCur) < this.EPS) {\n\n\t\t\twindow.cancelAnimationFrame(this.frameId);\n\t\t}\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.reset = function () {\n\n\t\tthis.quatCur.set(0, 0, 0, 1);\n\t\tthis.quatSlerp.set(0, 0, 0, 1);\n\t\tthis.onUpdateCallback();\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onLoad = function () {\n\n\t\tthis.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n\t\tthis.registerMouseEvents();\n\t\tthis.onUpdateCallback();\n\n\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'disableControl' });\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onLeave = function () {\n\n\t\tthis.unregisterMouseEvents();\n\n\t\tthis.dispatchEvent({ type: 'panolens-viewer-handler', method: 'enableControl', data: PANOLENS.Controls.ORBIT });\n\n\t\twindow.cancelAnimationFrame(this.frameId);\n\n\t\tPANOLENS.Panorama.prototype.onLeave.call(this);\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onWindowResize = function () {\n\n\t\tthis.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onContextMenu = function () {\n\n\t\tthis.dragging = false;\n\t};\n})();;(function () {\n\tPANOLENS.ImageLittlePlanet = function (source, size, ratio) {\n\n\t\tPANOLENS.LittlePlanet.call(this, 'image', source, size, ratio);\n\t};\n\n\tPANOLENS.ImageLittlePlanet.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(PANOLENS.LittlePlanet.prototype);\n\n\tPANOLENS.ImageLittlePlanet.prototype.constructor = PANOLENS.ImageLittlePlanet;\n\n\tPANOLENS.ImageLittlePlanet.prototype.onLoad = function (texture) {\n\n\t\tthis.updateTexture(texture);\n\n\t\tPANOLENS.ImagePanorama.prototype.onLoad.call(this, texture);\n\t\tPANOLENS.LittlePlanet.prototype.onLoad.call(this);\n\t};\n\n\tPANOLENS.ImageLittlePlanet.prototype.updateTexture = function (texture) {\n\n\t\ttexture.minFilter = texture.magFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\n\t\tthis.material.uniforms[\"tDiffuse\"].value = texture;\n\t};\n})();;(function () {\n\tPANOLENS.Reticle = function (color, autoSelect, idleImageUrl, dwellImageUrl, dwellTime, dwellSpriteAmount) {\n\n\t\tcolor = color || 0xffffff;\n\n\t\tthis.autoSelect = autoSelect != undefined ? autoSelect : true;\n\n\t\tthis.dwellTime = dwellTime || 1500;\n\t\tthis.dwellSpriteAmount = dwellSpriteAmount || 45;\n\t\tthis.dwellInterval = this.dwellTime / this.dwellSpriteAmount;\n\n\t\tthis.IDLE = 0;\n\t\tthis.DWELLING = 1;\n\t\tthis.status;\n\n\t\tthis.scaleIdle = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0.2, 0.2, 1);\n\t\tthis.scaleDwell = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](1, 0.8, 1);\n\n\t\tthis.textureLoaded = false;\n\t\tthis.idleImageUrl = idleImageUrl || PANOLENS.DataImage.ReticleIdle;\n\t\tthis.dwellImageUrl = dwellImageUrl || PANOLENS.DataImage.ReticleDwell;\n\t\tthis.idleTexture = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"]();\n\t\tthis.dwellTexture = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"]();\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Sprite\"].call(this, new __WEBPACK_IMPORTED_MODULE_8_three__[\"SpriteMaterial\"]({ color: color, depthTest: false }));\n\n\t\tthis.currentTile = 0;\n\t\tthis.startTime = 0;\n\n\t\tthis.visible = false;\n\t\tthis.renderOrder = 10;\n\t\tthis.timerId;\n\n\t\tthis.updateStatus(this.IDLE);\n\t};\n\n\tPANOLENS.Reticle.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Sprite\"].prototype);\n\n\tPANOLENS.Reticle.prototype.constructor = PANOLENS.Reticle;\n\n\tPANOLENS.Reticle.prototype.show = function () {\n\n\t\tthis.visible = true;\n\t};\n\n\tPANOLENS.Reticle.prototype.hide = function () {\n\n\t\tthis.visible = false;\n\t};\n\n\tPANOLENS.Reticle.prototype.loadTextures = function () {\n\n\t\tthis.idleTexture = PANOLENS.Utils.TextureLoader.load(this.idleImageUrl);\n\t\tthis.dwellTexture = PANOLENS.Utils.TextureLoader.load(this.dwellImageUrl);\n\n\t\tthis.material.map = this.idleTexture;\n\t\tthis.setupDwellSprite(this.dwellTexture);\n\t\tthis.textureLoaded = true;\n\t};\n\n\tPANOLENS.Reticle.prototype.select = function (completeCallback) {\n\n\t\tif (performance.now() - this.startTime >= this.dwellTime) {\n\n\t\t\tthis.completeDwelling();\n\t\t\tcompleteCallback();\n\t\t} else if (this.autoSelect) {\n\n\t\t\tthis.updateDwelling(performance.now());\n\t\t\tthis.timerId = window.requestAnimationFrame(this.select.bind(this, completeCallback));\n\t\t}\n\t};\n\n\tPANOLENS.Reticle.prototype.clearTimer = function () {\n\n\t\twindow.cancelAnimationFrame(this.timerId);\n\t\tthis.timerId = null;\n\t};\n\n\tPANOLENS.Reticle.prototype.setupDwellSprite = function (texture) {\n\n\t\ttexture.wrapS = __WEBPACK_IMPORTED_MODULE_8_three__[\"RepeatWrapping\"];\n\t\ttexture.repeat.set(1 / this.dwellSpriteAmount, 1);\n\t};\n\n\tPANOLENS.Reticle.prototype.updateStatus = function (status) {\n\n\t\tthis.status = status;\n\n\t\tif (status === this.IDLE) {\n\t\t\tthis.scale.copy(this.scaleIdle);\n\t\t\tthis.material.map = this.idleTexture;\n\t\t} else if (status === this.DWELLING) {\n\t\t\tthis.scale.copy(this.scaleDwell);\n\t\t\tthis.material.map = this.dwellTexture;\n\t\t}\n\n\t\tthis.currentTile = 0;\n\t\tthis.material.map.offset.x = 0;\n\t};\n\n\tPANOLENS.Reticle.prototype.startDwelling = function (completeCallback) {\n\n\t\tif (!this.autoSelect) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startTime = performance.now();\n\t\tthis.updateStatus(this.DWELLING);\n\t\tthis.select(completeCallback);\n\t};\n\n\tPANOLENS.Reticle.prototype.updateDwelling = function (time) {\n\n\t\tvar elasped = time - this.startTime;\n\n\t\tif (this.currentTile <= this.dwellSpriteAmount) {\n\t\t\tthis.currentTile = Math.floor(elasped / this.dwellTime * this.dwellSpriteAmount);\n\t\t\tthis.material.map.offset.x = this.currentTile / this.dwellSpriteAmount;\n\t\t} else {\n\t\t\tthis.updateStatus(this.IDLE);\n\t\t}\n\t};\n\n\tPANOLENS.Reticle.prototype.cancelDwelling = function () {\n\t\tthis.clearTimer();\n\t\tthis.updateStatus(this.IDLE);\n\t};\n\n\tPANOLENS.Reticle.prototype.completeDwelling = function () {\n\t\tthis.clearTimer();\n\t\tthis.updateStatus(this.IDLE);\n\t};\n})();;(function () {\n\tPANOLENS.Tile = function (width, height, widthSegments, heightSegments, forceDirection, forceAxis, forceAngle) {\n\n\t\tvar scope = this;\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tforceDirection: forceDirection,\n\t\t\tforceAxis: forceAxis,\n\t\t\tforceAngle: forceAngle\n\t\t};\n\n\t\twidth = width || 10;\n\t\theight = height || 5;\n\t\twidthSegments = widthSegments || 1;\n\t\theightSegments = heightSegments || 1;\n\t\tforceDirection = forceDirection || new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 0, 1);\n\t\tforceAxis = forceAxis || new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](0, 1, 0);\n\t\tforceAngle = forceAngle !== undefined ? forceAngle : 0;\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"].call(this, new __WEBPACK_IMPORTED_MODULE_8_three__[\"PlaneGeometry\"](width, height, widthSegments, heightSegments), new __WEBPACK_IMPORTED_MODULE_8_three__[\"MeshBasicMaterial\"]({ color: 0xffffff, transparent: true }));\n\n\t\tthis.bendModifier = new __WEBPACK_IMPORTED_MODULE_8_three__[\"BendModifier\"]();\n\n\t\tthis.entity = undefined;\n\n\t\tthis.animationDuration = 500;\n\t\tthis.animationFadeOut = undefined;\n\t\tthis.animationFadeIn = undefined;\n\t\tthis.animationTranslation = undefined;\n\t\tthis.tweens = {};\n\n\t\tif (forceAngle !== 0) {\n\n\t\t\tthis.bend(forceDirection, forceAxis, forceAngle);\n\t\t}\n\n\t\tthis.originalGeometry = this.geometry.clone();\n\t};\n\n\tPANOLENS.Tile.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"].prototype);\n\n\tPANOLENS.Tile.prototype.constructor = PANOLENS.Tile;\n\n\tPANOLENS.Tile.prototype.clone = function () {\n\n\t\tvar parameters = this.parameters,\n\t\t    tile;\n\n\t\ttile = new PANOLENS.Tile(parameters.width, parameters.height, parameters.widthSegments, parameters.heightSegments, parameters.forceDirection, parameters.forceAxis, parameters.forceAngle);\n\n\t\ttile.setEntity(this.entity);\n\t\ttile.material = this.material.clone();\n\n\t\treturn tile;\n\t};\n\n\tPANOLENS.Tile.prototype.bend = function (direction, axis, angle) {\n\n\t\tthis.bendModifier.set(direction, axis, angle).modify(this.geometry);\n\t};\n\n\tPANOLENS.Tile.prototype.unbend = function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tthis.geometry = this.originalGeometry;\n\t\tthis.originalGeometry = this.geometry.clone();\n\n\t\tgeometry.dispose();\n\t\tgeometry = null;\n\t};\n\n\tPANOLENS.Tile.prototype.tween = function (name, object, toState, duration, easing, delay, onStart, onUpdate, onComplete) {\n\n\t\tobject = object || this;\n\t\ttoState = toState || {};\n\t\tduration = duration || this.animationDuration;\n\t\teasing = easing || TWEEN.Easing.Exponential.Out;\n\t\tdelay = delay !== undefined ? delay : 0;\n\t\tonStart = onStart ? onStart : null;\n\t\tonUpdate = onUpdate ? onUpdate : null;\n\t\tonComplete = onComplete ? onComplete : null;\n\n\t\tif (!this.tweens[name]) {\n\t\t\tthis.tweens[name] = new TWEEN.Tween(object).to(toState, duration).easing(easing).delay(delay).onStart(onStart).onUpdate(onUpdate).onComplete(onComplete);\n\t\t}\n\n\t\treturn this.tweens[name];\n\t};\n\n\tPANOLENS.Tile.prototype.ripple = function (scale, duration, easing) {\n\n\t\tscale = scale || 2;\n\t\tduration = duration || 200;\n\t\teasing = easing || TWEEN.Easing.Cubic.Out;\n\n\t\tvar scope = this,\n\t\t    ripple = this.clone();\n\n\t\tnew TWEEN.Tween(ripple.scale).to({ x: scale, y: scale }, duration).easing(easing).start();\n\n\t\tnew TWEEN.Tween(ripple.material).to({ opacity: 0 }, duration).easing(easing).onComplete(function () {\n\t\t\tscope.remove(ripple);\n\t\t\tripple.geometry.dispose();\n\t\t\tripple.material.dispose();\n\t\t}).start();\n\n\t\tthis.add(ripple);\n\t};\n\n\tPANOLENS.Tile.prototype.setEntity = function (entity) {\n\n\t\tthis.entity = entity;\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.TileGroup = function (tileArray, verticalGap, depthGap, animationDuration, offset) {\n\n\t\tvar scope = this,\n\t\t    textureLoader;\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"].call(this);\n\n\t\tthis.tileArray = tileArray || [];\n\t\tthis.offset = offset !== undefined ? offset : 0;\n\t\tthis.v_gap = verticalGap !== undefined ? verticalGap : 6;\n\t\tthis.d_gap = depthGap !== undefined ? depthGap : 2;\n\t\tthis.animationDuration = animationDuration !== undefined ? animationDuration : 200;\n\t\tthis.animationEasing = TWEEN.Easing.Exponential.Out;\n\t\tthis.visibleDelta = 2;\n\n\t\tthis.tileArray.map(function (tile, index) {\n\n\t\t\tif (tile.image) {\n\n\t\t\t\tPANOLENS.Utils.TextureLoader.load(tile.image, scope.setTexture.bind(tile));\n\t\t\t}\n\n\t\t\ttile.position.set(0, index * -scope.v_gap, index * -scope.d_gap);\n\t\t\ttile.originalPosition = tile.position.clone();\n\t\t\ttile.setEntity(scope);\n\t\t\tscope.add(tile);\n\t\t});\n\n\t\tthis.updateVisbility();\n\t};\n\n\tPANOLENS.TileGroup.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"].prototype);\n\n\tPANOLENS.TileGroup.prototype.constructor = PANOLENS.TileGroup;\n\n\tPANOLENS.TileGroup.prototype.updateTexture = function (imageArray) {\n\n\t\tvar scope = this;\n\n\t\timageArray = imageArray || [];\n\t\tthis.children.map(function (child, index) {\n\t\t\tif (child instanceof PANOLENS.Tile && imageArray[index]) {\n\t\t\t\tPANOLENS.Utils.TextureLoader.load(imageArray[index], scope.setTexture.bind(child));\n\t\t\t\tif (child.outline) {\n\t\t\t\t\tchild.outline.material.visible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tPANOLENS.TileGroup.prototype.updateAllTexture = function (imageArray) {\n\n\t\tthis.updateTexture(imageArray);\n\n\t\tif (imageArray.length < this.children.length) {\n\t\t\tfor (var i = imageArray.length; i < this.children.length; i++) {\n\t\t\t\tif (this.children[i] instanceof PANOLENS.Tile) {\n\t\t\t\t\tthis.children[i].material.visible = false;\n\t\t\t\t\tif (this.children[i].outline) {\n\t\t\t\t\t\tthis.children[i].outline.material.visible = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tPANOLENS.TileGroup.prototype.setTexture = function (texture) {\n\n\t\ttexture.minFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\t\ttexture.magFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\t\tthis.material.visible = true;\n\t\tthis.material.map = texture;\n\t\tthis.material.needsUpdate = true;\n\t};\n\n\tPANOLENS.TileGroup.prototype.updateVisbility = function () {\n\n\t\tthis.children[this.offset].visible = true;\n\t\tnew TWEEN.Tween(this.children[this.offset].material).to({ opacity: 1 }, this.animationDuration).easing(this.animationEasing).start();\n\n\t\tif (this.children[this.offset].outline) {\n\n\t\t\tthis.children[this.offset].outline.visible = true;\n\t\t}\n\n\t\tfor (var i = this.offset - 1; i >= 0; i--) {\n\n\t\t\tif (this.tileArray.indexOf(this.children[i]) === -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (this.offset - i <= this.visibleDelta) {\n\n\t\t\t\tthis.children[i].visible = true;\n\t\t\t\tnew TWEEN.Tween(this.children[i].material).to({ opacity: 1 / (this.offset - i) * 0.5 }, this.animationDuration).easing(this.animationEasing).start();\n\t\t\t} else {\n\n\t\t\t\tthis.children[i].visible = false;\n\t\t\t}\n\n\t\t\tthis.children[i].outline && (this.children[i].outline.visible = false);\n\t\t}\n\n\t\tfor (var i = this.offset + 1; i < this.children.length; i++) {\n\n\t\t\tif (this.tileArray.indexOf(this.children[i]) === -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (i - this.offset <= this.visibleDelta) {\n\n\t\t\t\tthis.children[i].visible = true;\n\t\t\t\tnew TWEEN.Tween(this.children[i].material).to({ opacity: 1 / (i - this.offset) * 0.5 }, this.animationDuration).easing(this.animationEasing).start();\n\t\t\t} else {\n\n\t\t\t\tthis.children[i].visible = false;\n\t\t\t}\n\n\t\t\tthis.children[i].outline && (this.children[i].outline.visible = false);\n\t\t}\n\t};\n\n\tPANOLENS.TileGroup.prototype.scrollUp = function (duration) {\n\n\t\tvar tiles = this.tileArray,\n\t\t    offset;\n\n\t\tduration = duration !== undefined ? duration : this.animationDuration;\n\n\t\toffset = this.offset + 1;\n\n\t\tif (this.offset < tiles.length - 1 && tiles[this.offset + 1].material.visible) {\n\n\t\t\tfor (var i = tiles.length - 1; i >= 0; i--) {\n\n\t\t\t\tnew TWEEN.Tween(tiles[i].position).to({ y: (i - offset) * -this.v_gap,\n\t\t\t\t\tz: Math.abs(i - offset) * -this.d_gap }, duration).easing(this.animationEasing).start();\n\t\t\t}\n\n\t\t\tthis.offset++;\n\t\t\tthis.updateVisbility();\n\t\t\tthis.dispatchEvent({ type: 'scroll', direction: 'up' });\n\t\t}\n\t};\n\n\tPANOLENS.TileGroup.prototype.scrollDown = function (duration) {\n\n\t\tvar tiles = this.tileArray,\n\t\t    offset;\n\n\t\tduration = duration !== undefined ? duration : this.animationDuration;\n\n\t\toffset = this.offset - 1;\n\n\t\tif (this.offset > 0 && tiles[this.offset - 1].material.visible) {\n\n\t\t\tfor (var i = 0; i < tiles.length; i++) {\n\n\t\t\t\tnew TWEEN.Tween(tiles[i].position).to({ y: (i - offset) * -this.v_gap,\n\t\t\t\t\tz: Math.abs(i - offset) * -this.d_gap }, duration).easing(this.animationEasing).start();\n\t\t\t}\n\n\t\t\tthis.offset--;\n\t\t\tthis.updateVisbility();\n\t\t\tthis.dispatchEvent({ type: 'scroll', direction: 'down' });\n\t\t}\n\t};\n\n\tPANOLENS.TileGroup.prototype.reset = function () {\n\n\t\tthis.tileArray.map(function (child, index) {\n\n\t\t\tchild.position.copy(child.originalPosition);\n\t\t});\n\n\t\tthis.offset = 0;\n\t\tthis.updateVisbility();\n\t};\n\n\tPANOLENS.TileGroup.prototype.getIndex = function () {\n\n\t\treturn this.offset;\n\t};\n\n\tPANOLENS.TileGroup.prototype.getTileCount = function () {\n\n\t\tvar count = 0;\n\n\t\tthis.tileArray.map(function (tile) {\n\n\t\t\tif (tile.material.visible) {\n\n\t\t\t\tcount++;\n\t\t\t}\n\t\t});\n\n\t\treturn count;\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tvar sharedFont, sharedTexture;\n\tvar pendingQueue = [];\n\n\tPANOLENS.SpriteText = function (text, maxWidth, color, opacity, options) {\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"].call(this);\n\n\t\tthis.text = text || '';\n\t\tthis.maxWidth = maxWidth || 2000;\n\t\tthis.color = color || 0xffffff;\n\t\tthis.opacity = opacity !== undefined ? opacity : 1;\n\t\tthis.options = options || {};\n\n\t\tthis.animationDuration = 500;\n\t\tthis.animationFadeOut = undefined;\n\t\tthis.animationFadeIn = undefined;\n\t\tthis.tweens = {};\n\n\t\tthis.addText(text);\n\t};\n\n\tPANOLENS.SpriteText.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"].prototype);\n\n\tPANOLENS.SpriteText.prototype.constructor = PANOLENS.SpriteText;\n\n\tPANOLENS.SpriteText.prototype.generateTextGeometry = function () {};\n\tPANOLENS.SpriteText.prototype.generateSDFShader = function () {};\n\n\tPANOLENS.SpriteText.prototype.setBMFont = function (callback, font, texture) {\n\n\t\ttexture.needsUpdate = true;\n\t\ttexture.minFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearMipMapLinearFilter\"];\n\t\ttexture.magFilter = __WEBPACK_IMPORTED_MODULE_8_three__[\"LinearFilter\"];\n\t\ttexture.generateMipmaps = true;\n\t\ttexture.anisotropy = 8;\n\n\t\tsharedFont = font;\n\t\tsharedTexture = texture;\n\n\t\tfor (var i = pendingQueue.length - 1; i >= 0; i--) {\n\t\t\tpendingQueue[i].target.addText(pendingQueue[i].text);\n\t\t}\n\n\t\twhile (pendingQueue.length > 0) {\n\t\t\tpendingQueue.pop();\n\t\t}\n\n\t\tcallback && callback();\n\t};\n\n\tPANOLENS.SpriteText.prototype.addText = function (text) {\n\n\t\tif (!sharedFont || !sharedTexture) {\n\t\t\tpendingQueue.push({ target: this, text: text });\n\t\t\treturn;\n\t\t}\n\n\t\tvar textAnchor = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Object3D\"]();\n\n\t\tthis.options.text = text;\n\t\tthis.options.font = sharedFont;\n\t\tthis.options.width = this.maxWidth;\n\n\t\tvar geometry = this.generateTextGeometry(this.options);\n\t\tgeometry.computeBoundingBox();\n\t\tgeometry.computeBoundingSphere();\n\n\t\tvar material = new __WEBPACK_IMPORTED_MODULE_8_three__[\"RawShaderMaterial\"](this.generateSDFShader({\n\t\t\tmap: sharedTexture,\n\t\t\tside: __WEBPACK_IMPORTED_MODULE_8_three__[\"DoubleSide\"],\n\t\t\ttransparent: true,\n\t\t\tcolor: this.color,\n\t\t\topacity: this.opacity\n\t\t}));\n\n\t\tvar layout = geometry.layout;\n\t\tvar textMesh = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Mesh\"](geometry, material);\n\n\t\ttextMesh.entity = this;\n\t\ttextMesh.position.x = -layout.width / 2;\n\t\ttextMesh.position.y = layout.height * 1.035;\n\n\t\ttextAnchor.scale.x = textAnchor.scale.y = -0.05;\n\t\ttextAnchor.add(textMesh);\n\n\t\tthis.mesh = textMesh;\n\t\tthis.add(textAnchor);\n\t};\n\n\tPANOLENS.SpriteText.prototype.update = function (options) {\n\n\t\tvar mesh;\n\n\t\toptions = options || {};\n\n\t\tmesh = this.mesh;\n\n\t\tmesh.geometry.update(options);\n\t\tmesh.position.x = -mesh.geometry.layout.width / 2;\n\t\tmesh.position.y = mesh.geometry.layout.height * 1.035;\n\t};\n\n\tPANOLENS.SpriteText.prototype.tween = function (name, object, toState, duration, easing, delay, onStart, onUpdate, onComplete) {\n\n\t\tobject = object || this;\n\t\ttoState = toState || {};\n\t\tduration = duration || this.animationDuration;\n\t\teasing = easing || TWEEN.Easing.Exponential.Out;\n\t\tdelay = delay !== undefined ? delay : 0;\n\t\tonStart = onStart ? onStart : null;\n\t\tonUpdate = onUpdate ? onUpdate : null;\n\t\tonComplete = onComplete ? onComplete : null;\n\n\t\tif (!this.tweens[name]) {\n\t\t\tthis.tweens[name] = new TWEEN.Tween(object).to(toState, duration).easing(easing).delay(delay).onStart(onStart).onUpdate(onUpdate).onComplete(onComplete);\n\t\t}\n\n\t\treturn this.tweens[name];\n\t};\n\n\tPANOLENS.SpriteText.prototype.getLayout = function () {\n\n\t\treturn this.mesh && this.mesh.geometry && this.mesh.geometry.layout || {};\n\t};\n\n\tPANOLENS.SpriteText.prototype.setEntity = function (entity) {\n\n\t\tthis.entity = entity;\n\t};\n})();;(function () {\n\tPANOLENS.Widget = function (container) {\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].call(this);\n\n\t\tthis.DEFAULT_TRANSITION = 'all 0.27s ease';\n\t\tthis.TOUCH_ENABLED = PANOLENS.Utils.checkTouchSupported();\n\t\tthis.PREVENT_EVENT_HANDLER = function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tthis.container = container;\n\n\t\tthis.barElement;\n\t\tthis.fullscreenElement;\n\t\tthis.videoElement;\n\t\tthis.settingElement;\n\n\t\tthis.mainMenu;\n\n\t\tthis.activeMainItem;\n\t\tthis.activeSubMenu;\n\t\tthis.mask;\n\t};\n\n\tPANOLENS.Widget.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].prototype);\n\n\tPANOLENS.Widget.prototype.constructor = PANOLENS.Widget;\n\n\tPANOLENS.Widget.prototype.addControlBar = function () {\n\n\t\tif (!this.container) {\n\n\t\t\tconsole.warn('Widget container not set');\n\t\t\treturn;\n\t\t}\n\n\t\tvar scope = this,\n\t\t    bar,\n\t\t    styleTranslate,\n\t\t    styleOpacity,\n\t\t    gradientStyle;\n\n\t\tgradientStyle = 'linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))';\n\n\t\tbar = document.createElement('div');\n\t\tbar.style.width = '100%';\n\t\tbar.style.height = '44px';\n\t\tbar.style.float = 'left';\n\t\tbar.style.transform = bar.style.webkitTransform = bar.style.msTransform = 'translateY(-100%)';\n\t\tbar.style.background = '-webkit-' + gradientStyle;\n\t\tbar.style.background = '-moz-' + gradientStyle;\n\t\tbar.style.background = '-o-' + gradientStyle;\n\t\tbar.style.background = '-ms-' + gradientStyle;\n\t\tbar.style.background = gradientStyle;\n\t\tbar.style.transition = this.DEFAULT_TRANSITION;\n\t\tbar.style.pointerEvents = 'none';\n\t\tbar.isHidden = false;\n\t\tbar.toggle = function () {\n\t\t\tbar.isHidden = !bar.isHidden;\n\t\t\tstyleTranslate = bar.isHidden ? 'translateY(0)' : 'translateY(-100%)';\n\t\t\tstyleOpacity = bar.isHidden ? 0 : 1;\n\t\t\tbar.style.transform = bar.style.webkitTransform = bar.style.msTransform = styleTranslate;\n\t\t\tbar.style.opacity = styleOpacity;\n\t\t};\n\n\t\tvar menu = this.createDefaultMenu();\n\t\tthis.mainMenu = this.createMainMenu(menu);\n\t\tbar.appendChild(this.mainMenu);\n\n\t\tvar mask = this.createMask();\n\t\tthis.mask = mask;\n\t\tthis.container.appendChild(mask);\n\n\t\tbar.dispose = function () {\n\n\t\t\tif (scope.fullscreenElement) {\n\n\t\t\t\tbar.removeChild(scope.fullscreenElement);\n\t\t\t\tscope.fullscreenElement.dispose();\n\t\t\t\tscope.fullscreenElement = null;\n\t\t\t}\n\n\t\t\tif (scope.settingElement) {\n\n\t\t\t\tbar.removeChild(scope.settingElement);\n\t\t\t\tscope.settingElement.dispose();\n\t\t\t\tscope.settingElement = null;\n\t\t\t}\n\n\t\t\tif (scope.videoElement) {\n\n\t\t\t\tbar.removeChild(scope.videoElement);\n\t\t\t\tscope.videoElement.dispose();\n\t\t\t\tscope.videoElement = null;\n\t\t\t}\n\t\t};\n\n\t\tthis.container.appendChild(bar);\n\n\t\tthis.mask.addEventListener('mousemove', this.PREVENT_EVENT_HANDLER, true);\n\t\tthis.mask.addEventListener('mouseup', this.PREVENT_EVENT_HANDLER, true);\n\t\tthis.mask.addEventListener('mousedown', this.PREVENT_EVENT_HANDLER, true);\n\t\tthis.mask.addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', function (event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tscope.mask.hide();\n\t\t\tscope.settingElement.deactivate();\n\t\t}, false);\n\n\t\tthis.addEventListener('control-bar-toggle', bar.toggle);\n\n\t\tthis.barElement = bar;\n\t};\n\n\tPANOLENS.Widget.prototype.createDefaultMenu = function () {\n\n\t\tvar scope = this,\n\t\t    handler;\n\n\t\thandler = function handler(method, data) {\n\n\t\t\treturn function () {\n\n\t\t\t\tscope.dispatchEvent({\n\n\t\t\t\t\ttype: 'panolens-viewer-handler',\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tdata: data\n\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\n\t\treturn [{\n\t\t\ttitle: 'Control',\n\t\t\tsubMenu: [{\n\t\t\t\ttitle: this.TOUCH_ENABLED ? 'Touch' : 'Mouse',\n\t\t\t\thandler: handler('enableControl', PANOLENS.Controls.ORBIT)\n\t\t\t}, {\n\t\t\t\ttitle: 'Sensor',\n\t\t\t\thandler: handler('enableControl', PANOLENS.Controls.DEVICEORIENTATION)\n\t\t\t}]\n\t\t}, {\n\t\t\ttitle: 'Mode',\n\t\t\tsubMenu: [{\n\t\t\t\ttitle: 'Normal',\n\t\t\t\thandler: handler('disableEffect')\n\t\t\t}, {\n\t\t\t\ttitle: 'Cardboard',\n\t\t\t\thandler: handler('enableEffect', PANOLENS.Modes.CARDBOARD)\n\t\t\t}, {\n\t\t\t\ttitle: 'Stereoscopic',\n\t\t\t\thandler: handler('enableEffect', PANOLENS.Modes.STEREO)\n\t\t\t}]\n\t\t}];\n\t};\n\n\tPANOLENS.Widget.prototype.addControlButton = function (name) {\n\n\t\tvar element;\n\n\t\tswitch (name) {\n\n\t\t\tcase 'fullscreen':\n\n\t\t\t\telement = this.createFullscreenButton();\n\t\t\t\tthis.fullscreenElement = element;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'setting':\n\n\t\t\t\telement = this.createSettingButton();\n\t\t\t\tthis.settingElement = element;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'video':\n\n\t\t\t\telement = this.createVideoControl();\n\t\t\t\tthis.videoElement = element;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\treturn;\n\n\t\t}\n\n\t\tif (!element) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.barElement.appendChild(element);\n\t};\n\n\tPANOLENS.Widget.prototype.createMask = function () {\n\n\t\tvar element = document.createElement('div');\n\t\telement.style.position = 'absolute';\n\t\telement.style.top = 0;\n\t\telement.style.left = 0;\n\t\telement.style.width = '100%';\n\t\telement.style.height = '100%';\n\t\telement.style.background = 'transparent';\n\t\telement.style.display = 'none';\n\n\t\telement.show = function () {\n\n\t\t\tthis.style.display = 'block';\n\t\t};\n\n\t\telement.hide = function () {\n\n\t\t\tthis.style.display = 'none';\n\t\t};\n\n\t\treturn element;\n\t};\n\n\tPANOLENS.Widget.prototype.createSettingButton = function () {\n\n\t\tvar scope = this,\n\t\t    item;\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tscope.mainMenu.toggle();\n\n\t\t\tif (this.activated) {\n\n\t\t\t\tthis.deactivate();\n\t\t\t} else {\n\n\t\t\t\tthis.activate();\n\t\t\t}\n\t\t}\n\n\t\titem = this.createCustomItem({\n\n\t\t\tstyle: {\n\n\t\t\t\tbackgroundImage: 'url(\"' + PANOLENS.DataImage.Setting + '\")',\n\t\t\t\twebkitTransition: this.DEFAULT_TRANSITION,\n\t\t\t\ttransition: this.DEFAULT_TRANSITION\n\n\t\t\t},\n\n\t\t\tonTap: onTap\n\n\t\t});\n\n\t\titem.activate = function () {\n\n\t\t\tthis.style.transform = 'rotate3d(0,0,1,90deg)';\n\t\t\tthis.activated = true;\n\t\t\tscope.mask.show();\n\t\t};\n\n\t\titem.deactivate = function () {\n\n\t\t\tthis.style.transform = 'rotate3d(0,0,0,0)';\n\t\t\tthis.activated = false;\n\t\t\tscope.mask.hide();\n\n\t\t\tif (scope.mainMenu && scope.mainMenu.visible) {\n\n\t\t\t\tscope.mainMenu.hide();\n\t\t\t}\n\n\t\t\tif (scope.activeSubMenu && scope.activeSubMenu.visible) {\n\n\t\t\t\tscope.activeSubMenu.hide();\n\t\t\t}\n\n\t\t\tif (scope.mainMenu && scope.mainMenu._width) {\n\n\t\t\t\tscope.mainMenu.changeSize(scope.mainMenu._width);\n\t\t\t\tscope.mainMenu.unslideAll();\n\t\t\t}\n\t\t};\n\n\t\titem.activated = false;\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createFullscreenButton = function () {\n\n\t\tvar scope = this,\n\t\t    item,\n\t\t    isFullscreen = false,\n\t\t    tapSkipped = true,\n\t\t    stylesheetId;\n\n\t\tstylesheetId = 'panolens-style-addon';\n\n\t\tif (!document.fullscreenEnabled && !document.webkitFullscreenEnabled && !document.mozFullScreenEnabled && !document.msFullscreenEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\ttapSkipped = false;\n\n\t\t\tif (!isFullscreen) {\n\t\t\t\tscope.container.requestFullscreen && scope.container.requestFullscreen();\n\t\t\t\tscope.container.msRequestFullscreen && scope.container.msRequestFullscreen();\n\t\t\t\tscope.container.mozRequestFullScreen && scope.container.mozRequestFullScreen();\n\t\t\t\tscope.container.webkitRequestFullscreen && scope.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t\tisFullscreen = true;\n\t\t\t} else {\n\t\t\t\tdocument.exitFullscreen && document.exitFullscreen();\n\t\t\t\tdocument.msExitFullscreen && document.msExitFullscreen();\n\t\t\t\tdocument.mozCancelFullScreen && document.mozCancelFullScreen();\n\t\t\t\tdocument.webkitExitFullscreen && document.webkitExitFullscreen();\n\t\t\t\tisFullscreen = false;\n\t\t\t}\n\n\t\t\tthis.style.backgroundImage = isFullscreen ? 'url(\"' + PANOLENS.DataImage.FullscreenLeave + '\")' : 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")';\n\t\t}\n\n\t\tfunction onFullScreenChange(e) {\n\n\t\t\tif (tapSkipped) {\n\n\t\t\t\tisFullscreen = !isFullscreen;\n\n\t\t\t\titem.style.backgroundImage = isFullscreen ? 'url(\"' + PANOLENS.DataImage.FullscreenLeave + '\")' : 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")';\n\t\t\t}\n\n\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'onWindowResize', data: false });\n\n\t\t\ttapSkipped = true;\n\t\t}\n\n\t\tdocument.addEventListener('fullscreenchange', onFullScreenChange, false);\n\t\tdocument.addEventListener('webkitfullscreenchange', onFullScreenChange, false);\n\t\tdocument.addEventListener('mozfullscreenchange', onFullScreenChange, false);\n\t\tdocument.addEventListener('MSFullscreenChange', onFullScreenChange, false);\n\n\t\titem = this.createCustomItem({\n\n\t\t\tstyle: {\n\n\t\t\t\tbackgroundImage: 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")'\n\n\t\t\t},\n\n\t\t\tonTap: onTap\n\n\t\t});\n\n\t\tif (!document.querySelector(stylesheetId)) {\n\t\t\tvar sheet = document.createElement('style');\n\t\t\tsheet.id = stylesheetId;\n\t\t\tsheet.innerHTML = ':-webkit-full-screen { width: 100% !important; height: 100% !important }';\n\t\t\tdocument.body.appendChild(sheet);\n\t\t}\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createVideoControl = function () {\n\n\t\tvar item;\n\n\t\titem = document.createElement('span');\n\t\titem.style.display = 'none';\n\t\titem.show = function () {\n\n\t\t\titem.style.display = '';\n\t\t};\n\n\t\titem.hide = function () {\n\n\t\t\titem.style.display = 'none';\n\t\t\titem.controlButton.paused = true;\n\t\t\titem.controlButton.update();\n\t\t};\n\n\t\titem.controlButton = this.createVideoControlButton();\n\t\titem.seekBar = this.createVideoControlSeekbar();\n\n\t\titem.appendChild(item.controlButton);\n\t\titem.appendChild(item.seekBar);\n\n\t\titem.dispose = function () {\n\n\t\t\titem.removeChild(item.controlButton);\n\t\t\titem.removeChild(item.seekBar);\n\n\t\t\titem.controlButton.dispose();\n\t\t\titem.controlButton = null;\n\n\t\t\titem.seekBar.dispose();\n\t\t\titem.seekBar = null;\n\t\t};\n\n\t\tthis.addEventListener('video-control-show', item.show);\n\t\tthis.addEventListener('video-control-hide', item.hide);\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createVideoControlButton = function () {\n\n\t\tvar scope = this,\n\t\t    item;\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'toggleVideoPlay', data: !this.paused });\n\n\t\t\tthis.paused = !this.paused;\n\n\t\t\titem.update();\n\t\t};\n\n\t\titem = this.createCustomItem({\n\n\t\t\tstyle: {\n\n\t\t\t\tfloat: 'left',\n\t\t\t\tbackgroundImage: 'url(\"' + PANOLENS.DataImage.VideoPlay + '\")'\n\n\t\t\t},\n\n\t\t\tonTap: onTap\n\n\t\t});\n\n\t\titem.paused = true;\n\n\t\titem.update = function (paused) {\n\n\t\t\tthis.paused = paused !== undefined ? paused : this.paused;\n\n\t\t\tthis.style.backgroundImage = 'url(\"' + (this.paused ? PANOLENS.DataImage.VideoPlay : PANOLENS.DataImage.VideoPause) + '\")';\n\t\t};\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createVideoControlSeekbar = function () {\n\n\t\tvar scope = this,\n\t\t    item,\n\t\t    progressElement,\n\t\t    progressElementControl,\n\t\t    isDragging = false,\n\t\t    mouseX,\n\t\t    percentageNow,\n\t\t    percentageNext;\n\n\t\tprogressElement = document.createElement('div');\n\t\tprogressElement.style.width = '0%';\n\t\tprogressElement.style.height = '100%';\n\t\tprogressElement.style.backgroundColor = '#fff';\n\n\t\tprogressElementControl = document.createElement('div');\n\t\tprogressElementControl.style.float = 'right';\n\t\tprogressElementControl.style.width = '14px';\n\t\tprogressElementControl.style.height = '14px';\n\t\tprogressElementControl.style.transform = 'translate(7px, -5px)';\n\t\tprogressElementControl.style.borderRadius = '50%';\n\t\tprogressElementControl.style.backgroundColor = '#ddd';\n\n\t\tprogressElementControl.addEventListener('mousedown', onMouseDown, false);\n\t\tprogressElementControl.addEventListener('touchstart', onMouseDown, false);\n\n\t\tfunction onMouseDown(event) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tisDragging = true;\n\n\t\t\tmouseX = event.clientX || event.changedTouches && event.changedTouches[0].clientX;\n\n\t\t\tpercentageNow = parseInt(progressElement.style.width) / 100;\n\n\t\t\taddControlListeners();\n\t\t}\n\n\t\tfunction onVideoControlDrag(event) {\n\n\t\t\tvar clientX;\n\n\t\t\tif (isDragging) {\n\n\t\t\t\tclientX = event.clientX || event.changedTouches && event.changedTouches[0].clientX;\n\n\t\t\t\tpercentageNext = (clientX - mouseX) / item.clientWidth;\n\n\t\t\t\tpercentageNext = percentageNow + percentageNext;\n\n\t\t\t\tpercentageNext = percentageNext > 1 ? 1 : percentageNext < 0 ? 0 : percentageNext;\n\n\t\t\t\titem.setProgress(percentageNext);\n\n\t\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentageNext });\n\t\t\t}\n\t\t}\n\n\t\tfunction onVideoControlStop(event) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tisDragging = false;\n\n\t\t\tremoveControlListeners();\n\t\t}\n\n\t\tfunction addControlListeners() {\n\n\t\t\tscope.container.addEventListener('mousemove', onVideoControlDrag, false);\n\t\t\tscope.container.addEventListener('mouseup', onVideoControlStop, false);\n\t\t\tscope.container.addEventListener('touchmove', onVideoControlDrag, false);\n\t\t\tscope.container.addEventListener('touchend', onVideoControlStop, false);\n\t\t}\n\n\t\tfunction removeControlListeners() {\n\n\t\t\tscope.container.removeEventListener('mousemove', onVideoControlDrag, false);\n\t\t\tscope.container.removeEventListener('mouseup', onVideoControlStop, false);\n\t\t\tscope.container.removeEventListener('touchmove', onVideoControlDrag, false);\n\t\t\tscope.container.removeEventListener('touchend', onVideoControlStop, false);\n\t\t}\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar percentage;\n\n\t\t\tif (event.target === progressElementControl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpercentage = event.changedTouches && event.changedTouches.length > 0 ? (event.changedTouches[0].pageX - event.target.getBoundingClientRect().left) / this.clientWidth : event.offsetX / this.clientWidth;\n\n\t\t\tscope.dispatchEvent({ type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentage });\n\n\t\t\titem.setProgress(event.offsetX / this.clientWidth);\n\t\t};\n\n\t\tfunction onDispose() {\n\n\t\t\tremoveControlListeners();\n\t\t\tprogressElement = null;\n\t\t\tprogressElementControl = null;\n\t\t}\n\n\t\tprogressElement.appendChild(progressElementControl);\n\n\t\titem = this.createCustomItem({\n\n\t\t\tstyle: {\n\n\t\t\t\tfloat: 'left',\n\t\t\t\twidth: '30%',\n\t\t\t\theight: '4px',\n\t\t\t\tmarginTop: '20px',\n\t\t\t\tbackgroundColor: 'rgba(188,188,188,0.8)'\n\n\t\t\t},\n\n\t\t\tonTap: onTap,\n\t\t\tonDispose: onDispose\n\n\t\t});\n\n\t\titem.appendChild(progressElement);\n\n\t\titem.setProgress = function (percentage) {\n\n\t\t\tprogressElement.style.width = percentage * 100 + '%';\n\t\t};\n\n\t\tthis.addEventListener('video-update', function (event) {\n\n\t\t\titem.setProgress(event.percentage);\n\t\t});\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createMenuItem = function (title) {\n\n\t\tvar scope = this,\n\t\t    item = document.createElement('a');\n\t\titem.textContent = title;\n\t\titem.style.display = 'block';\n\t\titem.style.padding = '10px';\n\t\titem.style.textDecoration = 'none';\n\t\titem.style.cursor = 'pointer';\n\t\titem.style.pointerEvents = 'auto';\n\t\titem.style.transition = this.DEFAULT_TRANSITION;\n\n\t\titem.slide = function (right) {\n\n\t\t\tthis.style.transform = 'translateX(' + (right ? '' : '-') + '100%)';\n\t\t};\n\n\t\titem.unslide = function () {\n\n\t\t\tthis.style.transform = 'translateX(0)';\n\t\t};\n\n\t\titem.setIcon = function (url) {\n\n\t\t\tif (this.icon) {\n\n\t\t\t\tthis.icon.style.backgroundImage = 'url(' + url + ')';\n\t\t\t}\n\t\t};\n\n\t\titem.setSelectionTitle = function (title) {\n\n\t\t\tif (this.selection) {\n\n\t\t\t\tthis.selection.textContent = title;\n\t\t\t}\n\t\t};\n\n\t\titem.addSelection = function (name) {\n\n\t\t\tvar selection = document.createElement('span');\n\t\t\tselection.style.fontSize = '13px';\n\t\t\tselection.style.fontWeight = '300';\n\t\t\tselection.style.float = 'right';\n\n\t\t\tthis.selection = selection;\n\t\t\tthis.setSelectionTitle(name);\n\t\t\tthis.appendChild(selection);\n\n\t\t\treturn this;\n\t\t};\n\n\t\titem.addIcon = function (url, left, flip) {\n\n\t\t\turl = url || PANOLENS.DataImage.ChevronRight;\n\t\t\tleft = left || false;\n\t\t\tflip = flip || false;\n\n\t\t\tvar element = document.createElement('span');\n\t\t\telement.style.float = left ? 'left' : 'right';\n\t\t\telement.style.width = '17px';\n\t\t\telement.style.height = '17px';\n\t\t\telement.style['margin' + (left ? 'Right' : 'Left')] = '12px';\n\t\t\telement.style.backgroundSize = 'cover';\n\n\t\t\tif (flip) {\n\n\t\t\t\telement.style.transform = 'rotateZ(180deg)';\n\t\t\t}\n\n\t\t\tthis.icon = element;\n\t\t\tthis.setIcon(url);\n\t\t\tthis.appendChild(element);\n\n\t\t\treturn this;\n\t\t};\n\n\t\titem.addSubMenu = function (title, items) {\n\n\t\t\tthis.subMenu = scope.createSubMenu(title, items);\n\n\t\t\treturn this;\n\t\t};\n\n\t\titem.addEventListener('mouseenter', function () {\n\n\t\t\tthis.style.backgroundColor = '#e0e0e0';\n\t\t}, false);\n\n\t\titem.addEventListener('mouseleave', function () {\n\n\t\t\tthis.style.backgroundColor = '#fafafa';\n\t\t}, false);\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.createMenuItemHeader = function (title) {\n\n\t\tvar header = this.createMenuItem(title);\n\n\t\theader.style.borderBottom = '1px solid #333';\n\t\theader.style.paddingBottom = '15px';\n\n\t\treturn header;\n\t};\n\n\tPANOLENS.Widget.prototype.createMainMenu = function (menus) {\n\n\t\tvar scope = this,\n\t\t    menu = this.createMenu(),\n\t\t    subMenu;\n\n\t\tmenu._width = 200;\n\t\tmenu.changeSize(menu._width);\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar mainMenu = scope.mainMenu,\n\t\t\t    subMenu = this.subMenu;\n\n\t\t\tfunction onNextTick() {\n\n\t\t\t\tmainMenu.changeSize(subMenu.clientWidth);\n\t\t\t\tsubMenu.show();\n\t\t\t\tsubMenu.unslideAll();\n\t\t\t}\n\n\t\t\tmainMenu.hide();\n\t\t\tmainMenu.slideAll();\n\t\t\tmainMenu.parentElement.appendChild(subMenu);\n\n\t\t\tscope.activeMainItem = this;\n\t\t\tscope.activeSubMenu = subMenu;\n\n\t\t\twindow.requestAnimationFrame(onNextTick);\n\t\t};\n\n\t\tfor (var i = 0; i < menus.length; i++) {\n\n\t\t\tvar item = menu.addItem(menus[i].title);\n\n\t\t\titem.style.paddingLeft = '20px';\n\n\t\t\titem.addIcon().addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false);\n\n\t\t\tif (menus[i].subMenu && menus[i].subMenu.length > 0) {\n\n\t\t\t\tvar title = menus[i].subMenu[0].title;\n\n\t\t\t\titem.addSelection(title).addSubMenu(menus[i].title, menus[i].subMenu);\n\t\t\t}\n\t\t}\n\n\t\treturn menu;\n\t};\n\n\tPANOLENS.Widget.prototype.createSubMenu = function (title, items) {\n\n\t\tvar scope = this,\n\t\t    menu,\n\t\t    subMenu = this.createMenu();\n\n\t\tsubMenu.items = items;\n\t\tsubMenu.activeItem;\n\n\t\tfunction onTap(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tmenu = scope.mainMenu;\n\t\t\tmenu.changeSize(menu._width);\n\t\t\tmenu.unslideAll();\n\t\t\tmenu.show();\n\t\t\tsubMenu.slideAll(true);\n\t\t\tsubMenu.hide();\n\n\t\t\tif (this.type !== 'header') {\n\n\t\t\t\tsubMenu.setActiveItem(this);\n\t\t\t\tscope.activeMainItem.setSelectionTitle(this.textContent);\n\n\t\t\t\tthis.handler && this.handler();\n\t\t\t}\n\t\t}\n\n\t\tsubMenu.addHeader(title).addIcon(undefined, true, true).addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false);\n\n\t\tfor (var i = 0; i < items.length; i++) {\n\n\t\t\tvar item = subMenu.addItem(items[i].title);\n\n\t\t\titem.style.fontWeight = 300;\n\t\t\titem.handler = items[i].handler;\n\t\t\titem.addIcon(' ', true);\n\t\t\titem.addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false);\n\n\t\t\tif (!subMenu.activeItem) {\n\n\t\t\t\tsubMenu.setActiveItem(item);\n\t\t\t}\n\t\t}\n\n\t\tsubMenu.slideAll(true);\n\n\t\treturn subMenu;\n\t};\n\n\tPANOLENS.Widget.prototype.createMenu = function () {\n\n\t\tvar scope = this,\n\t\t    menu = document.createElement('span'),\n\t\t    style;\n\n\t\tstyle = menu.style;\n\n\t\tstyle.padding = '5px 0';\n\t\tstyle.position = 'fixed';\n\t\tstyle.bottom = '100%';\n\t\tstyle.right = '14px';\n\t\tstyle.backgroundColor = '#fafafa';\n\t\tstyle.fontFamily = 'Helvetica Neue';\n\t\tstyle.fontSize = '14px';\n\t\tstyle.visibility = 'hidden';\n\t\tstyle.opacity = 0;\n\t\tstyle.boxShadow = '0 0 12pt rgba(0,0,0,0.25)';\n\t\tstyle.borderRadius = '2px';\n\t\tstyle.overflow = 'hidden';\n\t\tstyle.willChange = 'width, height, opacity';\n\t\tstyle.pointerEvents = 'auto';\n\t\tstyle.transition = this.DEFAULT_TRANSITION;\n\n\t\tmenu.visible = false;\n\n\t\tmenu.changeSize = function (width, height) {\n\n\t\t\tif (width) {\n\n\t\t\t\tthis.style.width = width + 'px';\n\t\t\t}\n\n\t\t\tif (height) {\n\n\t\t\t\tthis.style.height = height + 'px';\n\t\t\t}\n\t\t};\n\n\t\tmenu.show = function () {\n\n\t\t\tthis.style.opacity = 1;\n\t\t\tthis.style.visibility = 'visible';\n\t\t\tthis.visible = true;\n\t\t};\n\n\t\tmenu.hide = function () {\n\n\t\t\tthis.style.opacity = 0;\n\t\t\tthis.style.visibility = 'hidden';\n\t\t\tthis.visible = false;\n\t\t};\n\n\t\tmenu.toggle = function () {\n\n\t\t\tif (this.visible) {\n\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t};\n\n\t\tmenu.slideAll = function (right) {\n\n\t\t\tfor (var i = 0; i < menu.children.length; i++) {\n\n\t\t\t\tif (menu.children[i].slide) {\n\n\t\t\t\t\tmenu.children[i].slide(right);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmenu.unslideAll = function () {\n\n\t\t\tfor (var i = 0; i < menu.children.length; i++) {\n\n\t\t\t\tif (menu.children[i].unslide) {\n\n\t\t\t\t\tmenu.children[i].unslide();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmenu.addHeader = function (title) {\n\n\t\t\tvar header = scope.createMenuItemHeader(title);\n\t\t\theader.type = 'header';\n\n\t\t\tthis.appendChild(header);\n\n\t\t\treturn header;\n\t\t};\n\n\t\tmenu.addItem = function (title) {\n\n\t\t\tvar item = scope.createMenuItem(title);\n\t\t\titem.type = 'item';\n\n\t\t\tthis.appendChild(item);\n\n\t\t\treturn item;\n\t\t};\n\n\t\tmenu.setActiveItem = function (item) {\n\n\t\t\tif (this.activeItem) {\n\n\t\t\t\tthis.activeItem.setIcon(' ');\n\t\t\t}\n\n\t\t\titem.setIcon(PANOLENS.DataImage.Check);\n\n\t\t\tthis.activeItem = item;\n\t\t};\n\n\t\tmenu.addEventListener('mousemove', this.PREVENT_EVENT_HANDLER, true);\n\t\tmenu.addEventListener('mouseup', this.PREVENT_EVENT_HANDLER, true);\n\t\tmenu.addEventListener('mousedown', this.PREVENT_EVENT_HANDLER, true);\n\n\t\treturn menu;\n\t};\n\n\tPANOLENS.Widget.prototype.createCustomItem = function (options) {\n\n\t\toptions = options || {};\n\n\t\tvar scope = this,\n\t\t    item = options.element || document.createElement('span');\n\n\t\titem.style.cursor = 'pointer';\n\t\titem.style.float = 'right';\n\t\titem.style.width = '44px';\n\t\titem.style.height = '100%';\n\t\titem.style.backgroundSize = '60%';\n\t\titem.style.backgroundRepeat = 'no-repeat';\n\t\titem.style.backgroundPosition = 'center';\n\t\titem.style.webkitUserSelect = item.style.MozUserSelect = item.style.userSelect = 'none';\n\t\titem.style.position = 'relative';\n\t\titem.style.pointerEvents = 'auto';\n\n\t\titem.addEventListener(scope.TOUCH_ENABLED ? 'touchstart' : 'mouseenter', function () {\n\t\t\titem.style.filter = item.style.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n\t\t});\n\t\titem.addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'mouseleave', function () {\n\t\t\titem.style.filter = item.style.webkitFilter = '';\n\t\t});\n\n\t\titem = this.mergeStyleOptions(item, options.style);\n\n\t\tif (options.onTap) {\n\n\t\t\titem.addEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false);\n\t\t}\n\n\t\titem.dispose = function () {\n\n\t\t\titem.removeEventListener(scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false);\n\n\t\t\toptions.onDispose && options.onDispose();\n\t\t};\n\n\t\treturn item;\n\t};\n\n\tPANOLENS.Widget.prototype.mergeStyleOptions = function (element, options) {\n\n\t\toptions = options || {};\n\n\t\tfor (var property in options) {\n\n\t\t\tif (options.hasOwnProperty(property)) {\n\n\t\t\t\telement.style[property] = options[property];\n\t\t\t}\n\t\t}\n\n\t\treturn element;\n\t};\n\n\tPANOLENS.Widget.prototype.dispose = function () {\n\n\t\tif (this.barElement) {\n\t\t\tthis.container.removeChild(this.barElement);\n\t\t\tthis.barElement.dispose();\n\t\t\tthis.barElement = null;\n\t\t}\n\t};\n})();;(function () {\n\tPANOLENS.Infospot = function (scale, imageSrc, animated) {\n\n\t\tvar scope = this,\n\t\t    ratio,\n\t\t    startScale,\n\t\t    endScale,\n\t\t    duration;\n\n\t\tscale = scale || 300;\n\t\timageSrc = imageSrc || PANOLENS.DataImage.Info;\n\t\tduration = 500;\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Sprite\"].call(this);\n\n\t\tthis.type = 'infospot';\n\n\t\tthis.animated = animated !== undefined ? animated : true;\n\t\tthis.isHovering = false;\n\t\tthis.visible = false;\n\n\t\tthis.element;\n\t\tthis.toPanorama;\n\t\tthis.cursorStyle;\n\n\t\tthis.mode = PANOLENS.Modes.UNKNOWN;\n\n\t\tthis.scale.set(scale, scale, 1);\n\t\tthis.rotation.y = Math.PI;\n\t\tthis.scaleFactor = 1.3;\n\n\t\tthis.container;\n\n\t\tthis.HANDLER_FOCUS;\n\n\t\tPANOLENS.Utils.TextureLoader.load(imageSrc, postLoad);\n\n\t\tfunction postLoad(texture) {\n\n\t\t\ttexture.wrapS = __WEBPACK_IMPORTED_MODULE_8_three__[\"RepeatWrapping\"];\n\t\t\ttexture.repeat.x = -1;\n\n\t\t\ttexture.image.width = texture.image.naturalWidth || 64;\n\t\t\ttexture.image.height = texture.image.naturalHeight || 64;\n\n\t\t\tratio = texture.image.width / texture.image.height;\n\t\t\tscope.scale.set(ratio * scale, scale, 1);\n\n\t\t\tstartScale = scope.scale.clone();\n\n\t\t\tscope.scaleUpAnimation = new TWEEN.Tween(scope.scale).to({ x: startScale.x * scope.scaleFactor, y: startScale.y * scope.scaleFactor }, duration).easing(TWEEN.Easing.Elastic.Out);\n\n\t\t\tscope.scaleDownAnimation = new TWEEN.Tween(scope.scale).to({ x: startScale.x, y: startScale.y }, duration).easing(TWEEN.Easing.Elastic.Out);\n\n\t\t\tscope.material.side = __WEBPACK_IMPORTED_MODULE_8_three__[\"DoubleSide\"];\n\t\t\tscope.material.map = texture;\n\t\t\tscope.material.depthTest = false;\n\t\t\tscope.material.needsUpdate = true;\n\t\t}\n\n\t\tfunction show() {\n\n\t\t\tthis.visible = true;\n\t\t}\n\n\t\tfunction hide() {\n\n\t\t\tthis.visible = false;\n\t\t}\n\n\t\tthis.showAnimation = new TWEEN.Tween(this.material).to({ opacity: 1 }, duration).onStart(show.bind(this)).easing(TWEEN.Easing.Quartic.Out);\n\n\t\tthis.hideAnimation = new TWEEN.Tween(this.material).to({ opacity: 0 }, duration).onComplete(hide.bind(this)).easing(TWEEN.Easing.Quartic.Out);\n\n\t\tthis.addEventListener('click', this.onClick);\n\t\tthis.addEventListener('hover', this.onHover);\n\t\tthis.addEventListener('hoverenter', this.onHoverStart);\n\t\tthis.addEventListener('hoverleave', this.onHoverEnd);\n\t\tthis.addEventListener('panolens-dual-eye-effect', this.onDualEyeEffect);\n\t\tthis.addEventListener('panolens-container', this.setContainer.bind(this));\n\t\tthis.addEventListener('dismiss', this.onDismiss);\n\t\tthis.addEventListener('panolens-infospot-focus', this.setFocusMethod);\n\t};\n\n\tPANOLENS.Infospot.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"Sprite\"].prototype);\n\n\tPANOLENS.Infospot.prototype.setContainer = function (data) {\n\n\t\tvar container;\n\n\t\tif (data instanceof HTMLElement) {\n\n\t\t\tcontainer = data;\n\t\t} else if (data && data.container) {\n\n\t\t\tcontainer = data.container;\n\t\t}\n\n\t\tif (container && this.element) {\n\n\t\t\tcontainer.appendChild(this.element);\n\t\t}\n\n\t\tthis.container = container;\n\t};\n\n\tPANOLENS.Infospot.prototype.getContainer = function () {\n\n\t\treturn this.container;\n\t};\n\n\tPANOLENS.Infospot.prototype.onClick = function (event) {\n\n\t\tif (this.element && this.getContainer()) {\n\n\t\t\tthis.onHoverStart(event);\n\n\t\t\tthis.lockHoverElement();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.onDismiss = function (event) {\n\n\t\tif (this.element) {\n\n\t\t\tthis.unlockHoverElement();\n\t\t\tthis.onHoverEnd();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.onHover = function (event) {};\n\n\tPANOLENS.Infospot.prototype.onHoverStart = function (event) {\n\n\t\tif (!this.getContainer()) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cursorStyle = this.cursorStyle || (this.mode === PANOLENS.Modes.NORMAL ? 'pointer' : 'default');\n\n\t\tthis.isHovering = true;\n\t\tthis.container.style.cursor = cursorStyle;\n\n\t\tif (this.animated) {\n\n\t\t\tthis.scaleDownAnimation && this.scaleDownAnimation.stop();\n\t\t\tthis.scaleUpAnimation && this.scaleUpAnimation.start();\n\t\t}\n\n\t\tif (this.element && event.mouseEvent.clientX >= 0 && event.mouseEvent.clientY >= 0) {\n\n\t\t\tif (this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO) {\n\n\t\t\t\tthis.element.style.display = 'none';\n\t\t\t\tthis.element.left && (this.element.left.style.display = 'block');\n\t\t\t\tthis.element.right && (this.element.right.style.display = 'block');\n\n\t\t\t\tthis.element._width = this.element.left.clientWidth;\n\t\t\t\tthis.element._height = this.element.left.clientHeight;\n\t\t\t} else {\n\n\t\t\t\tthis.element.style.display = 'block';\n\t\t\t\tthis.element.left && (this.element.left.style.display = 'none');\n\t\t\t\tthis.element.right && (this.element.right.style.display = 'none');\n\n\t\t\t\tthis.element._width = this.element.clientWidth;\n\t\t\t\tthis.element._height = this.element.clientHeight;\n\t\t\t}\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.onHoverEnd = function () {\n\n\t\tif (!this.getContainer()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isHovering = false;\n\t\tthis.container.style.cursor = 'default';\n\n\t\tif (this.animated) {\n\n\t\t\tthis.scaleUpAnimation && this.scaleUpAnimation.stop();\n\t\t\tthis.scaleDownAnimation && this.scaleDownAnimation.start();\n\t\t}\n\n\t\tif (this.element && !this.element.locked) {\n\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.left && (this.element.left.style.display = 'none');\n\t\t\tthis.element.right && (this.element.right.style.display = 'none');\n\n\t\t\tthis.unlockHoverElement();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.onDualEyeEffect = function (event) {\n\n\t\tif (!this.getContainer()) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element, halfWidth, halfHeight;\n\n\t\tthis.mode = event.mode;\n\n\t\telement = this.element;\n\n\t\thalfWidth = this.container.clientWidth / 2;\n\t\thalfHeight = this.container.clientHeight / 2;\n\n\t\tif (!element) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!element.left || !element.right) {\n\n\t\t\telement.left = element.cloneNode(true);\n\t\t\telement.right = element.cloneNode(true);\n\t\t}\n\n\t\tif (this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO) {\n\n\t\t\telement.left.style.display = element.style.display;\n\t\t\telement.right.style.display = element.style.display;\n\t\t\telement.style.display = 'none';\n\t\t} else {\n\n\t\t\telement.style.display = element.left.style.display;\n\t\t\telement.left.style.display = 'none';\n\t\t\telement.right.style.display = 'none';\n\t\t}\n\n\t\tthis.translateElement(halfWidth, halfHeight);\n\n\t\tthis.container.appendChild(element.left);\n\t\tthis.container.appendChild(element.right);\n\t};\n\n\tPANOLENS.Infospot.prototype.translateElement = function (x, y) {\n\n\t\tif (!this.element._width || !this.element._height || !this.getContainer()) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar left, top, element, width, height, delta, container;\n\n\t\tcontainer = this.container;\n\t\telement = this.element;\n\t\twidth = element._width / 2;\n\t\theight = element._height / 2;\n\t\tdelta = element.verticalDelta !== undefined ? element.verticalDelta : 40;\n\n\t\tleft = x - width;\n\t\ttop = y - height - delta;\n\n\t\tif ((this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO) && element.left && element.right && !(x === container.clientWidth / 2 && y === container.clientHeight / 2)) {\n\n\t\t\tleft = container.clientWidth / 4 - width + (x - container.clientWidth / 2);\n\t\t\ttop = container.clientHeight / 2 - height - delta + (y - container.clientHeight / 2);\n\n\t\t\tthis.setElementStyle('transform', element.left, 'translate(' + left + 'px, ' + top + 'px)');\n\n\t\t\tleft += container.clientWidth / 2;\n\n\t\t\tthis.setElementStyle('transform', element.right, 'translate(' + left + 'px, ' + top + 'px)');\n\t\t} else {\n\n\t\t\tthis.setElementStyle('transform', element, 'translate(' + left + 'px, ' + top + 'px)');\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.setElementStyle = function (type, element, value) {\n\n\t\tvar style = element.style;\n\n\t\tif (type === 'transform') {\n\n\t\t\tstyle.webkitTransform = style.msTransform = style.transform = value;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.setText = function (text) {\n\n\t\tif (this.element) {\n\n\t\t\tthis.element.textContent = text;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.setCursorHoverStyle = function (style) {\n\n\t\tthis.cursorStyle = style;\n\t};\n\n\tPANOLENS.Infospot.prototype.addHoverText = function (text, delta) {\n\n\t\tif (!this.element) {\n\n\t\t\tthis.element = document.createElement('div');\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.style.color = '#fff';\n\t\t\tthis.element.style.top = 0;\n\t\t\tthis.element.style.maxWidth = '50%';\n\t\t\tthis.element.style.maxHeight = '50%';\n\t\t\tthis.element.style.textShadow = '0 0 3px #000000';\n\t\t\tthis.element.style.fontFamily = '\"Trebuchet MS\", Helvetica, sans-serif';\n\t\t\tthis.element.style.position = 'absolute';\n\t\t\tthis.element.classList.add('panolens-infospot');\n\t\t\tthis.element.verticalDelta = delta !== undefined ? delta : 40;\n\t\t}\n\n\t\tthis.setText(text);\n\t};\n\n\tPANOLENS.Infospot.prototype.addHoverElement = function (el, delta) {\n\n\t\tif (!this.element) {\n\n\t\t\tthis.element = el.cloneNode(true);\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.style.top = 0;\n\t\t\tthis.element.style.position = 'absolute';\n\t\t\tthis.element.classList.add('panolens-infospot');\n\t\t\tthis.element.verticalDelta = delta !== undefined ? delta : 40;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.removeHoverElement = function () {\n\n\t\tif (this.element) {\n\n\t\t\tif (this.element.left) {\n\n\t\t\t\tthis.container.removeChild(this.element.left);\n\t\t\t\tthis.element.left = null;\n\t\t\t}\n\n\t\t\tif (this.element.right) {\n\n\t\t\t\tthis.container.removeChild(this.element.right);\n\t\t\t\tthis.element.right = null;\n\t\t\t}\n\n\t\t\tthis.container.removeChild(this.element);\n\t\t\tthis.element = null;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.lockHoverElement = function () {\n\n\t\tif (this.element) {\n\n\t\t\tthis.element.locked = true;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.unlockHoverElement = function () {\n\n\t\tif (this.element) {\n\n\t\t\tthis.element.locked = false;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.show = function (delay) {\n\n\t\tdelay = delay || 0;\n\n\t\tif (this.animated) {\n\n\t\t\tthis.hideAnimation && this.hideAnimation.stop();\n\t\t\tthis.showAnimation && this.showAnimation.delay(delay).start();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.hide = function (delay) {\n\n\t\tdelay = delay || 0;\n\n\t\tif (this.animated) {\n\n\t\t\tthis.showAnimation && this.showAnimation.stop();\n\t\t\tthis.hideAnimation && this.hideAnimation.delay(delay).start();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.setFocusMethod = function (event) {\n\n\t\tif (event) {\n\n\t\t\tthis.HANDLER_FOCUS = event.method;\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.focus = function (duration, easing) {\n\n\t\tif (this.HANDLER_FOCUS) {\n\n\t\t\tthis.HANDLER_FOCUS(this.position, duration, easing);\n\t\t\tthis.onDismiss();\n\t\t}\n\t};\n\n\tPANOLENS.Infospot.prototype.dispose = function () {\n\n\t\tthis.removeHoverElement();\n\t\tthis.material.dispose();\n\n\t\tif (this.parent) {\n\n\t\t\tthis.parent.remove(this);\n\t\t}\n\t};\n})();;(function () {\n\n\t'use strict';\n\n\tPANOLENS.Viewer = function (options) {\n\n\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].call(this);\n\n\t\tif (!__WEBPACK_IMPORTED_MODULE_8_three__) {\n\n\t\t\tconsole.error('Three.JS not found');\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar container;\n\n\t\toptions = options || {};\n\t\toptions.controlBar = options.controlBar !== undefined ? options.controlBar : true;\n\t\toptions.controlButtons = options.controlButtons || ['fullscreen', 'setting', 'video'];\n\t\toptions.autoHideControlBar = options.autoHideControlBar !== undefined ? options.autoHideControlBar : false;\n\t\toptions.autoHideInfospot = options.autoHideInfospot !== undefined ? options.autoHideInfospot : true;\n\t\toptions.horizontalView = options.horizontalView !== undefined ? options.horizontalView : false;\n\t\toptions.clickTolerance = options.clickTolerance || 10;\n\t\toptions.cameraFov = options.cameraFov || 60;\n\t\toptions.reverseDragging = options.reverseDragging || false;\n\t\toptions.enableReticle = options.enableReticle || false;\n\t\toptions.dwellTime = options.dwellTime || 1500;\n\t\toptions.autoReticleSelect = options.autoReticleSelect !== undefined ? options.autoReticleSelect : true;\n\t\toptions.viewIndicator = options.viewIndicator !== undefined ? options.viewIndicator : false;\n\t\toptions.indicatorSize = options.indicatorSize || 30;\n\t\toptions.output = options.output ? options.output : 'none';\n\n\t\tthis.options = options;\n\n\t\tif (options.container) {\n\n\t\t\tcontainer = options.container;\n\t\t\tcontainer._width = container.clientWidth;\n\t\t\tcontainer._height = container.clientHeight;\n\t\t} else {\n\n\t\t\tcontainer = document.createElement('div');\n\t\t\tcontainer.classList.add('panolens-container');\n\t\t\tcontainer.style.width = '100%';\n\t\t\tcontainer.style.height = '100%';\n\t\t\tcontainer._width = window.innerWidth;\n\t\t\tcontainer._height = window.innerHeight;\n\t\t\tdocument.body.appendChild(container);\n\t\t}\n\n\t\tthis.container = container;\n\n\t\tthis.camera = options.camera || new __WEBPACK_IMPORTED_MODULE_8_three__[\"PerspectiveCamera\"](this.options.cameraFov, this.container.clientWidth / this.container.clientHeight, 1, 10000);\n\t\tthis.scene = options.scene || new __WEBPACK_IMPORTED_MODULE_8_three__[\"Scene\"]();\n\t\tthis.renderer = options.renderer || new __WEBPACK_IMPORTED_MODULE_8_three__[\"WebGLRenderer\"]({ alpha: true, antialias: false });\n\n\t\tthis.viewIndicatorSize = options.indicatorSize;\n\n\t\tthis.reticle = {};\n\t\tthis.tempEnableReticle = this.options.enableReticle;\n\n\t\tthis.mode = PANOLENS.Modes.NORMAL;\n\n\t\tthis.OrbitControls;\n\t\tthis.DeviceOrientationControls;\n\n\t\tthis.CardboardEffect;\n\t\tthis.StereoEffect;\n\n\t\tthis.controls;\n\t\tthis.effect;\n\t\tthis.panorama;\n\t\tthis.widget;\n\n\t\tthis.hoverObject;\n\t\tthis.infospot;\n\t\tthis.pressEntityObject;\n\t\tthis.pressObject;\n\n\t\tthis.raycaster = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Raycaster\"]();\n\t\tthis.raycasterPoint = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\t\tthis.userMouse = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector2\"]();\n\t\tthis.updateCallbacks = [];\n\t\tthis.requestAnimationId;\n\n\t\tthis.cameraFrustum = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Frustum\"]();\n\t\tthis.cameraViewProjectionMatrix = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Matrix4\"]();\n\n\t\tthis.outputDivElement;\n\n\t\tthis.HANDLER_MOUSE_DOWN = this.onMouseDown.bind(this);\n\t\tthis.HANDLER_MOUSE_UP = this.onMouseUp.bind(this);\n\t\tthis.HANDLER_MOUSE_MOVE = this.onMouseMove.bind(this);\n\t\tthis.HANDLER_WINDOW_RESIZE = this.onWindowResize.bind(this);\n\t\tthis.HANDLER_KEY_DOWN = this.onKeyDown.bind(this);\n\t\tthis.HANDLER_KEY_UP = this.onKeyUp.bind(this);\n\t\tthis.HANDLER_TAP = this.onTap.bind(this, {\n\t\t\tclientX: this.container.clientWidth / 2,\n\t\t\tclientY: this.container.clientHeight / 2\n\t\t});\n\n\t\tthis.OUTPUT_INFOSPOT = false;\n\n\t\tthis.tweenLeftAnimation = new TWEEN.Tween();\n\t\tthis.tweenUpAnimation = new TWEEN.Tween();\n\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\t\tthis.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n\t\tthis.renderer.setClearColor(0x000000, 1);\n\t\tthis.renderer.sortObjects = false;\n\n\t\tthis.renderer.domElement.classList.add('panolens-canvas');\n\t\tthis.renderer.domElement.style.display = 'block';\n\t\tthis.container.style.backgroundColor = '#000';\n\t\tthis.container.appendChild(this.renderer.domElement);\n\n\t\tthis.OrbitControls = new __WEBPACK_IMPORTED_MODULE_8_three__[\"OrbitControls\"](this.camera, this.container);\n\t\tthis.OrbitControls.name = 'orbit';\n\t\tthis.OrbitControls.minDistance = 1;\n\t\tthis.OrbitControls.noPan = true;\n\t\tthis.DeviceOrientationControls = new __WEBPACK_IMPORTED_MODULE_8_three__[\"DeviceOrientationControls\"](this.camera, this.container);\n\t\tthis.DeviceOrientationControls.name = 'device-orientation';\n\t\tthis.DeviceOrientationControls.enabled = false;\n\t\tthis.camera.position.z = 1;\n\n\t\tif (this.options.passiveRendering) {\n\n\t\t\tconsole.warn('passiveRendering is now deprecated');\n\t\t}\n\n\t\tthis.controls = [this.OrbitControls, this.DeviceOrientationControls];\n\t\tthis.control = this.OrbitControls;\n\n\t\tthis.CardboardEffect = new __WEBPACK_IMPORTED_MODULE_8_three__[\"CardboardEffect\"](this.renderer);\n\t\tthis.CardboardEffect.setSize(this.container.clientWidth, this.container.clientHeight);\n\n\t\tthis.StereoEffect = new __WEBPACK_IMPORTED_MODULE_8_three__[\"StereoEffect\"](this.renderer);\n\t\tthis.StereoEffect.setSize(this.container.clientWidth, this.container.clientHeight);\n\n\t\tthis.effect = this.CardboardEffect;\n\n\t\tthis.addReticle();\n\n\t\tif (this.options.horizontalView) {\n\t\t\tthis.OrbitControls.minPolarAngle = Math.PI / 2;\n\t\t\tthis.OrbitControls.maxPolarAngle = Math.PI / 2;\n\t\t}\n\n\t\tif (this.options.controlBar !== false) {\n\t\t\tthis.addDefaultControlBar(this.options.controlButtons);\n\t\t}\n\n\t\tif (this.options.viewIndicator) {\n\t\t\tthis.addViewIndicator();\n\t\t}\n\n\t\tif (this.options.reverseDragging) {\n\t\t\tthis.reverseDraggingDirection();\n\t\t}\n\n\t\tif (this.options.enableReticle) {\n\t\t\tthis.enableReticleControl();\n\t\t} else {\n\t\t\tthis.registerMouseAndTouchEvents();\n\t\t}\n\n\t\tif (this.options.output === 'overlay') {\n\t\t\tthis.addOutputElement();\n\t\t}\n\n\t\tthis.registerEventListeners();\n\n\t\tthis.animate.call(this);\n\t};\n\n\tPANOLENS.Viewer.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_8_three__[\"EventDispatcher\"].prototype);\n\n\tPANOLENS.Viewer.prototype.constructor = PANOLENS.Viewer;\n\n\tPANOLENS.Viewer.prototype.add = function (object) {\n\n\t\tif (arguments.length > 1) {\n\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\n\t\t\t\tthis.add(arguments[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.scene.add(object);\n\n\t\tif (object.addEventListener) {\n\n\t\t\tobject.addEventListener('panolens-viewer-handler', this.eventHandler.bind(this));\n\t\t}\n\n\t\tif (object instanceof PANOLENS.Panorama && object.dispatchEvent) {\n\n\t\t\tobject.dispatchEvent({ type: 'panolens-container', container: this.container });\n\t\t}\n\n\t\tif (object.type === 'panorama') {\n\n\t\t\tthis.addPanoramaEventListener(object);\n\n\t\t\tif (!this.panorama) {\n\n\t\t\t\tthis.setPanorama(object);\n\t\t\t}\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.remove = function (object) {\n\n\t\tif (object.removeEventListener) {\n\n\t\t\tobject.removeEventListener('panolens-viewer-handler', this.eventHandler.bind(this));\n\t\t}\n\n\t\tthis.scene.remove(object);\n\t};\n\n\tPANOLENS.Viewer.prototype.addDefaultControlBar = function (array) {\n\n\t\tvar scope = this;\n\n\t\tif (this.widget) {\n\n\t\t\tconsole.warn('Default control bar exists');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.widget = new PANOLENS.Widget(this.container);\n\t\tthis.widget.addEventListener('panolens-viewer-handler', this.eventHandler.bind(this));\n\t\tthis.widget.addControlBar();\n\t\tarray.forEach(function (buttonName) {\n\n\t\t\tscope.widget.addControlButton(buttonName);\n\t\t});\n\t};\n\n\tPANOLENS.Viewer.prototype.setPanorama = function (pano) {\n\n\t\tvar scope = this,\n\t\t    leavingPanorama = this.panorama;\n\n\t\tif (pano.type === 'panorama' && leavingPanorama !== pano) {\n\t\t\tthis.hideInfospot();\n\n\t\t\tvar afterEnterComplete = function afterEnterComplete() {\n\n\t\t\t\tleavingPanorama && leavingPanorama.onLeave();\n\t\t\t\tpano.removeEventListener('enter-fade-start', afterEnterComplete);\n\t\t\t};\n\n\t\t\tpano.addEventListener('enter-fade-start', afterEnterComplete);\n\n\t\t\t(this.panorama = pano).onEnter();\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.eventHandler = function (event) {\n\n\t\tif (event.method && this[event.method]) {\n\n\t\t\tthis[event.method](event.data);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.dispatchEventToChildren = function (event) {\n\n\t\tthis.scene.traverse(function (object) {\n\n\t\t\tif (object.dispatchEvent) {\n\n\t\t\t\tobject.dispatchEvent(event);\n\t\t\t}\n\t\t});\n\t};\n\n\tPANOLENS.Viewer.prototype.activateWidgetItem = function (controlIndex, mode) {\n\n\t\tvar mainMenu = this.widget.mainMenu;\n\t\tvar ControlMenuItem = mainMenu.children[0];\n\t\tvar ModeMenuItem = mainMenu.children[1];\n\n\t\tvar item;\n\n\t\tif (controlIndex !== undefined) {\n\n\t\t\tswitch (controlIndex) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[1];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[2];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[1];\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tControlMenuItem.subMenu.setActiveItem(item);\n\t\t\tControlMenuItem.setSelectionTitle(item.textContent);\n\t\t}\n\n\t\tif (mode !== undefined) {\n\n\t\t\tswitch (mode) {\n\n\t\t\t\tcase PANOLENS.Modes.CARDBOARD:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[2];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase PANOLENS.Modes.STEREO:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[3];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[1];\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tModeMenuItem.subMenu.setActiveItem(item);\n\t\t\tModeMenuItem.setSelectionTitle(item.textContent);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.enableEffect = function (mode) {\n\n\t\tif (this.mode === mode) {\n\t\t\treturn;\n\t\t}\n\t\tif (mode === PANOLENS.Modes.NORMAL) {\n\t\t\tthis.disableEffect();return;\n\t\t} else {\n\t\t\tthis.mode = mode;\n\t\t}\n\n\t\tvar fov = this.camera.fov;\n\n\t\tswitch (mode) {\n\n\t\t\tcase PANOLENS.Modes.CARDBOARD:\n\n\t\t\t\tthis.effect = this.CardboardEffect;\n\t\t\t\tthis.enableReticleControl();\n\n\t\t\t\tbreak;\n\n\t\t\tcase PANOLENS.Modes.STEREO:\n\n\t\t\t\tthis.effect = this.StereoEffect;\n\t\t\t\tthis.enableReticleControl();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tthis.effect = null;\n\t\t\t\tthis.disableReticleControl();\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tthis.activateWidgetItem(undefined, this.mode);\n\n\t\tthis.dispatchEventToChildren({ type: 'panolens-dual-eye-effect', mode: this.mode });\n\n\t\tthis.camera.fov = fov + 10e-3;\n\t\tthis.effect.setSize(this.container.clientWidth, this.container.clientHeight);\n\t\tthis.render();\n\t\tthis.camera.fov = fov;\n\t};\n\n\tPANOLENS.Viewer.prototype.disableEffect = function () {\n\n\t\tif (this.mode === PANOLENS.Modes.NORMAL) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.mode = PANOLENS.Modes.NORMAL;\n\t\tthis.disableReticleControl();\n\n\t\tthis.activateWidgetItem(undefined, this.mode);\n\n\t\tthis.dispatchEventToChildren({ type: 'panolens-dual-eye-effect', mode: this.mode });\n\n\t\tthis.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n\t\tthis.render();\n\t};\n\n\tPANOLENS.Viewer.prototype.enableReticleControl = function () {\n\n\t\tif (this.reticle.visible) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.reticle.textureLoaded) {\n\t\t\tthis.reticle.loadTextures();\n\t\t}\n\n\t\tthis.tempEnableReticle = true;\n\n\t\tthis.unregisterMouseAndTouchEvents();\n\t\tthis.reticle.show();\n\t\tthis.registerReticleEvent();\n\t\tthis.updateReticleEvent();\n\t};\n\n\tPANOLENS.Viewer.prototype.disableReticleControl = function () {\n\n\t\tthis.tempEnableReticle = false;\n\n\t\tif (!this.options.enableReticle) {\n\n\t\t\tthis.reticle.hide();\n\t\t\tthis.unregisterReticleEvent();\n\t\t\tthis.registerMouseAndTouchEvents();\n\t\t} else {\n\n\t\t\tthis.updateReticleEvent();\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.toggleVideoPlay = function (pause) {\n\n\t\tif (this.panorama instanceof PANOLENS.VideoPanorama) {\n\t\t\tthis.panorama.dispatchEvent({ type: 'video-toggle', pause: pause });\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.setVideoCurrentTime = function (percentage) {\n\n\t\tif (this.panorama instanceof PANOLENS.VideoPanorama) {\n\t\t\tthis.panorama.dispatchEvent({ type: 'video-time', percentage: percentage });\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.onVideoUpdate = function (percentage) {\n\t\tthis.widget && this.widget.dispatchEvent({ type: 'video-update', percentage: percentage });\n\t};\n\n\tPANOLENS.Viewer.prototype.addUpdateCallback = function (fn) {\n\n\t\tif (fn) {\n\n\t\t\tthis.updateCallbacks.push(fn);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.removeUpdateCallback = function (fn) {\n\n\t\tvar index = this.updateCallbacks.indexOf(fn);\n\n\t\tif (fn && index >= 0) {\n\n\t\t\tthis.updateCallbacks.splice(index, 1);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.showVideoWidget = function () {\n\t\tthis.widget && this.widget.dispatchEvent({ type: 'video-control-show' });\n\t};\n\n\tPANOLENS.Viewer.prototype.hideVideoWidget = function () {\n\t\tthis.widget && this.widget.dispatchEvent({ type: 'video-control-hide' });\n\t};\n\n\tPANOLENS.Viewer.prototype.updateVideoPlayButton = function (paused) {\n\n\t\tif (this.widget && this.widget.videoElement && this.widget.videoElement.controlButton) {\n\n\t\t\tthis.widget.videoElement.controlButton.update(paused);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.addPanoramaEventListener = function (pano) {\n\n\t\tvar scope = this;\n\n\t\tpano.addEventListener('enter-fade-start', this.setCameraControl.bind(this));\n\n\t\tif (pano instanceof PANOLENS.VideoPanorama) {\n\n\t\t\tpano.addEventListener('enter-fade-start', this.showVideoWidget.bind(this));\n\t\t\tpano.addEventListener('leave', function () {\n\n\t\t\t\tif (!(this.panorama instanceof PANOLENS.VideoPanorama)) {\n\n\t\t\t\t\tthis.hideVideoWidget.call(this);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.setCameraControl = function () {\n\n\t\tthis.OrbitControls.target.copy(this.panorama.position);\n\t};\n\n\tPANOLENS.Viewer.prototype.getControl = function () {\n\n\t\treturn this.control;\n\t}, PANOLENS.Viewer.prototype.getScene = function () {\n\n\t\treturn this.scene;\n\t};\n\n\tPANOLENS.Viewer.prototype.getCamera = function () {\n\n\t\treturn this.camera;\n\t}, PANOLENS.Viewer.prototype.getRenderer = function () {\n\n\t\treturn this.renderer;\n\t};\n\n\tPANOLENS.Viewer.prototype.getContainer = function () {\n\n\t\treturn this.container;\n\t};\n\n\tPANOLENS.Viewer.prototype.getControlName = function () {\n\n\t\treturn this.control.name;\n\t};\n\n\tPANOLENS.Viewer.prototype.getNextControlName = function () {\n\n\t\treturn this.controls[this.getNextControlIndex()].name;\n\t};\n\n\tPANOLENS.Viewer.prototype.getNextControlIndex = function () {\n\n\t\tvar controls, control, nextIndex;\n\n\t\tcontrols = this.controls;\n\t\tcontrol = this.control;\n\t\tnextIndex = controls.indexOf(control) + 1;\n\n\t\treturn nextIndex >= controls.length ? 0 : nextIndex;\n\t};\n\n\tPANOLENS.Viewer.prototype.setCameraFov = function (fov) {\n\n\t\tthis.camera.fov = fov;\n\t\tthis.camera.updateProjectionMatrix();\n\t};\n\n\tPANOLENS.Viewer.prototype.enableControl = function (index) {\n\n\t\tindex = index >= 0 && index < this.controls.length ? index : 0;\n\n\t\tthis.control.enabled = false;\n\n\t\tthis.control = this.controls[index];\n\n\t\tthis.control.enabled = true;\n\n\t\tswitch (index) {\n\n\t\t\tcase PANOLENS.Controls.ORBIT:\n\n\t\t\t\tthis.camera.position.copy(this.panorama.position);\n\t\t\t\tthis.camera.position.z += 1;\n\n\t\t\t\tbreak;\n\n\t\t\tcase PANOLENS.Controls.DEVICEORIENTATION:\n\n\t\t\t\tthis.camera.position.copy(this.panorama.position);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.control.update();\n\n\t\tthis.activateWidgetItem(index, undefined);\n\t};\n\n\tPANOLENS.Viewer.prototype.disableControl = function () {\n\n\t\tthis.control.enabled = false;\n\t};\n\n\tPANOLENS.Viewer.prototype.toggleNextControl = function () {\n\n\t\tthis.enableControl(this.getNextControlIndex());\n\t};\n\n\tPANOLENS.Viewer.prototype.getScreenVector = function (worldVector) {\n\n\t\tvar vector = worldVector.clone();\n\t\tvar widthHalf = this.container.clientWidth / 2;\n\t\tvar heightHalf = this.container.clientHeight / 2;\n\n\t\tvector.project(this.camera);\n\n\t\tvector.x = vector.x * widthHalf + widthHalf;\n\t\tvector.y = -(vector.y * heightHalf) + heightHalf;\n\t\tvector.z = 0;\n\n\t\treturn vector;\n\t};\n\n\tPANOLENS.Viewer.prototype.checkSpriteInViewport = function (sprite) {\n\n\t\tthis.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld);\n\t\tthis.cameraViewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix, this.camera.matrixWorldInverse);\n\t\tthis.cameraFrustum.setFromMatrix(this.cameraViewProjectionMatrix);\n\n\t\treturn sprite.visible && this.cameraFrustum.intersectsSprite(sprite);\n\t};\n\n\tPANOLENS.Viewer.prototype.reverseDraggingDirection = function () {\n\n\t\tthis.OrbitControls.rotateSpeed *= -1;\n\t\tthis.OrbitControls.momentumScalingFactor *= -1;\n\t};\n\n\tPANOLENS.Viewer.prototype.addReticle = function () {\n\n\t\tthis.reticle = new PANOLENS.Reticle(0xffffff, this.options.autoReticleSelect, PANOLENS.DataImage.ReticleIdle, PANOLENS.DataImage.ReticleDwell, this.options.dwellTime, 45);\n\t\tthis.reticle.position.z = -10;\n\t\tthis.camera.add(this.reticle);\n\t\tthis.scene.add(this.camera);\n\t};\n\n\tPANOLENS.Viewer.prototype.tweenControlCenter = function (vector, duration, easing) {\n\n\t\tif (this.control !== this.OrbitControls) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (vector instanceof Array) {\n\n\t\t\tduration = vector[1];\n\t\t\teasing = vector[2];\n\t\t\tvector = vector[0];\n\t\t}\n\n\t\tduration = duration !== undefined ? duration : 1000;\n\t\teasing = easing || TWEEN.Easing.Exponential.Out;\n\n\t\tvar scope, ha, va, chv, cvv, hv, vv, vptc, ov, nv;\n\n\t\tscope = this;\n\n\t\tchv = this.camera.getWorldDirection();\n\t\tcvv = chv.clone();\n\n\t\tvptc = this.panorama.getWorldPosition().sub(this.camera.getWorldPosition());\n\n\t\thv = vector.clone();\n\n\t\thv.x *= -1;\n\t\thv.add(vptc).normalize();\n\t\tvv = hv.clone();\n\n\t\tchv.y = 0;\n\t\thv.y = 0;\n\n\t\tha = Math.atan2(hv.z, hv.x) - Math.atan2(chv.z, chv.x);\n\t\tha = ha > Math.PI ? ha - 2 * Math.PI : ha;\n\t\tha = ha < -Math.PI ? ha + 2 * Math.PI : ha;\n\t\tva = Math.abs(cvv.angleTo(chv) + (cvv.y * vv.y <= 0 ? vv.angleTo(hv) : -vv.angleTo(hv)));\n\t\tva *= vv.y < cvv.y ? 1 : -1;\n\n\t\tov = { left: 0, up: 0 };\n\t\tnv = { left: 0, up: 0 };\n\n\t\tthis.tweenLeftAnimation.stop();\n\t\tthis.tweenUpAnimation.stop();\n\n\t\tthis.tweenLeftAnimation = new TWEEN.Tween(ov).to({ left: ha }, duration).easing(easing).onUpdate(function () {\n\t\t\tscope.control.rotateLeft(this.left - nv.left);\n\t\t\tnv.left = this.left;\n\t\t}).start();\n\n\t\tthis.tweenUpAnimation = new TWEEN.Tween(ov).to({ up: va }, duration).easing(easing).onUpdate(function () {\n\t\t\tscope.control.rotateUp(this.up - nv.up);\n\t\t\tnv.up = this.up;\n\t\t}).start();\n\t};\n\n\tPANOLENS.Viewer.prototype.tweenControlCenterByObject = function (object, duration, easing) {\n\n\t\tvar isUnderScalePlaceHolder = false;\n\n\t\tobject.traverseAncestors(function (ancestor) {\n\n\t\t\tif (ancestor.scalePlaceHolder) {\n\n\t\t\t\tisUnderScalePlaceHolder = true;\n\t\t\t}\n\t\t});\n\n\t\tif (isUnderScalePlaceHolder) {\n\n\t\t\tvar invertXVector = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](-1, 1, 1);\n\n\t\t\tthis.tweenControlCenter(object.getWorldPosition().multiply(invertXVector), duration, easing);\n\t\t} else {\n\n\t\t\tthis.tweenControlCenter(object.getWorldPosition(), duration, easing);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.onWindowResize = function (windowWidth, windowHeight) {\n\n\t\tvar width, height, expand;\n\n\t\texpand = this.container.classList.contains('panolens-container') || this.container.isFullscreen;\n\n\t\tif (windowWidth !== undefined && windowHeight !== undefined) {\n\n\t\t\twidth = windowWidth;\n\t\t\theight = windowHeight;\n\t\t\tthis.container._width = windowWidth;\n\t\t\tthis.container._height = windowHeight;\n\t\t} else {\n\n\t\t\twidth = expand ? Math.max(document.documentElement.clientWidth, window.innerWidth || 0) : this.container.clientWidth;\n\t\t\theight = expand ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : this.container.clientHeight;\n\t\t\tthis.container._width = width;\n\t\t\tthis.container._height = height;\n\t\t}\n\n\t\tthis.camera.aspect = width / height;\n\t\tthis.camera.updateProjectionMatrix();\n\n\t\tthis.renderer.setSize(width, height);\n\n\t\tif (this.options.enableReticle || this.tempEnableReticle) {\n\n\t\t\tthis.updateReticleEvent();\n\t\t}\n\n\t\tthis.dispatchEvent({ type: 'window-resize', width: width, height: height });\n\t\tthis.scene.traverse(function (object) {\n\n\t\t\tif (object.dispatchEvent) {\n\n\t\t\t\tobject.dispatchEvent({ type: 'window-resize', width: width, height: height });\n\t\t\t}\n\t\t});\n\t};\n\n\tPANOLENS.Viewer.prototype.addOutputElement = function () {\n\n\t\tvar element = document.createElement('div');\n\t\telement.style.position = 'absolute';\n\t\telement.style.right = '10px';\n\t\telement.style.top = '10px';\n\t\telement.style.color = \"#fff\";\n\t\tthis.container.appendChild(element);\n\t\tthis.outputDivElement = element;\n\t};\n\n\tPANOLENS.Viewer.prototype.outputInfospotPosition = function () {\n\n\t\tvar intersects, point, panoramaWorldPosition, outputPosition;\n\n\t\tintersects = this.raycaster.intersectObject(this.panorama, true);\n\n\t\tif (intersects.length > 0) {\n\n\t\t\tpoint = intersects[0].point;\n\t\t\tpanoramaWorldPosition = this.panorama.getWorldPosition();\n\n\t\t\toutputPosition = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Vector3\"](-(point.x - panoramaWorldPosition.x).toFixed(2), (point.y - panoramaWorldPosition.y).toFixed(2), (point.z - panoramaWorldPosition.z).toFixed(2));\n\n\t\t\tswitch (this.options.output) {\n\n\t\t\t\tcase 'console':\n\t\t\t\t\tconsole.info(outputPosition.x + ', ' + outputPosition.y + ', ' + outputPosition.z);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'overlay':\n\t\t\t\t\tthis.outputDivElement.textContent = outputPosition.x + ', ' + outputPosition.y + ', ' + outputPosition.z;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseDown = function (event) {\n\n\t\tevent.preventDefault();\n\n\t\tthis.userMouse.x = event.clientX >= 0 ? event.clientX : event.touches[0].clientX;\n\t\tthis.userMouse.y = event.clientY >= 0 ? event.clientY : event.touches[0].clientY;\n\t\tthis.userMouse.type = 'mousedown';\n\t\tthis.onTap(event);\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseMove = function (event) {\n\n\t\tevent.preventDefault();\n\t\tthis.userMouse.type = 'mousemove';\n\t\tthis.onTap(event);\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseUp = function (event) {\n\n\t\tvar onTarget = false,\n\t\t    type;\n\n\t\tthis.userMouse.type = 'mouseup';\n\n\t\ttype = this.userMouse.x >= event.clientX - this.options.clickTolerance && this.userMouse.x <= event.clientX + this.options.clickTolerance && this.userMouse.y >= event.clientY - this.options.clickTolerance && this.userMouse.y <= event.clientY + this.options.clickTolerance || event.changedTouches && this.userMouse.x >= event.changedTouches[0].clientX - this.options.clickTolerance && this.userMouse.x <= event.changedTouches[0].clientX + this.options.clickTolerance && this.userMouse.y >= event.changedTouches[0].clientY - this.options.clickTolerance && this.userMouse.y <= event.changedTouches[0].clientY + this.options.clickTolerance ? 'click' : undefined;\n\n\t\tif (event && event.target && !event.target.classList.contains('panolens-canvas')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (event.changedTouches && event.changedTouches.length === 1) {\n\n\t\t\tonTarget = this.onTap({ clientX: event.changedTouches[0].clientX, clientY: event.changedTouches[0].clientY }, type);\n\t\t} else {\n\n\t\t\tonTarget = this.onTap(event, type);\n\t\t}\n\n\t\tthis.userMouse.type = 'none';\n\n\t\tif (onTarget) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (type === 'click') {\n\n\t\t\tthis.options.autoHideInfospot && this.panorama && this.panorama.toggleInfospotVisibility();\n\t\t\tthis.options.autoHideControlBar && this.toggleControlBar();\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.onTap = function (event, type) {\n\n\t\tvar intersects, intersect_entity, intersect;\n\n\t\tthis.raycasterPoint.x = (event.clientX - this.container.offsetLeft) / this.container.clientWidth * 2 - 1;\n\t\tthis.raycasterPoint.y = -((event.clientY - this.container.offsetTop) / this.container.clientHeight) * 2 + 1;\n\n\t\tthis.raycaster.setFromCamera(this.raycasterPoint, this.camera);\n\n\t\tif (!this.panorama) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.type !== 'mousedown' && PANOLENS.Utils.checkTouchSupported() || this.OUTPUT_INFOSPOT) {\n\n\t\t\tthis.outputInfospotPosition();\n\t\t}\n\n\t\tintersects = this.raycaster.intersectObjects(this.panorama.children, true);\n\n\t\tintersect_entity = this.getConvertedIntersect(intersects);\n\n\t\tintersect = intersects.length > 0 ? intersects[0].object : intersect;\n\n\t\tif (this.userMouse.type === 'mouseup') {\n\n\t\t\tif (intersect_entity && this.pressEntityObject === intersect_entity && this.pressEntityObject.dispatchEvent) {\n\n\t\t\t\tthis.pressEntityObject.dispatchEvent({ type: 'pressstop-entity', mouseEvent: event });\n\t\t\t}\n\n\t\t\tthis.pressEntityObject = undefined;\n\t\t}\n\n\t\tif (this.userMouse.type === 'mouseup') {\n\n\t\t\tif (intersect && this.pressObject === intersect && this.pressObject.dispatchEvent) {\n\n\t\t\t\tthis.pressObject.dispatchEvent({ type: 'pressstop', mouseEvent: event });\n\t\t\t}\n\n\t\t\tthis.pressObject = undefined;\n\t\t}\n\n\t\tif (type === 'click') {\n\n\t\t\tthis.panorama.dispatchEvent({ type: 'click', intersects: intersects, mouseEvent: event });\n\n\t\t\tif (intersect_entity && intersect_entity.dispatchEvent) {\n\n\t\t\t\tintersect_entity.dispatchEvent({ type: 'click-entity', mouseEvent: event });\n\t\t\t}\n\n\t\t\tif (intersect && intersect.dispatchEvent) {\n\n\t\t\t\tintersect.dispatchEvent({ type: 'click', mouseEvent: event });\n\t\t\t}\n\t\t} else {\n\n\t\t\tthis.panorama.dispatchEvent({ type: 'hover', intersects: intersects, mouseEvent: event });\n\n\t\t\tif (this.hoverObject && intersects.length > 0 && this.hoverObject !== intersect_entity || this.hoverObject && intersects.length === 0) {\n\n\t\t\t\tif (this.hoverObject.dispatchEvent) {\n\n\t\t\t\t\tthis.hoverObject.dispatchEvent({ type: 'hoverleave', mouseEvent: event });\n\n\t\t\t\t\tthis.reticle.cancelDwelling();\n\t\t\t\t}\n\n\t\t\t\tthis.hoverObject = undefined;\n\t\t\t}\n\n\t\t\tif (intersect_entity && intersects.length > 0) {\n\n\t\t\t\tif (this.hoverObject !== intersect_entity) {\n\n\t\t\t\t\tthis.hoverObject = intersect_entity;\n\n\t\t\t\t\tif (this.hoverObject.dispatchEvent) {\n\n\t\t\t\t\t\tthis.hoverObject.dispatchEvent({ type: 'hoverenter', mouseEvent: event });\n\n\t\t\t\t\t\tif (this.options.autoReticleSelect && this.options.enableReticle || this.tempEnableReticle) {\n\t\t\t\t\t\t\tthis.reticle.startDwelling(this.onTap.bind(this, event, 'click'));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.userMouse.type === 'mousedown' && this.pressEntityObject != intersect_entity) {\n\n\t\t\t\t\tthis.pressEntityObject = intersect_entity;\n\n\t\t\t\t\tif (this.pressEntityObject.dispatchEvent) {\n\n\t\t\t\t\t\tthis.pressEntityObject.dispatchEvent({ type: 'pressstart-entity', mouseEvent: event });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.userMouse.type === 'mousedown' && this.pressObject != intersect) {\n\n\t\t\t\t\tthis.pressObject = intersect;\n\n\t\t\t\t\tif (this.pressObject.dispatchEvent) {\n\n\t\t\t\t\t\tthis.pressObject.dispatchEvent({ type: 'pressstart', mouseEvent: event });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.userMouse.type === 'mousemove' || this.options.enableReticle) {\n\n\t\t\t\t\tif (intersect && intersect.dispatchEvent) {\n\n\t\t\t\t\t\tintersect.dispatchEvent({ type: 'hover', mouseEvent: event });\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.pressEntityObject && this.pressEntityObject.dispatchEvent) {\n\n\t\t\t\t\t\tthis.pressEntityObject.dispatchEvent({ type: 'pressmove-entity', mouseEvent: event });\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.pressObject && this.pressObject.dispatchEvent) {\n\n\t\t\t\t\t\tthis.pressObject.dispatchEvent({ type: 'pressmove', mouseEvent: event });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!intersect_entity && this.pressEntityObject && this.pressEntityObject.dispatchEvent) {\n\n\t\t\t\tthis.pressEntityObject.dispatchEvent({ type: 'pressstop-entity', mouseEvent: event });\n\n\t\t\t\tthis.pressEntityObject = undefined;\n\t\t\t}\n\n\t\t\tif (!intersect && this.pressObject && this.pressObject.dispatchEvent) {\n\n\t\t\t\tthis.pressObject.dispatchEvent({ type: 'pressstop', mouseEvent: event });\n\n\t\t\t\tthis.pressObject = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (intersect && intersect instanceof PANOLENS.Infospot) {\n\n\t\t\tthis.infospot = intersect;\n\n\t\t\tif (type === 'click') {\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (this.infospot) {\n\n\t\t\tthis.hideInfospot();\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.getConvertedIntersect = function (intersects) {\n\n\t\tvar intersect;\n\n\t\tfor (var i = 0; i < intersects.length; i++) {\n\n\t\t\tif (intersects[i].distance >= 0 && intersects[i].object && !intersects[i].object.passThrough) {\n\n\t\t\t\tif (intersects[i].object.entity && intersects[i].object.entity.passThrough) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (intersects[i].object.entity && !intersects[i].object.entity.passThrough) {\n\t\t\t\t\tintersect = intersects[i].object.entity;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tintersect = intersects[i].object;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn intersect;\n\t};\n\n\tPANOLENS.Viewer.prototype.hideInfospot = function (intersects) {\n\n\t\tif (this.infospot) {\n\n\t\t\tthis.infospot.onHoverEnd();\n\n\t\t\tthis.infospot = undefined;\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.toggleControlBar = function () {\n\t\tthis.widget && this.widget.dispatchEvent({ type: 'control-bar-toggle' });\n\t};\n\n\tPANOLENS.Viewer.prototype.onKeyDown = function (event) {\n\n\t\tif (this.options.output && this.options.output !== 'none' && event.key === 'Control') {\n\n\t\t\tthis.OUTPUT_INFOSPOT = true;\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.onKeyUp = function (event) {\n\n\t\tthis.OUTPUT_INFOSPOT = false;\n\t};\n\n\tPANOLENS.Viewer.prototype.update = function () {\n\n\t\tTWEEN.update();\n\n\t\tthis.updateCallbacks.forEach(function (callback) {\n\t\t\tcallback();\n\t\t});\n\n\t\tthis.control.update();\n\n\t\tthis.scene.traverse(function (child) {\n\t\t\tif (child instanceof PANOLENS.Infospot && child.element && (this.hoverObject === child || child.element.style.display !== 'none' || child.element.left && child.element.left.style.display !== 'none' || child.element.right && child.element.right.style.display !== 'none')) {\n\t\t\t\tif (this.checkSpriteInViewport(child)) {\n\t\t\t\t\tvar vector = this.getScreenVector(child.getWorldPosition());\n\t\t\t\t\tchild.translateElement(vector.x, vector.y);\n\t\t\t\t} else {\n\t\t\t\t\tchild.onDismiss();\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\t};\n\n\tPANOLENS.Viewer.prototype.render = function () {\n\n\t\tif (this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO) {\n\n\t\t\tthis.effect.render(this.scene, this.camera);\n\t\t} else {\n\n\t\t\tthis.renderer.render(this.scene, this.camera);\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.animate = function () {\n\n\t\tthis.requestAnimationId = window.requestAnimationFrame(this.animate.bind(this));\n\n\t\tthis.onChange();\n\t};\n\n\tPANOLENS.Viewer.prototype.onChange = function () {\n\n\t\tthis.update();\n\t\tthis.render();\n\t};\n\n\tPANOLENS.Viewer.prototype.registerMouseAndTouchEvents = function () {\n\n\t\tthis.container.addEventListener('mousedown', this.HANDLER_MOUSE_DOWN, false);\n\t\tthis.container.addEventListener('mousemove', this.HANDLER_MOUSE_MOVE, false);\n\t\tthis.container.addEventListener('mouseup', this.HANDLER_MOUSE_UP, false);\n\t\tthis.container.addEventListener('touchstart', this.HANDLER_MOUSE_DOWN, false);\n\t\tthis.container.addEventListener('touchend', this.HANDLER_MOUSE_UP, false);\n\t};\n\n\tPANOLENS.Viewer.prototype.unregisterMouseAndTouchEvents = function () {\n\n\t\tthis.container.removeEventListener('mousedown', this.HANDLER_MOUSE_DOWN, false);\n\t\tthis.container.removeEventListener('mousemove', this.HANDLER_MOUSE_MOVE, false);\n\t\tthis.container.removeEventListener('mouseup', this.HANDLER_MOUSE_UP, false);\n\t\tthis.container.removeEventListener('touchstart', this.HANDLER_MOUSE_DOWN, false);\n\t\tthis.container.removeEventListener('touchend', this.HANDLER_MOUSE_UP, false);\n\t};\n\n\tPANOLENS.Viewer.prototype.registerReticleEvent = function () {\n\n\t\tthis.addUpdateCallback(this.HANDLER_TAP);\n\t};\n\n\tPANOLENS.Viewer.prototype.unregisterReticleEvent = function () {\n\n\t\tthis.removeUpdateCallback(this.HANDLER_TAP);\n\t};\n\n\tPANOLENS.Viewer.prototype.updateReticleEvent = function () {\n\n\t\tvar centerX, centerY;\n\n\t\tcenterX = this.container.clientWidth / 2 + this.container.offsetLeft;\n\t\tcenterY = this.container.clientHeight / 2;\n\n\t\tthis.removeUpdateCallback(this.HANDLER_TAP);\n\t\tthis.HANDLER_TAP = this.onTap.bind(this, { clientX: centerX, clientY: centerY });\n\t\tthis.addUpdateCallback(this.HANDLER_TAP);\n\t};\n\n\tPANOLENS.Viewer.prototype.registerEventListeners = function () {\n\t\twindow.addEventListener('resize', this.HANDLER_WINDOW_RESIZE, true);\n\n\t\twindow.addEventListener('keydown', this.HANDLER_KEY_DOWN, true);\n\t\twindow.addEventListener('keyup', this.HANDLER_KEY_UP, true);\n\t};\n\n\tPANOLENS.Viewer.prototype.unregisterEventListeners = function () {\n\t\twindow.removeEventListener('resize', this.HANDLER_WINDOW_RESIZE, true);\n\n\t\twindow.removeEventListener('keydown', this.HANDLER_KEY_DOWN, true);\n\t\twindow.removeEventListener('keyup', this.HANDLER_KEY_UP, true);\n\t};\n\n\tPANOLENS.Viewer.prototype.dispose = function () {\n\t\tthis.unregisterEventListeners();\n\n\t\tfunction recursiveDispose(object) {\n\n\t\t\tfor (var i = object.children.length - 1; i >= 0; i--) {\n\n\t\t\t\trecursiveDispose(object.children[i]);\n\t\t\t\tobject.remove(object.children[i]);\n\t\t\t}\n\n\t\t\tif (object instanceof PANOLENS.Infospot) {\n\n\t\t\t\tobject.dispose();\n\t\t\t}\n\n\t\t\tobject.geometry && object.geometry.dispose();\n\t\t\tobject.material && object.material.dispose();\n\t\t}\n\n\t\trecursiveDispose(this.scene);\n\n\t\tif (this.widget) {\n\n\t\t\tthis.widget.dispose();\n\t\t\tthis.widget = null;\n\t\t}\n\n\t\tif (__WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"] && __WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"].enabled) {\n\n\t\t\t__WEBPACK_IMPORTED_MODULE_8_three__[\"Cache\"].clear();\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.destory = function () {\n\n\t\tthis.dispose();\n\t\tthis.render();\n\t\twindow.cancelAnimationFrame(this.requestAnimationId);\n\t};\n\n\tPANOLENS.Viewer.prototype.onPanoramaDispose = function (panorama) {\n\n\t\tif (panorama instanceof PANOLENS.VideoPanorama) {\n\n\t\t\tthis.hideVideoWidget();\n\t\t}\n\n\t\tif (panorama === this.panorama) {\n\n\t\t\tthis.panorama = null;\n\t\t}\n\t};\n\n\tPANOLENS.Viewer.prototype.loadAsyncRequest = function (url, callback) {\n\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.onloadend = function (event) {\n\t\t\tcallback && callback(event);\n\t\t};\n\t\trequest.open(\"GET\", url, true);\n\t\trequest.send(null);\n\t};\n\n\tPANOLENS.Viewer.prototype.addViewIndicator = function () {\n\n\t\tvar scope = this;\n\n\t\tfunction loadViewIndicator(asyncEvent) {\n\n\t\t\tif (asyncEvent.loaded === 0) return;\n\n\t\t\tvar viewIndicatorDiv = asyncEvent.target.responseXML.documentElement;\n\t\t\tviewIndicatorDiv.style.width = scope.viewIndicatorSize + \"px\";\n\t\t\tviewIndicatorDiv.style.height = scope.viewIndicatorSize + \"px\";\n\t\t\tviewIndicatorDiv.style.position = \"absolute\";\n\t\t\tviewIndicatorDiv.style.top = \"10px\";\n\t\t\tviewIndicatorDiv.style.left = \"10px\";\n\t\t\tviewIndicatorDiv.style.opacity = \"0.5\";\n\t\t\tviewIndicatorDiv.style.cursor = \"pointer\";\n\t\t\tviewIndicatorDiv.id = \"panolens-view-indicator-container\";\n\n\t\t\tscope.container.appendChild(viewIndicatorDiv);\n\n\t\t\tvar indicator = viewIndicatorDiv.querySelector(\"#indicator\");\n\t\t\tvar setIndicatorD = function setIndicatorD() {\n\n\t\t\t\tscope.radius = scope.viewIndicatorSize * 0.225;\n\t\t\t\tscope.currentPanoAngle = scope.camera.rotation.y - __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(90);\n\t\t\t\tscope.fovAngle = __WEBPACK_IMPORTED_MODULE_8_three__[\"Math\"].degToRad(scope.camera.fov);\n\t\t\t\tscope.leftAngle = -scope.currentPanoAngle - scope.fovAngle / 2;\n\t\t\t\tscope.rightAngle = -scope.currentPanoAngle + scope.fovAngle / 2;\n\t\t\t\tscope.leftX = scope.radius * Math.cos(scope.leftAngle);\n\t\t\t\tscope.leftY = scope.radius * Math.sin(scope.leftAngle);\n\t\t\t\tscope.rightX = scope.radius * Math.cos(scope.rightAngle);\n\t\t\t\tscope.rightY = scope.radius * Math.sin(scope.rightAngle);\n\t\t\t\tscope.indicatorD = \"M \" + scope.leftX + \" \" + scope.leftY + \" A \" + scope.radius + \" \" + scope.radius + \" 0 0 1 \" + scope.rightX + \" \" + scope.rightY;\n\n\t\t\t\tif (scope.leftX && scope.leftY && scope.rightX && scope.rightY && scope.radius) {\n\n\t\t\t\t\tindicator.setAttribute(\"d\", scope.indicatorD);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tscope.addUpdateCallback(setIndicatorD);\n\n\t\t\tvar indicatorOnMouseEnter = function indicatorOnMouseEnter() {\n\n\t\t\t\tthis.style.opacity = \"1\";\n\t\t\t};\n\n\t\t\tvar indicatorOnMouseLeave = function indicatorOnMouseLeave() {\n\n\t\t\t\tthis.style.opacity = \"0.5\";\n\t\t\t};\n\n\t\t\tviewIndicatorDiv.addEventListener(\"mouseenter\", indicatorOnMouseEnter);\n\t\t\tviewIndicatorDiv.addEventListener(\"mouseleave\", indicatorOnMouseLeave);\n\t\t}\n\n\t\tthis.loadAsyncRequest(PANOLENS.DataImage.ViewIndicator, loadViewIndicator);\n\t};\n\n\tPANOLENS.Viewer.prototype.appendControlItem = function (option) {\n\n\t\tvar item = this.widget.createCustomItem(option);\n\n\t\tif (option.group === 'video') {\n\n\t\t\tthis.widget.videoElement.appendChild(item);\n\t\t} else {\n\n\t\t\tthis.widget.barElement.appendChild(item);\n\t\t}\n\n\t\treturn item;\n\t};\n})();\n;(function e(t, n, r) {\n\tfunction s(o, u) {\n\t\tif (!n[o]) {\n\t\t\tif (!t[o]) {\n\t\t\t\tvar a = typeof require == \"function\" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n\t\t\t}var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n\t\t\t\tvar n = t[o][1][e];return s(n ? n : e);\n\t\t\t}, l, l.exports, e, t, n, r);\n\t\t}return n[o].exports;\n\t}var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n\t\ts(r[o]);\n\t}return s;\n})({ 1: [function (require, module, exports) {\n\t\tvar createLayout = require('layout-bmfont-text');\n\t\tvar inherits = require('inherits');\n\t\tvar createIndices = require('quad-indices');\n\t\tvar buffer = require('three-buffer-vertex-data');\n\t\tvar assign = require('object-assign');\n\n\t\tvar vertices = require('./lib/vertices');\n\t\tvar utils = require('./lib/utils');\n\n\t\tvar Base = __WEBPACK_IMPORTED_MODULE_8_three__[\"BufferGeometry\"];\n\n\t\tmodule.exports = function createTextGeometry(opt) {\n\t\t\treturn new TextGeometry(opt);\n\t\t};\n\n\t\tfunction TextGeometry(opt) {\n\t\t\tBase.call(this);\n\n\t\t\tif (typeof opt === 'string') {\n\t\t\t\topt = { text: opt };\n\t\t\t}\n\n\t\t\tthis._opt = assign({}, opt);\n\n\t\t\tif (opt) this.update(opt);\n\t\t}\n\n\t\tinherits(TextGeometry, Base);\n\n\t\tTextGeometry.prototype.update = function (opt) {\n\t\t\tif (typeof opt === 'string') {\n\t\t\t\topt = { text: opt };\n\t\t\t}\n\n\t\t\topt = assign({}, this._opt, opt);\n\n\t\t\tif (!opt.font) {\n\t\t\t\tthrow new TypeError('must specify a { font } in options');\n\t\t\t}\n\n\t\t\tthis.layout = createLayout(opt);\n\n\t\t\tvar flipY = opt.flipY !== false;\n\n\t\t\tvar font = opt.font;\n\n\t\t\tvar texWidth = font.common.scaleW;\n\t\t\tvar texHeight = font.common.scaleH;\n\n\t\t\tvar glyphs = this.layout.glyphs.filter(function (glyph) {\n\t\t\t\tvar bitmap = glyph.data;\n\t\t\t\treturn bitmap.width * bitmap.height > 0;\n\t\t\t});\n\n\t\t\tthis.visibleGlyphs = glyphs;\n\n\t\t\tvar positions = vertices.positions(glyphs);\n\t\t\tvar uvs = vertices.uvs(glyphs, texWidth, texHeight, flipY);\n\t\t\tvar indices = createIndices({\n\t\t\t\tclockwise: true,\n\t\t\t\ttype: 'uint16',\n\t\t\t\tcount: glyphs.length\n\t\t\t});\n\n\t\t\tbuffer.index(this, indices, 1, 'uint16');\n\t\t\tbuffer.attr(this, 'position', positions, 2);\n\t\t\tbuffer.attr(this, 'uv', uvs, 2);\n\n\t\t\tif (!opt.multipage && 'page' in this.attributes) {\n\t\t\t\tthis.removeAttribute('page');\n\t\t\t} else if (opt.multipage) {\n\t\t\t\tvar pages = vertices.pages(glyphs);\n\n\t\t\t\tbuffer.attr(this, 'page', pages, 1);\n\t\t\t}\n\t\t};\n\n\t\tTextGeometry.prototype.computeBoundingSphere = function () {\n\t\t\tif (this.boundingSphere === null) {\n\t\t\t\tthis.boundingSphere = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Sphere\"]();\n\t\t\t}\n\n\t\t\tvar positions = this.attributes.position.array;\n\t\t\tvar itemSize = this.attributes.position.itemSize;\n\t\t\tif (!positions || !itemSize || positions.length < 2) {\n\t\t\t\tthis.boundingSphere.radius = 0;\n\t\t\t\tthis.boundingSphere.center.set(0, 0, 0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tutils.computeSphere(positions, this.boundingSphere);\n\t\t\tif (isNaN(this.boundingSphere.radius)) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingSphere(): ' + 'Computed radius is NaN. The ' + '\"position\" attribute is likely to have NaN values.');\n\t\t\t}\n\t\t};\n\n\t\tTextGeometry.prototype.computeBoundingBox = function () {\n\t\t\tif (this.boundingBox === null) {\n\t\t\t\tthis.boundingBox = new __WEBPACK_IMPORTED_MODULE_8_three__[\"Box3\"]();\n\t\t\t}\n\n\t\t\tvar bbox = this.boundingBox;\n\t\t\tvar positions = this.attributes.position.array;\n\t\t\tvar itemSize = this.attributes.position.itemSize;\n\t\t\tif (!positions || !itemSize || positions.length < 2) {\n\t\t\t\tbbox.makeEmpty();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tutils.computeBox(positions, bbox);\n\t\t};\n\t}, { \"./lib/utils\": 2, \"./lib/vertices\": 3, \"inherits\": 4, \"layout-bmfont-text\": 5, \"object-assign\": 26, \"quad-indices\": 27, \"three-buffer-vertex-data\": 31 }], 2: [function (require, module, exports) {\n\t\tvar itemSize = 2;\n\t\tvar box = { min: [0, 0], max: [0, 0] };\n\n\t\tfunction bounds(positions) {\n\t\t\tvar count = positions.length / itemSize;\n\t\t\tbox.min[0] = positions[0];\n\t\t\tbox.min[1] = positions[1];\n\t\t\tbox.max[0] = positions[0];\n\t\t\tbox.max[1] = positions[1];\n\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tvar x = positions[i * itemSize + 0];\n\t\t\t\tvar y = positions[i * itemSize + 1];\n\t\t\t\tbox.min[0] = Math.min(x, box.min[0]);\n\t\t\t\tbox.min[1] = Math.min(y, box.min[1]);\n\t\t\t\tbox.max[0] = Math.max(x, box.max[0]);\n\t\t\t\tbox.max[1] = Math.max(y, box.max[1]);\n\t\t\t}\n\t\t}\n\n\t\tmodule.exports.computeBox = function (positions, output) {\n\t\t\tbounds(positions);\n\t\t\toutput.min.set(box.min[0], box.min[1], 0);\n\t\t\toutput.max.set(box.max[0], box.max[1], 0);\n\t\t};\n\n\t\tmodule.exports.computeSphere = function (positions, output) {\n\t\t\tbounds(positions);\n\t\t\tvar minX = box.min[0];\n\t\t\tvar minY = box.min[1];\n\t\t\tvar maxX = box.max[0];\n\t\t\tvar maxY = box.max[1];\n\t\t\tvar width = maxX - minX;\n\t\t\tvar height = maxY - minY;\n\t\t\tvar length = Math.sqrt(width * width + height * height);\n\t\t\toutput.center.set(minX + width / 2, minY + height / 2, 0);\n\t\t\toutput.radius = length / 2;\n\t\t};\n\t}, {}], 3: [function (require, module, exports) {\n\t\tmodule.exports.pages = function pages(glyphs) {\n\t\t\tvar pages = new Float32Array(glyphs.length * 4 * 1);\n\t\t\tvar i = 0;\n\t\t\tglyphs.forEach(function (glyph) {\n\t\t\t\tvar id = glyph.data.page || 0;\n\t\t\t\tpages[i++] = id;\n\t\t\t\tpages[i++] = id;\n\t\t\t\tpages[i++] = id;\n\t\t\t\tpages[i++] = id;\n\t\t\t});\n\t\t\treturn pages;\n\t\t};\n\n\t\tmodule.exports.uvs = function uvs(glyphs, texWidth, texHeight, flipY) {\n\t\t\tvar uvs = new Float32Array(glyphs.length * 4 * 2);\n\t\t\tvar i = 0;\n\t\t\tglyphs.forEach(function (glyph) {\n\t\t\t\tvar bitmap = glyph.data;\n\t\t\t\tvar bw = bitmap.x + bitmap.width;\n\t\t\t\tvar bh = bitmap.y + bitmap.height;\n\n\t\t\t\tvar u0 = bitmap.x / texWidth;\n\t\t\t\tvar v1 = bitmap.y / texHeight;\n\t\t\t\tvar u1 = bw / texWidth;\n\t\t\t\tvar v0 = bh / texHeight;\n\n\t\t\t\tif (flipY) {\n\t\t\t\t\tv1 = (texHeight - bitmap.y) / texHeight;\n\t\t\t\t\tv0 = (texHeight - bh) / texHeight;\n\t\t\t\t}\n\n\t\t\t\tuvs[i++] = u0;\n\t\t\t\tuvs[i++] = v1;\n\n\t\t\t\tuvs[i++] = u0;\n\t\t\t\tuvs[i++] = v0;\n\n\t\t\t\tuvs[i++] = u1;\n\t\t\t\tuvs[i++] = v0;\n\n\t\t\t\tuvs[i++] = u1;\n\t\t\t\tuvs[i++] = v1;\n\t\t\t});\n\t\t\treturn uvs;\n\t\t};\n\n\t\tmodule.exports.positions = function positions(glyphs) {\n\t\t\tvar positions = new Float32Array(glyphs.length * 4 * 2);\n\t\t\tvar i = 0;\n\t\t\tglyphs.forEach(function (glyph) {\n\t\t\t\tvar bitmap = glyph.data;\n\n\t\t\t\tvar x = glyph.position[0] + bitmap.xoffset;\n\t\t\t\tvar y = glyph.position[1] + bitmap.yoffset;\n\n\t\t\t\tvar w = bitmap.width;\n\t\t\t\tvar h = bitmap.height;\n\n\t\t\t\tpositions[i++] = x;\n\t\t\t\tpositions[i++] = y;\n\n\t\t\t\tpositions[i++] = x;\n\t\t\t\tpositions[i++] = y + h;\n\n\t\t\t\tpositions[i++] = x + w;\n\t\t\t\tpositions[i++] = y + h;\n\n\t\t\t\tpositions[i++] = x + w;\n\t\t\t\tpositions[i++] = y;\n\t\t\t});\n\t\t\treturn positions;\n\t\t};\n\t}, {}], 4: [function (require, module, exports) {\n\t\tif (typeof __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default.a === 'function') {\n\t\t\tmodule.exports = function inherits(ctor, superCtor) {\n\t\t\t\tctor.super_ = superCtor;\n\t\t\t\tctor.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superCtor.prototype, {\n\t\t\t\t\tconstructor: {\n\t\t\t\t\t\tvalue: ctor,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\twritable: true,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} else {\n\t\t\tmodule.exports = function inherits(ctor, superCtor) {\n\t\t\t\tctor.super_ = superCtor;\n\t\t\t\tvar TempCtor = function TempCtor() {};\n\t\t\t\tTempCtor.prototype = superCtor.prototype;\n\t\t\t\tctor.prototype = new TempCtor();\n\t\t\t\tctor.prototype.constructor = ctor;\n\t\t\t};\n\t\t}\n\t}, {}], 5: [function (require, module, exports) {\n\t\tvar wordWrap = require('word-wrapper');\n\t\tvar xtend = require('xtend');\n\t\tvar findChar = require('indexof-property')('id');\n\t\tvar number = require('as-number');\n\n\t\tvar X_HEIGHTS = ['x', 'e', 'a', 'o', 'n', 's', 'r', 'c', 'u', 'm', 'v', 'w', 'z'];\n\t\tvar M_WIDTHS = ['m', 'w'];\n\t\tvar CAP_HEIGHTS = ['H', 'I', 'N', 'E', 'F', 'K', 'L', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n\n\t\tvar TAB_ID = '\\t'.charCodeAt(0);\n\t\tvar SPACE_ID = ' '.charCodeAt(0);\n\t\tvar ALIGN_LEFT = 0,\n\t\t    ALIGN_CENTER = 1,\n\t\t    ALIGN_RIGHT = 2;\n\n\t\tmodule.exports = function createLayout(opt) {\n\t\t\treturn new TextLayout(opt);\n\t\t};\n\n\t\tfunction TextLayout(opt) {\n\t\t\tthis.glyphs = [];\n\t\t\tthis._measure = this.computeMetrics.bind(this);\n\t\t\tthis.update(opt);\n\t\t}\n\n\t\tTextLayout.prototype.update = function (opt) {\n\t\t\topt = xtend({\n\t\t\t\tmeasure: this._measure\n\t\t\t}, opt);\n\t\t\tthis._opt = opt;\n\t\t\tthis._opt.tabSize = number(this._opt.tabSize, 4);\n\n\t\t\tif (!opt.font) throw new Error('must provide a valid bitmap font');\n\n\t\t\tvar glyphs = this.glyphs;\n\t\t\tvar text = opt.text || '';\n\t\t\tvar font = opt.font;\n\t\t\tthis._setupSpaceGlyphs(font);\n\n\t\t\tvar lines = wordWrap.lines(text, opt);\n\t\t\tvar minWidth = opt.width || 0;\n\n\t\t\tglyphs.length = 0;\n\n\t\t\tvar maxLineWidth = lines.reduce(function (prev, line) {\n\t\t\t\treturn Math.max(prev, line.width, minWidth);\n\t\t\t}, 0);\n\n\t\t\tvar x = 0;\n\t\t\tvar y = 0;\n\t\t\tvar lineHeight = number(opt.lineHeight, font.common.lineHeight);\n\t\t\tvar baseline = font.common.base;\n\t\t\tvar descender = lineHeight - baseline;\n\t\t\tvar letterSpacing = opt.letterSpacing || 0;\n\t\t\tvar height = lineHeight * lines.length - descender;\n\t\t\tvar align = getAlignType(this._opt.align);\n\n\t\t\ty -= height;\n\n\t\t\tthis._width = maxLineWidth;\n\t\t\tthis._height = height;\n\t\t\tthis._descender = lineHeight - baseline;\n\t\t\tthis._baseline = baseline;\n\t\t\tthis._xHeight = getXHeight(font);\n\t\t\tthis._capHeight = getCapHeight(font);\n\t\t\tthis._lineHeight = lineHeight;\n\t\t\tthis._ascender = lineHeight - descender - this._xHeight;\n\n\t\t\tvar self = this;\n\t\t\tlines.forEach(function (line, lineIndex) {\n\t\t\t\tvar start = line.start;\n\t\t\t\tvar end = line.end;\n\t\t\t\tvar lineWidth = line.width;\n\t\t\t\tvar lastGlyph;\n\n\t\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\t\tvar id = text.charCodeAt(i);\n\t\t\t\t\tvar glyph = self.getGlyph(font, id);\n\t\t\t\t\tif (glyph) {\n\t\t\t\t\t\tif (lastGlyph) x += getKerning(font, lastGlyph.id, glyph.id);\n\n\t\t\t\t\t\tvar tx = x;\n\t\t\t\t\t\tif (align === ALIGN_CENTER) tx += (maxLineWidth - lineWidth) / 2;else if (align === ALIGN_RIGHT) tx += maxLineWidth - lineWidth;\n\n\t\t\t\t\t\tglyphs.push({\n\t\t\t\t\t\t\tposition: [tx, y],\n\t\t\t\t\t\t\tdata: glyph,\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tline: lineIndex\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tx += glyph.xadvance + letterSpacing;\n\t\t\t\t\t\tlastGlyph = glyph;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ty += lineHeight;\n\t\t\t\tx = 0;\n\t\t\t});\n\t\t\tthis._linesTotal = lines.length;\n\t\t};\n\n\t\tTextLayout.prototype._setupSpaceGlyphs = function (font) {\n\t\t\tthis._fallbackSpaceGlyph = null;\n\t\t\tthis._fallbackTabGlyph = null;\n\n\t\t\tif (!font.chars || font.chars.length === 0) return;\n\n\t\t\tvar space = getGlyphById(font, SPACE_ID) || getMGlyph(font) || font.chars[0];\n\n\t\t\tvar tabWidth = this._opt.tabSize * space.xadvance;\n\t\t\tthis._fallbackSpaceGlyph = space;\n\t\t\tthis._fallbackTabGlyph = xtend(space, {\n\t\t\t\tx: 0, y: 0, xadvance: tabWidth, id: TAB_ID,\n\t\t\t\txoffset: 0, yoffset: 0, width: 0, height: 0\n\t\t\t});\n\t\t};\n\n\t\tTextLayout.prototype.getGlyph = function (font, id) {\n\t\t\tvar glyph = getGlyphById(font, id);\n\t\t\tif (glyph) return glyph;else if (id === TAB_ID) return this._fallbackTabGlyph;else if (id === SPACE_ID) return this._fallbackSpaceGlyph;\n\t\t\treturn null;\n\t\t};\n\n\t\tTextLayout.prototype.computeMetrics = function (text, start, end, width) {\n\t\t\tvar letterSpacing = this._opt.letterSpacing || 0;\n\t\t\tvar font = this._opt.font;\n\t\t\tvar curPen = 0;\n\t\t\tvar curWidth = 0;\n\t\t\tvar count = 0;\n\t\t\tvar glyph;\n\t\t\tvar lastGlyph;\n\n\t\t\tif (!font.chars || font.chars.length === 0) {\n\t\t\t\treturn {\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: start,\n\t\t\t\t\twidth: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tend = Math.min(text.length, end);\n\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\tvar id = text.charCodeAt(i);\n\t\t\t\tvar glyph = this.getGlyph(font, id);\n\n\t\t\t\tif (glyph) {\n\t\t\t\t\tvar xoff = glyph.xoffset;\n\t\t\t\t\tvar kern = lastGlyph ? getKerning(font, lastGlyph.id, glyph.id) : 0;\n\t\t\t\t\tcurPen += kern;\n\n\t\t\t\t\tvar nextPen = curPen + glyph.xadvance + letterSpacing;\n\t\t\t\t\tvar nextWidth = curPen + glyph.width;\n\n\t\t\t\t\tif (nextWidth >= width || nextPen >= width) break;\n\n\t\t\t\t\tcurPen = nextPen;\n\t\t\t\t\tcurWidth = nextWidth;\n\t\t\t\t\tlastGlyph = glyph;\n\t\t\t\t}\n\t\t\t\tcount++;\n\t\t\t}\n\n\t\t\tif (lastGlyph) curWidth += lastGlyph.xoffset;\n\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: start + count,\n\t\t\t\twidth: curWidth\n\t\t\t};\n\t\t};['width', 'height', 'descender', 'ascender', 'xHeight', 'baseline', 'capHeight', 'lineHeight'].forEach(addGetter);\n\n\t\tfunction addGetter(name) {\n\t\t\t__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_define_property___default()(TextLayout.prototype, name, {\n\t\t\t\tget: wrapper(name),\n\t\t\t\tconfigurable: true\n\t\t\t});\n\t\t}\n\n\t\tfunction wrapper(name) {\n\t\t\treturn new Function(['return function ' + name + '() {', '  return this._' + name, '}'].join('\\n'))();\n\t\t}\n\n\t\tfunction getGlyphById(font, id) {\n\t\t\tif (!font.chars || font.chars.length === 0) return null;\n\n\t\t\tvar glyphIdx = findChar(font.chars, id);\n\t\t\tif (glyphIdx >= 0) return font.chars[glyphIdx];\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction getXHeight(font) {\n\t\t\tfor (var i = 0; i < X_HEIGHTS.length; i++) {\n\t\t\t\tvar id = X_HEIGHTS[i].charCodeAt(0);\n\t\t\t\tvar idx = findChar(font.chars, id);\n\t\t\t\tif (idx >= 0) return font.chars[idx].height;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction getMGlyph(font) {\n\t\t\tfor (var i = 0; i < M_WIDTHS.length; i++) {\n\t\t\t\tvar id = M_WIDTHS[i].charCodeAt(0);\n\t\t\t\tvar idx = findChar(font.chars, id);\n\t\t\t\tif (idx >= 0) return font.chars[idx];\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction getCapHeight(font) {\n\t\t\tfor (var i = 0; i < CAP_HEIGHTS.length; i++) {\n\t\t\t\tvar id = CAP_HEIGHTS[i].charCodeAt(0);\n\t\t\t\tvar idx = findChar(font.chars, id);\n\t\t\t\tif (idx >= 0) return font.chars[idx].height;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction getKerning(font, left, right) {\n\t\t\tif (!font.kernings || font.kernings.length === 0) return 0;\n\n\t\t\tvar table = font.kernings;\n\t\t\tfor (var i = 0; i < table.length; i++) {\n\t\t\t\tvar kern = table[i];\n\t\t\t\tif (kern.first === left && kern.second === right) return kern.amount;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction getAlignType(align) {\n\t\t\tif (align === 'center') return ALIGN_CENTER;else if (align === 'right') return ALIGN_RIGHT;\n\t\t\treturn ALIGN_LEFT;\n\t\t}\n\t}, { \"as-number\": 6, \"indexof-property\": 7, \"word-wrapper\": 8, \"xtend\": 9 }], 6: [function (require, module, exports) {\n\t\tmodule.exports = function numtype(num, def) {\n\t\t\treturn typeof num === 'number' ? num : typeof def === 'number' ? def : 0;\n\t\t};\n\t}, {}], 7: [function (require, module, exports) {\n\t\tmodule.exports = function compile(property) {\n\t\t\tif (!property || typeof property !== 'string') throw new Error('must specify property for indexof search');\n\n\t\t\treturn new Function('array', 'value', 'start', ['start = start || 0', 'for (var i=start; i<array.length; i++)', '  if (array[i][\"' + property + '\"] === value)', '      return i', 'return -1'].join('\\n'));\n\t\t};\n\t}, {}], 8: [function (require, module, exports) {\n\t\tvar newline = /\\n/;\n\t\tvar newlineChar = '\\n';\n\t\tvar whitespace = /\\s/;\n\n\t\tmodule.exports = function (text, opt) {\n\t\t\tvar lines = module.exports.lines(text, opt);\n\t\t\treturn lines.map(function (line) {\n\t\t\t\treturn text.substring(line.start, line.end);\n\t\t\t}).join('\\n');\n\t\t};\n\n\t\tmodule.exports.lines = function wordwrap(text, opt) {\n\t\t\topt = opt || {};\n\n\t\t\tif (opt.width === 0 && opt.mode !== 'nowrap') return [];\n\n\t\t\ttext = text || '';\n\t\t\tvar width = typeof opt.width === 'number' ? opt.width : Number.MAX_VALUE;\n\t\t\tvar start = Math.max(0, opt.start || 0);\n\t\t\tvar end = typeof opt.end === 'number' ? opt.end : text.length;\n\t\t\tvar mode = opt.mode;\n\n\t\t\tvar measure = opt.measure || monospace;\n\t\t\tif (mode === 'pre') return pre(measure, text, start, end, width);else return greedy(measure, text, start, end, width, mode);\n\t\t};\n\n\t\tfunction idxOf(text, chr, start, end) {\n\t\t\tvar idx = text.indexOf(chr, start);\n\t\t\tif (idx === -1 || idx > end) return end;\n\t\t\treturn idx;\n\t\t}\n\n\t\tfunction isWhitespace(chr) {\n\t\t\treturn whitespace.test(chr);\n\t\t}\n\n\t\tfunction pre(measure, text, start, end, width) {\n\t\t\tvar lines = [];\n\t\t\tvar lineStart = start;\n\t\t\tfor (var i = start; i < end && i < text.length; i++) {\n\t\t\t\tvar chr = text.charAt(i);\n\t\t\t\tvar isNewline = newline.test(chr);\n\n\t\t\t\tif (isNewline || i === end - 1) {\n\t\t\t\t\tvar lineEnd = isNewline ? i : i + 1;\n\t\t\t\t\tvar measured = measure(text, lineStart, lineEnd, width);\n\t\t\t\t\tlines.push(measured);\n\n\t\t\t\t\tlineStart = i + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lines;\n\t\t}\n\n\t\tfunction greedy(measure, text, start, end, width, mode) {\n\t\t\tvar lines = [];\n\n\t\t\tvar testWidth = width;\n\n\t\t\tif (mode === 'nowrap') testWidth = Number.MAX_VALUE;\n\n\t\t\twhile (start < end && start < text.length) {\n\t\t\t\tvar newLine = idxOf(text, newlineChar, start, end);\n\n\t\t\t\twhile (start < newLine) {\n\t\t\t\t\tif (!isWhitespace(text.charAt(start))) break;\n\t\t\t\t\tstart++;\n\t\t\t\t}\n\n\t\t\t\tvar measured = measure(text, start, newLine, testWidth);\n\n\t\t\t\tvar lineEnd = start + (measured.end - measured.start);\n\t\t\t\tvar nextStart = lineEnd + newlineChar.length;\n\n\t\t\t\tif (lineEnd < newLine) {\n\t\t\t\t\twhile (lineEnd > start) {\n\t\t\t\t\t\tif (isWhitespace(text.charAt(lineEnd))) break;\n\t\t\t\t\t\tlineEnd--;\n\t\t\t\t\t}\n\t\t\t\t\tif (lineEnd === start) {\n\t\t\t\t\t\tif (nextStart > start + newlineChar.length) nextStart--;\n\t\t\t\t\t\tlineEnd = nextStart;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextStart = lineEnd;\n\n\t\t\t\t\t\twhile (lineEnd > start) {\n\t\t\t\t\t\t\tif (!isWhitespace(text.charAt(lineEnd - newlineChar.length))) break;\n\t\t\t\t\t\t\tlineEnd--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (lineEnd >= start) {\n\t\t\t\t\tvar result = measure(text, start, lineEnd, testWidth);\n\t\t\t\t\tlines.push(result);\n\t\t\t\t}\n\t\t\t\tstart = nextStart;\n\t\t\t}\n\t\t\treturn lines;\n\t\t}\n\n\t\tfunction monospace(text, start, end, width) {\n\t\t\tvar glyphs = Math.min(width, end - start);\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: start + glyphs\n\t\t\t};\n\t\t}\n\t}, {}], 9: [function (require, module, exports) {\n\t\tmodule.exports = extend;\n\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfunction extend() {\n\t\t\tvar target = {};\n\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar source = arguments[i];\n\n\t\t\t\tfor (var key in source) {\n\t\t\t\t\tif (hasOwnProperty.call(source, key)) {\n\t\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn target;\n\t\t}\n\t}, {}], 10: [function (require, module, exports) {\n\t\t(function (Buffer) {\n\t\t\tvar xhr = require('xhr');\n\t\t\tvar noop = function noop() {};\n\t\t\tvar parseASCII = require('parse-bmfont-ascii');\n\t\t\tvar parseXML = require('parse-bmfont-xml');\n\t\t\tvar readBinary = require('parse-bmfont-binary');\n\t\t\tvar isBinaryFormat = require('./lib/is-binary');\n\t\t\tvar xtend = require('xtend');\n\n\t\t\tvar xml2 = function hasXML2() {\n\t\t\t\treturn window.XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest();\n\t\t\t}();\n\n\t\t\tmodule.exports = function (opt, cb) {\n\t\t\t\tcb = typeof cb === 'function' ? cb : noop;\n\n\t\t\t\tif (typeof opt === 'string') opt = { uri: opt };else if (!opt) opt = {};\n\n\t\t\t\tvar expectBinary = opt.binary;\n\t\t\t\tif (expectBinary) opt = getBinaryOpts(opt);\n\n\t\t\t\txhr(opt, function (err, res, body) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tif (!/^2/.test(res.statusCode)) return cb(new Error('http status code: ' + res.statusCode));\n\t\t\t\t\tif (!body) return cb(new Error('no body result'));\n\n\t\t\t\t\tvar binary = false;\n\n\t\t\t\t\tif (isArrayBuffer(body)) {\n\t\t\t\t\t\tvar array = new Uint8Array(body);\n\t\t\t\t\t\tbody = new Buffer(array, 'binary');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isBinaryFormat(body)) {\n\t\t\t\t\t\tbinary = true;\n\n\t\t\t\t\t\tif (typeof body === 'string') body = new Buffer(body, 'binary');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!binary) {\n\t\t\t\t\t\tif (Buffer.isBuffer(body)) body = body.toString(opt.encoding);\n\t\t\t\t\t\tbody = body.trim();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar type = res.headers['content-type'];\n\t\t\t\t\t\tif (binary) result = readBinary(body);else if (/json/.test(type) || body.charAt(0) === '{') result = JSON.parse(body);else if (/xml/.test(type) || body.charAt(0) === '<') result = parseXML(body);else result = parseASCII(body);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tcb(new Error('error parsing font ' + e.message));\n\t\t\t\t\t\tcb = noop;\n\t\t\t\t\t}\n\t\t\t\t\tcb(null, result);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfunction isArrayBuffer(arr) {\n\t\t\t\tvar str = Object.prototype.toString;\n\t\t\t\treturn str.call(arr) === '[object ArrayBuffer]';\n\t\t\t}\n\n\t\t\tfunction getBinaryOpts(opt) {\n\t\t\t\tif (xml2) return xtend(opt, { responseType: 'arraybuffer' });\n\n\t\t\t\tif (typeof window.XMLHttpRequest === 'undefined') throw new Error('your browser does not support XHR loading');\n\n\t\t\t\tvar req = new window.XMLHttpRequest();\n\t\t\t\treq.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\t\treturn xtend({\n\t\t\t\t\txhr: req\n\t\t\t\t}, opt);\n\t\t\t}\n\t\t}).call(this, require(\"buffer\").Buffer);\n\t}, { \"./lib/is-binary\": 11, \"buffer\": 37, \"parse-bmfont-ascii\": 13, \"parse-bmfont-binary\": 14, \"parse-bmfont-xml\": 15, \"xhr\": 18, \"xtend\": 25 }], 11: [function (require, module, exports) {\n\t\t(function (Buffer) {\n\t\t\tvar equal = require('buffer-equal');\n\t\t\tvar HEADER = new Buffer([66, 77, 70, 3]);\n\n\t\t\tmodule.exports = function (buf) {\n\t\t\t\tif (typeof buf === 'string') return buf.substring(0, 3) === 'BMF';\n\t\t\t\treturn buf.length > 4 && equal(buf.slice(0, 4), HEADER);\n\t\t\t};\n\t\t}).call(this, require(\"buffer\").Buffer);\n\t}, { \"buffer\": 37, \"buffer-equal\": 12 }], 12: [function (require, module, exports) {\n\t\tvar Buffer = require('buffer').Buffer;\n\n\t\tmodule.exports = function (a, b) {\n\t\t\tif (!Buffer.isBuffer(a)) return undefined;\n\t\t\tif (!Buffer.isBuffer(b)) return undefined;\n\t\t\tif (typeof a.equals === 'function') return a.equals(b);\n\t\t\tif (a.length !== b.length) return false;\n\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (a[i] !== b[i]) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}, { \"buffer\": 37 }], 13: [function (require, module, exports) {\n\t\tmodule.exports = function parseBMFontAscii(data) {\n\t\t\tif (!data) throw new Error('no data provided');\n\t\t\tdata = data.toString().trim();\n\n\t\t\tvar output = {\n\t\t\t\tpages: [],\n\t\t\t\tchars: [],\n\t\t\t\tkernings: []\n\t\t\t};\n\n\t\t\tvar lines = data.split(/\\r\\n?|\\n/g);\n\n\t\t\tif (lines.length === 0) throw new Error('no data in BMFont file');\n\n\t\t\tfor (var i = 0; i < lines.length; i++) {\n\t\t\t\tvar lineData = splitLine(lines[i], i);\n\t\t\t\tif (!lineData) continue;\n\n\t\t\t\tif (lineData.key === 'page') {\n\t\t\t\t\tif (typeof lineData.data.id !== 'number') throw new Error('malformed file at line ' + i + ' -- needs page id=N');\n\t\t\t\t\tif (typeof lineData.data.file !== 'string') throw new Error('malformed file at line ' + i + ' -- needs page file=\"path\"');\n\t\t\t\t\toutput.pages[lineData.data.id] = lineData.data.file;\n\t\t\t\t} else if (lineData.key === 'chars' || lineData.key === 'kernings') {} else if (lineData.key === 'char') {\n\t\t\t\t\toutput.chars.push(lineData.data);\n\t\t\t\t} else if (lineData.key === 'kerning') {\n\t\t\t\t\toutput.kernings.push(lineData.data);\n\t\t\t\t} else {\n\t\t\t\t\toutput[lineData.key] = lineData.data;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn output;\n\t\t};\n\n\t\tfunction splitLine(line, idx) {\n\t\t\tline = line.replace(/\\t+/g, ' ').trim();\n\t\t\tif (!line) return null;\n\n\t\t\tvar space = line.indexOf(' ');\n\t\t\tif (space === -1) throw new Error(\"no named row at line \" + idx);\n\n\t\t\tvar key = line.substring(0, space);\n\n\t\t\tline = line.substring(space + 1);\n\n\t\t\tline = line.replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, '');\n\t\t\tline = line.split(\"=\");\n\t\t\tline = line.map(function (str) {\n\t\t\t\treturn str.trim().match(/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g);\n\t\t\t});\n\n\t\t\tvar data = [];\n\t\t\tfor (var i = 0; i < line.length; i++) {\n\t\t\t\tvar dt = line[i];\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tkey: dt[0],\n\t\t\t\t\t\tdata: \"\"\n\t\t\t\t\t});\n\t\t\t\t} else if (i === line.length - 1) {\n\t\t\t\t\tdata[data.length - 1].data = parseData(dt[0]);\n\t\t\t\t} else {\n\t\t\t\t\tdata[data.length - 1].data = parseData(dt[0]);\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tkey: dt[1],\n\t\t\t\t\t\tdata: \"\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar out = {\n\t\t\t\tkey: key,\n\t\t\t\tdata: {}\n\t\t\t};\n\n\t\t\tdata.forEach(function (v) {\n\t\t\t\tout.data[v.key] = v.data;\n\t\t\t});\n\n\t\t\treturn out;\n\t\t}\n\n\t\tfunction parseData(data) {\n\t\t\tif (!data || data.length === 0) return \"\";\n\n\t\t\tif (data.indexOf('\"') === 0 || data.indexOf(\"'\") === 0) return data.substring(1, data.length - 1);\n\t\t\tif (data.indexOf(',') !== -1) return parseIntList(data);\n\t\t\treturn parseInt(data, 10);\n\t\t}\n\n\t\tfunction parseIntList(data) {\n\t\t\treturn data.split(',').map(function (val) {\n\t\t\t\treturn parseInt(val, 10);\n\t\t\t});\n\t\t}\n\t}, {}], 14: [function (require, module, exports) {\n\t\tvar HEADER = [66, 77, 70];\n\n\t\tmodule.exports = function readBMFontBinary(buf) {\n\t\t\tif (buf.length < 6) throw new Error('invalid buffer length for BMFont');\n\n\t\t\tvar header = HEADER.every(function (byte, i) {\n\t\t\t\treturn buf.readUInt8(i) === byte;\n\t\t\t});\n\n\t\t\tif (!header) throw new Error('BMFont missing BMF byte header');\n\n\t\t\tvar i = 3;\n\t\t\tvar vers = buf.readUInt8(i++);\n\t\t\tif (vers > 3) throw new Error('Only supports BMFont Binary v3 (BMFont App v1.10)');\n\n\t\t\tvar target = { kernings: [], chars: [] };\n\t\t\tfor (var b = 0; b < 5; b++) {\n\t\t\t\ti += readBlock(target, buf, i);\n\t\t\t}return target;\n\t\t};\n\n\t\tfunction readBlock(target, buf, i) {\n\t\t\tif (i > buf.length - 1) return 0;\n\n\t\t\tvar blockID = buf.readUInt8(i++);\n\t\t\tvar blockSize = buf.readInt32LE(i);\n\t\t\ti += 4;\n\n\t\t\tswitch (blockID) {\n\t\t\t\tcase 1:\n\t\t\t\t\ttarget.info = readInfo(buf, i);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\ttarget.common = readCommon(buf, i);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\ttarget.pages = readPages(buf, i, blockSize);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\ttarget.chars = readChars(buf, i, blockSize);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\ttarget.kernings = readKernings(buf, i, blockSize);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn 5 + blockSize;\n\t\t}\n\n\t\tfunction readInfo(buf, i) {\n\t\t\tvar info = {};\n\t\t\tinfo.size = buf.readInt16LE(i);\n\n\t\t\tvar bitField = buf.readUInt8(i + 2);\n\t\t\tinfo.smooth = bitField >> 7 & 1;\n\t\t\tinfo.unicode = bitField >> 6 & 1;\n\t\t\tinfo.italic = bitField >> 5 & 1;\n\t\t\tinfo.bold = bitField >> 4 & 1;\n\n\t\t\tif (bitField >> 3 & 1) info.fixedHeight = 1;\n\n\t\t\tinfo.charset = buf.readUInt8(i + 3) || '';\n\t\t\tinfo.stretchH = buf.readUInt16LE(i + 4);\n\t\t\tinfo.aa = buf.readUInt8(i + 6);\n\t\t\tinfo.padding = [buf.readInt8(i + 7), buf.readInt8(i + 8), buf.readInt8(i + 9), buf.readInt8(i + 10)];\n\t\t\tinfo.spacing = [buf.readInt8(i + 11), buf.readInt8(i + 12)];\n\t\t\tinfo.outline = buf.readUInt8(i + 13);\n\t\t\tinfo.face = readStringNT(buf, i + 14);\n\t\t\treturn info;\n\t\t}\n\n\t\tfunction readCommon(buf, i) {\n\t\t\tvar common = {};\n\t\t\tcommon.lineHeight = buf.readUInt16LE(i);\n\t\t\tcommon.base = buf.readUInt16LE(i + 2);\n\t\t\tcommon.scaleW = buf.readUInt16LE(i + 4);\n\t\t\tcommon.scaleH = buf.readUInt16LE(i + 6);\n\t\t\tcommon.pages = buf.readUInt16LE(i + 8);\n\t\t\tvar bitField = buf.readUInt8(i + 10);\n\t\t\tcommon.packed = 0;\n\t\t\tcommon.alphaChnl = buf.readUInt8(i + 11);\n\t\t\tcommon.redChnl = buf.readUInt8(i + 12);\n\t\t\tcommon.greenChnl = buf.readUInt8(i + 13);\n\t\t\tcommon.blueChnl = buf.readUInt8(i + 14);\n\t\t\treturn common;\n\t\t}\n\n\t\tfunction readPages(buf, i, size) {\n\t\t\tvar pages = [];\n\t\t\tvar text = readNameNT(buf, i);\n\t\t\tvar len = text.length + 1;\n\t\t\tvar count = size / len;\n\t\t\tfor (var c = 0; c < count; c++) {\n\t\t\t\tpages[c] = buf.slice(i, i + text.length).toString('utf8');\n\t\t\t\ti += len;\n\t\t\t}\n\t\t\treturn pages;\n\t\t}\n\n\t\tfunction readChars(buf, i, blockSize) {\n\t\t\tvar chars = [];\n\n\t\t\tvar count = blockSize / 20;\n\t\t\tfor (var c = 0; c < count; c++) {\n\t\t\t\tvar char = {};\n\t\t\t\tvar off = c * 20;\n\t\t\t\tchar.id = buf.readUInt32LE(i + 0 + off);\n\t\t\t\tchar.x = buf.readUInt16LE(i + 4 + off);\n\t\t\t\tchar.y = buf.readUInt16LE(i + 6 + off);\n\t\t\t\tchar.width = buf.readUInt16LE(i + 8 + off);\n\t\t\t\tchar.height = buf.readUInt16LE(i + 10 + off);\n\t\t\t\tchar.xoffset = buf.readInt16LE(i + 12 + off);\n\t\t\t\tchar.yoffset = buf.readInt16LE(i + 14 + off);\n\t\t\t\tchar.xadvance = buf.readInt16LE(i + 16 + off);\n\t\t\t\tchar.page = buf.readUInt8(i + 18 + off);\n\t\t\t\tchar.chnl = buf.readUInt8(i + 19 + off);\n\t\t\t\tchars[c] = char;\n\t\t\t}\n\t\t\treturn chars;\n\t\t}\n\n\t\tfunction readKernings(buf, i, blockSize) {\n\t\t\tvar kernings = [];\n\t\t\tvar count = blockSize / 10;\n\t\t\tfor (var c = 0; c < count; c++) {\n\t\t\t\tvar kern = {};\n\t\t\t\tvar off = c * 10;\n\t\t\t\tkern.first = buf.readUInt32LE(i + 0 + off);\n\t\t\t\tkern.second = buf.readUInt32LE(i + 4 + off);\n\t\t\t\tkern.amount = buf.readInt16LE(i + 8 + off);\n\t\t\t\tkernings[c] = kern;\n\t\t\t}\n\t\t\treturn kernings;\n\t\t}\n\n\t\tfunction readNameNT(buf, offset) {\n\t\t\tvar pos = offset;\n\t\t\tfor (; pos < buf.length; pos++) {\n\t\t\t\tif (buf[pos] === 0x00) break;\n\t\t\t}\n\t\t\treturn buf.slice(offset, pos);\n\t\t}\n\n\t\tfunction readStringNT(buf, offset) {\n\t\t\treturn readNameNT(buf, offset).toString('utf8');\n\t\t}\n\t}, {}], 15: [function (require, module, exports) {\n\t\tvar parseAttributes = require('./parse-attribs');\n\t\tvar parseFromString = require('xml-parse-from-string');\n\n\t\tvar NAME_MAP = {\n\t\t\tscaleh: 'scaleH',\n\t\t\tscalew: 'scaleW',\n\t\t\tstretchh: 'stretchH',\n\t\t\tlineheight: 'lineHeight',\n\t\t\talphachnl: 'alphaChnl',\n\t\t\tredchnl: 'redChnl',\n\t\t\tgreenchnl: 'greenChnl',\n\t\t\tbluechnl: 'blueChnl'\n\t\t};\n\n\t\tmodule.exports = function parse(data) {\n\t\t\tdata = data.toString();\n\n\t\t\tvar xmlRoot = parseFromString(data);\n\t\t\tvar output = {\n\t\t\t\tpages: [],\n\t\t\t\tchars: [],\n\t\t\t\tkernings: []\n\t\t\t};['info', 'common'].forEach(function (key) {\n\t\t\t\tvar element = xmlRoot.getElementsByTagName(key)[0];\n\t\t\t\tif (element) output[key] = parseAttributes(getAttribs(element));\n\t\t\t});\n\n\t\t\tvar pageRoot = xmlRoot.getElementsByTagName('pages')[0];\n\t\t\tif (!pageRoot) throw new Error('malformed file -- no <pages> element');\n\t\t\tvar pages = pageRoot.getElementsByTagName('page');\n\t\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\t\tvar p = pages[i];\n\t\t\t\tvar id = parseInt(p.getAttribute('id'), 10);\n\t\t\t\tvar file = p.getAttribute('file');\n\t\t\t\tif (isNaN(id)) throw new Error('malformed file -- page \"id\" attribute is NaN');\n\t\t\t\tif (!file) throw new Error('malformed file -- needs page \"file\" attribute');\n\t\t\t\toutput.pages[parseInt(id, 10)] = file;\n\t\t\t}\n\n\t\t\t;['chars', 'kernings'].forEach(function (key) {\n\t\t\t\tvar element = xmlRoot.getElementsByTagName(key)[0];\n\t\t\t\tif (!element) return;\n\t\t\t\tvar childTag = key.substring(0, key.length - 1);\n\t\t\t\tvar children = element.getElementsByTagName(childTag);\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i];\n\t\t\t\t\toutput[key].push(parseAttributes(getAttribs(child)));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn output;\n\t\t};\n\n\t\tfunction getAttribs(element) {\n\t\t\tvar attribs = getAttribList(element);\n\t\t\treturn attribs.reduce(function (dict, attrib) {\n\t\t\t\tvar key = mapName(attrib.nodeName);\n\t\t\t\tdict[key] = attrib.nodeValue;\n\t\t\t\treturn dict;\n\t\t\t}, {});\n\t\t}\n\n\t\tfunction getAttribList(element) {\n\t\t\tvar attribs = [];\n\t\t\tfor (var i = 0; i < element.attributes.length; i++) {\n\t\t\t\tattribs.push(element.attributes[i]);\n\t\t\t}return attribs;\n\t\t}\n\n\t\tfunction mapName(nodeName) {\n\t\t\treturn NAME_MAP[nodeName.toLowerCase()] || nodeName;\n\t\t}\n\t}, { \"./parse-attribs\": 16, \"xml-parse-from-string\": 17 }], 16: [function (require, module, exports) {\n\t\tvar GLYPH_DESIGNER_ERROR = 'chasrset';\n\n\t\tmodule.exports = function parseAttributes(obj) {\n\t\t\tif (GLYPH_DESIGNER_ERROR in obj) {\n\t\t\t\tobj['charset'] = obj[GLYPH_DESIGNER_ERROR];\n\t\t\t\tdelete obj[GLYPH_DESIGNER_ERROR];\n\t\t\t}\n\n\t\t\tfor (var k in obj) {\n\t\t\t\tif (k === 'face' || k === 'charset') continue;else if (k === 'padding' || k === 'spacing') obj[k] = parseIntList(obj[k]);else obj[k] = parseInt(obj[k], 10);\n\t\t\t}\n\t\t\treturn obj;\n\t\t};\n\n\t\tfunction parseIntList(data) {\n\t\t\treturn data.split(',').map(function (val) {\n\t\t\t\treturn parseInt(val, 10);\n\t\t\t});\n\t\t}\n\t}, {}], 17: [function (require, module, exports) {\n\t\tmodule.exports = function xmlparser() {\n\t\t\tif (typeof window.DOMParser !== 'undefined') {\n\t\t\t\treturn function (str) {\n\t\t\t\t\tvar parser = new window.DOMParser();\n\t\t\t\t\treturn parser.parseFromString(str, 'application/xml');\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (typeof window.ActiveXObject !== 'undefined' && new window.ActiveXObject('Microsoft.XMLDOM')) {\n\t\t\t\treturn function (str) {\n\t\t\t\t\tvar xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\t\txmlDoc.async = \"false\";\n\t\t\t\t\txmlDoc.loadXML(str);\n\t\t\t\t\treturn xmlDoc;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn function (str) {\n\t\t\t\tvar div = document.createElement('div');\n\t\t\t\tdiv.innerHTML = str;\n\t\t\t\treturn div;\n\t\t\t};\n\t\t}();\n\t}, {}], 18: [function (require, module, exports) {\n\t\t\"use strict\";\n\n\t\tvar window = require(\"global/window\");\n\t\tvar once = require(\"once\");\n\t\tvar isFunction = require(\"is-function\");\n\t\tvar parseHeaders = require(\"parse-headers\");\n\t\tvar xtend = require(\"xtend\");\n\n\t\tmodule.exports = createXHR;\n\t\tcreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop;\n\t\tcreateXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window.XDomainRequest;\n\n\t\tforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n\t\t\tcreateXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n\t\t\t\toptions = initParams(uri, options, callback);\n\t\t\t\toptions.method = method.toUpperCase();\n\t\t\t\treturn _createXHR(options);\n\t\t\t};\n\t\t});\n\n\t\tfunction forEachArray(array, iterator) {\n\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\titerator(array[i]);\n\t\t\t}\n\t\t}\n\n\t\tfunction isEmpty(obj) {\n\t\t\tfor (var i in obj) {\n\t\t\t\tif (obj.hasOwnProperty(i)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction initParams(uri, options, callback) {\n\t\t\tvar params = uri;\n\n\t\t\tif (isFunction(options)) {\n\t\t\t\tcallback = options;\n\t\t\t\tif (typeof uri === \"string\") {\n\t\t\t\t\tparams = { uri: uri };\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparams = xtend(options, { uri: uri });\n\t\t\t}\n\n\t\t\tparams.callback = callback;\n\t\t\treturn params;\n\t\t}\n\n\t\tfunction createXHR(uri, options, callback) {\n\t\t\toptions = initParams(uri, options, callback);\n\t\t\treturn _createXHR(options);\n\t\t}\n\n\t\tfunction _createXHR(options) {\n\t\t\tvar callback = options.callback;\n\t\t\tif (typeof callback === \"undefined\") {\n\t\t\t\tthrow new Error(\"callback argument missing\");\n\t\t\t}\n\t\t\tcallback = once(callback);\n\n\t\t\tfunction readystatechange() {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tloadFunc();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getBody() {\n\t\t\t\tvar body = undefined;\n\n\t\t\t\tif (xhr.response) {\n\t\t\t\t\tbody = xhr.response;\n\t\t\t\t} else if (xhr.responseType === \"text\" || !xhr.responseType) {\n\t\t\t\t\tbody = xhr.responseText || xhr.responseXML;\n\t\t\t\t}\n\n\t\t\t\tif (isJson) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t\treturn body;\n\t\t\t}\n\n\t\t\tvar failureResponse = {\n\t\t\t\tbody: undefined,\n\t\t\t\theaders: {},\n\t\t\t\tstatusCode: 0,\n\t\t\t\tmethod: method,\n\t\t\t\turl: uri,\n\t\t\t\trawRequest: xhr\n\t\t\t};\n\n\t\t\tfunction errorFunc(evt) {\n\t\t\t\tclearTimeout(timeoutTimer);\n\t\t\t\tif (!(evt instanceof Error)) {\n\t\t\t\t\tevt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n\t\t\t\t}\n\t\t\t\tevt.statusCode = 0;\n\t\t\t\tcallback(evt, failureResponse);\n\t\t\t}\n\n\t\t\tfunction loadFunc() {\n\t\t\t\tif (aborted) return;\n\t\t\t\tvar status;\n\t\t\t\tclearTimeout(timeoutTimer);\n\t\t\t\tif (options.useXDR && xhr.status === undefined) {\n\t\t\t\t\tstatus = 200;\n\t\t\t\t} else {\n\t\t\t\t\tstatus = xhr.status === 1223 ? 204 : xhr.status;\n\t\t\t\t}\n\t\t\t\tvar response = failureResponse;\n\t\t\t\tvar err = null;\n\n\t\t\t\tif (status !== 0) {\n\t\t\t\t\tresponse = {\n\t\t\t\t\t\tbody: getBody(),\n\t\t\t\t\t\tstatusCode: status,\n\t\t\t\t\t\tmethod: method,\n\t\t\t\t\t\theaders: {},\n\t\t\t\t\t\turl: uri,\n\t\t\t\t\t\trawRequest: xhr\n\t\t\t\t\t};\n\t\t\t\t\tif (xhr.getAllResponseHeaders) {\n\t\t\t\t\t\tresponse.headers = parseHeaders(xhr.getAllResponseHeaders());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\terr = new Error(\"Internal XMLHttpRequest Error\");\n\t\t\t\t}\n\t\t\t\tcallback(err, response, response.body);\n\t\t\t}\n\n\t\t\tvar xhr = options.xhr || null;\n\n\t\t\tif (!xhr) {\n\t\t\t\tif (options.cors || options.useXDR) {\n\t\t\t\t\txhr = new createXHR.XDomainRequest();\n\t\t\t\t} else {\n\t\t\t\t\txhr = new createXHR.XMLHttpRequest();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar key;\n\t\t\tvar aborted;\n\t\t\tvar uri = xhr.url = options.uri || options.url;\n\t\t\tvar method = xhr.method = options.method || \"GET\";\n\t\t\tvar body = options.body || options.data || null;\n\t\t\tvar headers = xhr.headers = options.headers || {};\n\t\t\tvar sync = !!options.sync;\n\t\t\tvar isJson = false;\n\t\t\tvar timeoutTimer;\n\n\t\t\tif (\"json\" in options) {\n\t\t\t\tisJson = true;\n\t\t\t\theaders[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\");\n\t\t\t\tif (method !== \"GET\" && method !== \"HEAD\") {\n\t\t\t\t\theaders[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\");\n\t\t\t\t\tbody = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(options.json);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = readystatechange;\n\t\t\txhr.onload = loadFunc;\n\t\t\txhr.onerror = errorFunc;\n\n\t\t\txhr.onprogress = function () {};\n\t\t\txhr.ontimeout = errorFunc;\n\t\t\txhr.open(method, uri, !sync, options.username, options.password);\n\n\t\t\tif (!sync) {\n\t\t\t\txhr.withCredentials = !!options.withCredentials;\n\t\t\t}\n\n\t\t\tif (!sync && options.timeout > 0) {\n\t\t\t\ttimeoutTimer = setTimeout(function () {\n\t\t\t\t\taborted = true;\n\t\t\t\t\txhr.abort(\"timeout\");\n\t\t\t\t\tvar e = new Error(\"XMLHttpRequest timeout\");\n\t\t\t\t\te.code = \"ETIMEDOUT\";\n\t\t\t\t\terrorFunc(e);\n\t\t\t\t}, options.timeout);\n\t\t\t}\n\n\t\t\tif (xhr.setRequestHeader) {\n\t\t\t\tfor (key in headers) {\n\t\t\t\t\tif (headers.hasOwnProperty(key)) {\n\t\t\t\t\t\txhr.setRequestHeader(key, headers[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (options.headers && !isEmpty(options.headers)) {\n\t\t\t\tthrow new Error(\"Headers cannot be set on an XDomainRequest object\");\n\t\t\t}\n\n\t\t\tif (\"responseType\" in options) {\n\t\t\t\txhr.responseType = options.responseType;\n\t\t\t}\n\n\t\t\tif (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n\t\t\t\toptions.beforeSend(xhr);\n\t\t\t}\n\n\t\t\txhr.send(body);\n\n\t\t\treturn xhr;\n\t\t}\n\n\t\tfunction noop() {}\n\t}, { \"global/window\": 19, \"is-function\": 20, \"once\": 21, \"parse-headers\": 24, \"xtend\": 25 }], 19: [function (require, module, exports) {\n\t\t(function (global) {\n\t\t\tif (typeof window !== \"undefined\") {\n\t\t\t\tmodule.exports = window;\n\t\t\t} else if (typeof global !== \"undefined\") {\n\t\t\t\tmodule.exports = global;\n\t\t\t} else if (typeof self !== \"undefined\") {\n\t\t\t\tmodule.exports = self;\n\t\t\t} else {\n\t\t\t\tmodule.exports = {};\n\t\t\t}\n\t\t}).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\t}, {}], 20: [function (require, module, exports) {\n\t\tmodule.exports = isFunction;\n\n\t\tvar toString = Object.prototype.toString;\n\n\t\tfunction isFunction(fn) {\n\t\t\tvar string = toString.call(fn);\n\t\t\treturn string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && (fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n\t\t};\n\t}, {}], 21: [function (require, module, exports) {\n\t\tmodule.exports = once;\n\n\t\tonce.proto = once(function () {\n\t\t\tObject.defineProperty(Function.prototype, 'once', {\n\t\t\t\tvalue: function value() {\n\t\t\t\t\treturn once(this);\n\t\t\t\t},\n\t\t\t\tconfigurable: true\n\t\t\t});\n\t\t});\n\n\t\tfunction once(fn) {\n\t\t\tvar called = false;\n\t\t\treturn function () {\n\t\t\t\tif (called) return;\n\t\t\t\tcalled = true;\n\t\t\t\treturn fn.apply(this, arguments);\n\t\t\t};\n\t\t}\n\t}, {}], 22: [function (require, module, exports) {\n\t\tvar isFunction = require('is-function');\n\n\t\tmodule.exports = forEach;\n\n\t\tvar toString = Object.prototype.toString;\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfunction forEach(list, iterator, context) {\n\t\t\tif (!isFunction(iterator)) {\n\t\t\t\tthrow new TypeError('iterator must be a function');\n\t\t\t}\n\n\t\t\tif (arguments.length < 3) {\n\t\t\t\tcontext = this;\n\t\t\t}\n\n\t\t\tif (toString.call(list) === '[object Array]') forEachArray(list, iterator, context);else if (typeof list === 'string') forEachString(list, iterator, context);else forEachObject(list, iterator, context);\n\t\t}\n\n\t\tfunction forEachArray(array, iterator, context) {\n\t\t\tfor (var i = 0, len = array.length; i < len; i++) {\n\t\t\t\tif (hasOwnProperty.call(array, i)) {\n\t\t\t\t\titerator.call(context, array[i], i, array);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction forEachString(string, iterator, context) {\n\t\t\tfor (var i = 0, len = string.length; i < len; i++) {\n\t\t\t\titerator.call(context, string.charAt(i), i, string);\n\t\t\t}\n\t\t}\n\n\t\tfunction forEachObject(object, iterator, context) {\n\t\t\tfor (var k in object) {\n\t\t\t\tif (hasOwnProperty.call(object, k)) {\n\t\t\t\t\titerator.call(context, object[k], k, object);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, { \"is-function\": 20 }], 23: [function (require, module, exports) {\n\n\t\texports = module.exports = trim;\n\n\t\tfunction trim(str) {\n\t\t\treturn str.replace(/^\\s*|\\s*$/g, '');\n\t\t}\n\n\t\texports.left = function (str) {\n\t\t\treturn str.replace(/^\\s*/, '');\n\t\t};\n\n\t\texports.right = function (str) {\n\t\t\treturn str.replace(/\\s*$/, '');\n\t\t};\n\t}, {}], 24: [function (require, module, exports) {\n\t\tvar trim = require('trim'),\n\t\t    forEach = require('for-each'),\n\t\t    isArray = function isArray(arg) {\n\t\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t\t};\n\n\t\tmodule.exports = function (headers) {\n\t\t\tif (!headers) return {};\n\n\t\t\tvar result = {};\n\n\t\t\tforEach(trim(headers).split('\\n'), function (row) {\n\t\t\t\tvar index = row.indexOf(':'),\n\t\t\t\t    key = trim(row.slice(0, index)).toLowerCase(),\n\t\t\t\t    value = trim(row.slice(index + 1));\n\n\t\t\t\tif (typeof result[key] === 'undefined') {\n\t\t\t\t\tresult[key] = value;\n\t\t\t\t} else if (isArray(result[key])) {\n\t\t\t\t\tresult[key].push(value);\n\t\t\t\t} else {\n\t\t\t\t\tresult[key] = [result[key], value];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t};\n\t}, { \"for-each\": 22, \"trim\": 23 }], 25: [function (require, module, exports) {\n\t\targuments[4][9][0].apply(exports, arguments);\n\t}, { \"dup\": 9 }], 26: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n\t\tfunction toObject(val) {\n\t\t\tif (val === null || val === undefined) {\n\t\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t\t}\n\n\t\t\treturn Object(val);\n\t\t}\n\n\t\tmodule.exports = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default.a || function (target, source) {\n\t\t\tvar from;\n\t\t\tvar to = toObject(target);\n\t\t\tvar symbols;\n\n\t\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\t\tfrom = Object(arguments[s]);\n\n\t\t\t\tfor (var key in from) {\n\t\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols___default.a) {\n\t\t\t\t\tsymbols = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_symbols___default()(from);\n\t\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn to;\n\t\t};\n\t}, {}], 27: [function (require, module, exports) {\n\t\tvar dtype = require('dtype');\n\t\tvar anArray = require('an-array');\n\t\tvar isBuffer = require('is-buffer');\n\n\t\tvar CW = [0, 2, 3];\n\t\tvar CCW = [2, 1, 3];\n\n\t\tmodule.exports = function createQuadElements(array, opt) {\n\t\t\tif (!array || !(anArray(array) || isBuffer(array))) {\n\t\t\t\topt = array || {};\n\t\t\t\tarray = null;\n\t\t\t}\n\n\t\t\tif (typeof opt === 'number') opt = { count: opt };else opt = opt || {};\n\n\t\t\tvar type = typeof opt.type === 'string' ? opt.type : 'uint16';\n\t\t\tvar count = typeof opt.count === 'number' ? opt.count : 1;\n\t\t\tvar start = opt.start || 0;\n\n\t\t\tvar dir = opt.clockwise !== false ? CW : CCW,\n\t\t\t    a = dir[0],\n\t\t\t    b = dir[1],\n\t\t\t    c = dir[2];\n\n\t\t\tvar numIndices = count * 6;\n\n\t\t\tvar indices = array || new (dtype(type))(numIndices);\n\t\t\tfor (var i = 0, j = 0; i < numIndices; i += 6, j += 4) {\n\t\t\t\tvar x = i + start;\n\t\t\t\tindices[x + 0] = j + 0;\n\t\t\t\tindices[x + 1] = j + 1;\n\t\t\t\tindices[x + 2] = j + 2;\n\t\t\t\tindices[x + 3] = j + a;\n\t\t\t\tindices[x + 4] = j + b;\n\t\t\t\tindices[x + 5] = j + c;\n\t\t\t}\n\t\t\treturn indices;\n\t\t};\n\t}, { \"an-array\": 28, \"dtype\": 29, \"is-buffer\": 30 }], 28: [function (require, module, exports) {\n\t\tvar str = Object.prototype.toString;\n\n\t\tmodule.exports = anArray;\n\n\t\tfunction anArray(arr) {\n\t\t\treturn arr.BYTES_PER_ELEMENT && str.call(arr.buffer) === '[object ArrayBuffer]' || Array.isArray(arr);\n\t\t}\n\t}, {}], 29: [function (require, module, exports) {\n\t\tmodule.exports = function (dtype) {\n\t\t\tswitch (dtype) {\n\t\t\t\tcase 'int8':\n\t\t\t\t\treturn Int8Array;\n\t\t\t\tcase 'int16':\n\t\t\t\t\treturn Int16Array;\n\t\t\t\tcase 'int32':\n\t\t\t\t\treturn Int32Array;\n\t\t\t\tcase 'uint8':\n\t\t\t\t\treturn Uint8Array;\n\t\t\t\tcase 'uint16':\n\t\t\t\t\treturn Uint16Array;\n\t\t\t\tcase 'uint32':\n\t\t\t\t\treturn Uint32Array;\n\t\t\t\tcase 'float32':\n\t\t\t\t\treturn Float32Array;\n\t\t\t\tcase 'float64':\n\t\t\t\t\treturn Float64Array;\n\t\t\t\tcase 'array':\n\t\t\t\t\treturn Array;\n\t\t\t\tcase 'uint8_clamped':\n\t\t\t\t\treturn Uint8ClampedArray;\n\t\t\t}\n\t\t};\n\t}, {}], 30: [function (require, module, exports) {\n\n\t\tmodule.exports = function (obj) {\n\t\t\treturn !!(obj != null && (obj._isBuffer || obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)));\n\t\t};\n\t}, {}], 31: [function (require, module, exports) {\n\t\tvar flatten = require('flatten-vertex-data');\n\n\t\tmodule.exports.attr = setAttribute;\n\t\tmodule.exports.index = setIndex;\n\n\t\tfunction setIndex(geometry, data, itemSize, dtype) {\n\t\t\tif (typeof itemSize !== 'number') itemSize = 1;\n\t\t\tif (typeof dtype !== 'number') dtype = 'uint16';\n\n\t\t\tvar isR69 = !geometry.index && typeof geometry.setIndex !== 'function';\n\t\t\tvar attrib = isR69 ? geometry.getAttribute('index') : geometry.index;\n\t\t\tvar newAttrib = updateAttribute(attrib, data, itemSize, dtype);\n\t\t\tif (newAttrib) {\n\t\t\t\tif (isR69) geometry.addAttribute('index', newAttrib);else geometry.index = newAttrib;\n\t\t\t}\n\t\t}\n\n\t\tfunction setAttribute(geometry, key, data, itemSize, dtype) {\n\t\t\tif (typeof itemSize !== 'number') itemSize = 3;\n\t\t\tif (typeof dtype !== 'number') dtype = 'float32';\n\t\t\tif (Array.isArray(data) && Array.isArray(data[0]) && data[0].length !== itemSize) {\n\t\t\t\tthrow new Error('Nested vertex array has unexpected size; expected ' + itemSize + ' but found ' + data[0].length);\n\t\t\t}\n\n\t\t\tvar attrib = geometry.getAttribute(key);\n\t\t\tvar newAttrib = updateAttribute(attrib, data, itemSize, dtype);\n\t\t\tif (newAttrib) {\n\t\t\t\tgeometry.addAttribute(key, newAttrib);\n\t\t\t}\n\t\t}\n\n\t\tfunction updateAttribute(attrib, data, itemSize, dtype) {\n\t\t\tdata = data || [];\n\t\t\tif (!attrib || rebuildAttribute(attrib, data, itemSize)) {\n\t\t\t\tdata = flatten(data, dtype);\n\t\t\t\tattrib = new __WEBPACK_IMPORTED_MODULE_8_three__[\"BufferAttribute\"](data, itemSize);\n\t\t\t\tattrib.needsUpdate = true;\n\t\t\t\treturn attrib;\n\t\t\t} else {\n\t\t\t\tflatten(data, attrib.array);\n\t\t\t\tattrib.needsUpdate = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tfunction rebuildAttribute(attrib, data, itemSize) {\n\t\t\tif (attrib.itemSize !== itemSize) return true;\n\t\t\tif (!attrib.array) return true;\n\t\t\tvar attribLength = attrib.array.length;\n\t\t\tif (Array.isArray(data) && Array.isArray(data[0])) {\n\t\t\t\treturn attribLength !== data.length * itemSize;\n\t\t\t} else {\n\t\t\t\treturn attribLength !== data.length;\n\t\t\t}\n\t\t}\n\t}, { \"flatten-vertex-data\": 32 }], 32: [function (require, module, exports) {\n\t\tvar dtype = require('dtype');\n\t\tmodule.exports = flattenVertexData;\n\t\tfunction flattenVertexData(data, output, offset) {\n\t\t\tif (!data) throw new TypeError('must specify data as first parameter');\n\t\t\toffset = +(offset || 0) | 0;\n\n\t\t\tif (Array.isArray(data) && Array.isArray(data[0])) {\n\t\t\t\tvar dim = data[0].length;\n\t\t\t\tvar length = data.length * dim;\n\n\t\t\t\tif (!output || typeof output === 'string') {\n\t\t\t\t\toutput = new (dtype(output || 'float32'))(length + offset);\n\t\t\t\t}\n\n\t\t\t\tvar dstLength = output.length - offset;\n\t\t\t\tif (length !== dstLength) {\n\t\t\t\t\tthrow new Error('source length ' + length + ' (' + dim + 'x' + data.length + ')' + ' does not match destination length ' + dstLength);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, k = offset; i < data.length; i++) {\n\t\t\t\t\tfor (var j = 0; j < dim; j++) {\n\t\t\t\t\t\toutput[k++] = data[i][j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!output || typeof output === 'string') {\n\t\t\t\t\tvar Ctor = dtype(output || 'float32');\n\t\t\t\t\tif (offset === 0) {\n\t\t\t\t\t\toutput = new Ctor(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput = new Ctor(data.length + offset);\n\t\t\t\t\t\toutput.set(data, offset);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.set(data, offset);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\t}, { \"dtype\": 33 }], 33: [function (require, module, exports) {\n\t\targuments[4][29][0].apply(exports, arguments);\n\t}, { \"dup\": 29 }], 34: [function (require, module, exports) {\n\t\tvar assign = require('object-assign');\n\n\t\tmodule.exports = function createSDFShader(opt) {\n\t\t\topt = opt || {};\n\t\t\tvar opacity = typeof opt.opacity === 'number' ? opt.opacity : 1;\n\t\t\tvar alphaTest = typeof opt.alphaTest === 'number' ? opt.alphaTest : 0.0001;\n\t\t\tvar precision = opt.precision || 'highp';\n\t\t\tvar color = opt.color;\n\t\t\tvar map = opt.map;\n\n\t\t\tdelete opt.map;\n\t\t\tdelete opt.color;\n\t\t\tdelete opt.precision;\n\t\t\tdelete opt.opacity;\n\n\t\t\treturn assign({\n\t\t\t\tuniforms: {\n\t\t\t\t\topacity: { type: 'f', value: opacity },\n\t\t\t\t\tmap: { type: 't', value: map || new __WEBPACK_IMPORTED_MODULE_8_three__[\"Texture\"]() },\n\t\t\t\t\tcolor: { type: 'c', value: new __WEBPACK_IMPORTED_MODULE_8_three__[\"Color\"](color) }\n\t\t\t\t},\n\t\t\t\tvertexShader: ['attribute vec2 uv;', 'attribute vec4 position;', 'uniform mat4 projectionMatrix;', 'uniform mat4 modelViewMatrix;', 'varying vec2 vUv;', 'void main() {', 'vUv = uv;', 'gl_Position = projectionMatrix * modelViewMatrix * position;', '}'].join('\\n'),\n\t\t\t\tfragmentShader: ['#ifdef GL_OES_standard_derivatives', '#extension GL_OES_standard_derivatives : enable', '#endif', 'precision ' + precision + ' float;', 'uniform float opacity;', 'uniform vec3 color;', 'uniform sampler2D map;', 'varying vec2 vUv;', 'float aastep(float value) {', '  #ifdef GL_OES_standard_derivatives', '    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;', '  #else', '    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));', '  #endif', '  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);', '}', 'void main() {', '  vec4 texColor = texture2D(map, vUv);', '  float alpha = aastep(texColor.a);', '  gl_FragColor = vec4(color, opacity * alpha);', alphaTest === 0 ? '' : '  if (gl_FragColor.a < ' + alphaTest + ') discard;', '}'].join('\\n')\n\t\t\t}, opt);\n\t\t};\n\t}, { \"object-assign\": 26 }], 35: [function (require, module, exports) {\n\t\tvar loadFont = require('load-bmfont');\n\n\t\tmodule.exports = function (opt, cb) {\n\t\t\tloadFont(opt.font, function (err, font) {\n\t\t\t\tif (err) throw err;\n\t\t\t\tPANOLENS.Utils.TextureLoader.load(opt.image, function (tex) {\n\t\t\t\t\tcb(font, tex);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t}, { \"load-bmfont\": 10 }], 36: [function (require, module, exports) {\n\n\t\tvar createText = require('../');\n\t\tvar SDFShader = require('../shaders/sdf');\n\n\t\tif (PANOLENS && PANOLENS.Utils && PANOLENS.SpriteText) {\n\t\t\tPANOLENS.Utils.loadBMFont = function (fontObject, callback) {\n\t\t\t\trequire('./load')(fontObject, PANOLENS.SpriteText.prototype.setBMFont.bind(PANOLENS.SpriteText.prototype, callback));\n\t\t\t};\n\t\t\tPANOLENS.SpriteText.prototype.generateTextGeometry = createText;\n\t\t\tPANOLENS.SpriteText.prototype.generateSDFShader = SDFShader;\n\t\t}\n\t}, { \"../\": 1, \"../shaders/sdf\": 34, \"./load\": 35 }], 37: [function (require, module, exports) {\n\t\t(function (global) {\n\t\t\t/*!\n    * The buffer module from node.js, for the browser.\n    *\n    * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n    * @license  MIT\n    */\n\t\t\t'use strict';\n\n\t\t\tvar base64 = require('base64-js');\n\t\t\tvar ieee754 = require('ieee754');\n\t\t\tvar isArray = require('isarray');\n\n\t\t\texports.Buffer = Buffer;\n\t\t\texports.SlowBuffer = SlowBuffer;\n\t\t\texports.INSPECT_MAX_BYTES = 50;\n\t\t\tBuffer.poolSize = 8192;\n\n\t\t\tvar rootParent = {};\n\n\t\t\tBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n\n\t\t\tfunction typedArraySupport() {\n\t\t\t\ttry {\n\t\t\t\t\tvar arr = new Uint8Array(1);\n\t\t\t\t\tarr.foo = function () {\n\t\t\t\t\t\treturn 42;\n\t\t\t\t\t};\n\t\t\t\t\treturn arr.foo() === 42 && typeof arr.subarray === 'function' && arr.subarray(1, 1).byteLength === 0;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction kMaxLength() {\n\t\t\t\treturn Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n\t\t\t}\n\n\t\t\tfunction Buffer(arg) {\n\t\t\t\tif (!(this instanceof Buffer)) {\n\t\t\t\t\tif (arguments.length > 1) return new Buffer(arg, arguments[1]);\n\t\t\t\t\treturn new Buffer(arg);\n\t\t\t\t}\n\n\t\t\t\tif (!Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis.length = 0;\n\t\t\t\t\tthis.parent = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (typeof arg === 'number') {\n\t\t\t\t\treturn fromNumber(this, arg);\n\t\t\t\t}\n\n\t\t\t\tif (typeof arg === 'string') {\n\t\t\t\t\treturn fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8');\n\t\t\t\t}\n\n\t\t\t\treturn fromObject(this, arg);\n\t\t\t}\n\n\t\t\tfunction fromNumber(that, length) {\n\t\t\t\tthat = allocate(that, length < 0 ? 0 : checked(length) | 0);\n\t\t\t\tif (!Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\t\tthat[i] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromString(that, string, encoding) {\n\t\t\t\tif (typeof encoding !== 'string' || encoding === '') encoding = 'utf8';\n\n\t\t\t\tvar length = byteLength(string, encoding) | 0;\n\t\t\t\tthat = allocate(that, length);\n\n\t\t\t\tthat.write(string, encoding);\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromObject(that, object) {\n\t\t\t\tif (Buffer.isBuffer(object)) return fromBuffer(that, object);\n\n\t\t\t\tif (isArray(object)) return fromArray(that, object);\n\n\t\t\t\tif (object == null) {\n\t\t\t\t\tthrow new TypeError('must start with number, buffer, array or string');\n\t\t\t\t}\n\n\t\t\t\tif (typeof ArrayBuffer !== 'undefined') {\n\t\t\t\t\tif (object.buffer instanceof ArrayBuffer) {\n\t\t\t\t\t\treturn fromTypedArray(that, object);\n\t\t\t\t\t}\n\t\t\t\t\tif (object instanceof ArrayBuffer) {\n\t\t\t\t\t\treturn fromArrayBuffer(that, object);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (object.length) return fromArrayLike(that, object);\n\n\t\t\t\treturn fromJsonObject(that, object);\n\t\t\t}\n\n\t\t\tfunction fromBuffer(that, buffer) {\n\t\t\t\tvar length = checked(buffer.length) | 0;\n\t\t\t\tthat = allocate(that, length);\n\t\t\t\tbuffer.copy(that, 0, 0, length);\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromArray(that, array) {\n\t\t\t\tvar length = checked(array.length) | 0;\n\t\t\t\tthat = allocate(that, length);\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\tthat[i] = array[i] & 255;\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromTypedArray(that, array) {\n\t\t\t\tvar length = checked(array.length) | 0;\n\t\t\t\tthat = allocate(that, length);\n\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\tthat[i] = array[i] & 255;\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromArrayBuffer(that, array) {\n\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthat = new Uint8Array(array);\n\t\t\t\t\tthat.__proto__ = Buffer.prototype;\n\t\t\t\t} else {\n\t\t\t\t\tthat = fromTypedArray(that, new Uint8Array(array));\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromArrayLike(that, array) {\n\t\t\t\tvar length = checked(array.length) | 0;\n\t\t\t\tthat = allocate(that, length);\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\tthat[i] = array[i] & 255;\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction fromJsonObject(that, object) {\n\t\t\t\tvar array;\n\t\t\t\tvar length = 0;\n\n\t\t\t\tif (object.type === 'Buffer' && isArray(object.data)) {\n\t\t\t\t\tarray = object.data;\n\t\t\t\t\tlength = checked(array.length) | 0;\n\t\t\t\t}\n\t\t\t\tthat = allocate(that, length);\n\n\t\t\t\tfor (var i = 0; i < length; i += 1) {\n\t\t\t\t\tthat[i] = array[i] & 255;\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\tBuffer.prototype.__proto__ = Uint8Array.prototype;\n\t\t\t\tBuffer.__proto__ = Uint8Array;\n\t\t\t} else {\n\t\t\t\tBuffer.prototype.length = undefined;\n\t\t\t\tBuffer.prototype.parent = undefined;\n\t\t\t}\n\n\t\t\tfunction allocate(that, length) {\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthat = new Uint8Array(length);\n\t\t\t\t\tthat.__proto__ = Buffer.prototype;\n\t\t\t\t} else {\n\t\t\t\t\tthat.length = length;\n\t\t\t\t}\n\n\t\t\t\tvar fromPool = length !== 0 && length <= Buffer.poolSize >>> 1;\n\t\t\t\tif (fromPool) that.parent = rootParent;\n\n\t\t\t\treturn that;\n\t\t\t}\n\n\t\t\tfunction checked(length) {\n\t\t\t\tif (length >= kMaxLength()) {\n\t\t\t\t\tthrow new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n\t\t\t\t}\n\t\t\t\treturn length | 0;\n\t\t\t}\n\n\t\t\tfunction SlowBuffer(subject, encoding) {\n\t\t\t\tif (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding);\n\n\t\t\t\tvar buf = new Buffer(subject, encoding);\n\t\t\t\tdelete buf.parent;\n\t\t\t\treturn buf;\n\t\t\t}\n\n\t\t\tBuffer.isBuffer = function isBuffer(b) {\n\t\t\t\treturn !!(b != null && b._isBuffer);\n\t\t\t};\n\n\t\t\tBuffer.compare = function compare(a, b) {\n\t\t\t\tif (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n\t\t\t\t\tthrow new TypeError('Arguments must be Buffers');\n\t\t\t\t}\n\n\t\t\t\tif (a === b) return 0;\n\n\t\t\t\tvar x = a.length;\n\t\t\t\tvar y = b.length;\n\n\t\t\t\tvar i = 0;\n\t\t\t\tvar len = Math.min(x, y);\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tif (a[i] !== b[i]) break;\n\n\t\t\t\t\t++i;\n\t\t\t\t}\n\n\t\t\t\tif (i !== len) {\n\t\t\t\t\tx = a[i];\n\t\t\t\t\ty = b[i];\n\t\t\t\t}\n\n\t\t\t\tif (x < y) return -1;\n\t\t\t\tif (y < x) return 1;\n\t\t\t\treturn 0;\n\t\t\t};\n\n\t\t\tBuffer.isEncoding = function isEncoding(encoding) {\n\t\t\t\tswitch (String(encoding).toLowerCase()) {\n\t\t\t\t\tcase 'hex':\n\t\t\t\t\tcase 'utf8':\n\t\t\t\t\tcase 'utf-8':\n\t\t\t\t\tcase 'ascii':\n\t\t\t\t\tcase 'binary':\n\t\t\t\t\tcase 'base64':\n\t\t\t\t\tcase 'raw':\n\t\t\t\t\tcase 'ucs2':\n\t\t\t\t\tcase 'ucs-2':\n\t\t\t\t\tcase 'utf16le':\n\t\t\t\t\tcase 'utf-16le':\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tBuffer.concat = function concat(list, length) {\n\t\t\t\tif (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.');\n\n\t\t\t\tif (list.length === 0) {\n\t\t\t\t\treturn new Buffer(0);\n\t\t\t\t}\n\n\t\t\t\tvar i;\n\t\t\t\tif (length === undefined) {\n\t\t\t\t\tlength = 0;\n\t\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\t\tlength += list[i].length;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar buf = new Buffer(length);\n\t\t\t\tvar pos = 0;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar item = list[i];\n\t\t\t\t\titem.copy(buf, pos);\n\t\t\t\t\tpos += item.length;\n\t\t\t\t}\n\t\t\t\treturn buf;\n\t\t\t};\n\n\t\t\tfunction byteLength(string, encoding) {\n\t\t\t\tif (typeof string !== 'string') string = '' + string;\n\n\t\t\t\tvar len = string.length;\n\t\t\t\tif (len === 0) return 0;\n\n\t\t\t\tvar loweredCase = false;\n\t\t\t\tfor (;;) {\n\t\t\t\t\tswitch (encoding) {\n\t\t\t\t\t\tcase 'ascii':\n\t\t\t\t\t\tcase 'binary':\n\t\t\t\t\t\tcase 'raw':\n\t\t\t\t\t\tcase 'raws':\n\t\t\t\t\t\t\treturn len;\n\t\t\t\t\t\tcase 'utf8':\n\t\t\t\t\t\tcase 'utf-8':\n\t\t\t\t\t\t\treturn utf8ToBytes(string).length;\n\t\t\t\t\t\tcase 'ucs2':\n\t\t\t\t\t\tcase 'ucs-2':\n\t\t\t\t\t\tcase 'utf16le':\n\t\t\t\t\t\tcase 'utf-16le':\n\t\t\t\t\t\t\treturn len * 2;\n\t\t\t\t\t\tcase 'hex':\n\t\t\t\t\t\t\treturn len >>> 1;\n\t\t\t\t\t\tcase 'base64':\n\t\t\t\t\t\t\treturn base64ToBytes(string).length;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (loweredCase) return utf8ToBytes(string).length;\n\t\t\t\t\t\t\tencoding = ('' + encoding).toLowerCase();\n\t\t\t\t\t\t\tloweredCase = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tBuffer.byteLength = byteLength;\n\n\t\t\tfunction slowToString(encoding, start, end) {\n\t\t\t\tvar loweredCase = false;\n\n\t\t\t\tstart = start | 0;\n\t\t\t\tend = end === undefined || end === Infinity ? this.length : end | 0;\n\n\t\t\t\tif (!encoding) encoding = 'utf8';\n\t\t\t\tif (start < 0) start = 0;\n\t\t\t\tif (end > this.length) end = this.length;\n\t\t\t\tif (end <= start) return '';\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tswitch (encoding) {\n\t\t\t\t\t\tcase 'hex':\n\t\t\t\t\t\t\treturn hexSlice(this, start, end);\n\n\t\t\t\t\t\tcase 'utf8':\n\t\t\t\t\t\tcase 'utf-8':\n\t\t\t\t\t\t\treturn utf8Slice(this, start, end);\n\n\t\t\t\t\t\tcase 'ascii':\n\t\t\t\t\t\t\treturn asciiSlice(this, start, end);\n\n\t\t\t\t\t\tcase 'binary':\n\t\t\t\t\t\t\treturn binarySlice(this, start, end);\n\n\t\t\t\t\t\tcase 'base64':\n\t\t\t\t\t\t\treturn base64Slice(this, start, end);\n\n\t\t\t\t\t\tcase 'ucs2':\n\t\t\t\t\t\tcase 'ucs-2':\n\t\t\t\t\t\tcase 'utf16le':\n\t\t\t\t\t\tcase 'utf-16le':\n\t\t\t\t\t\t\treturn utf16leSlice(this, start, end);\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n\t\t\t\t\t\t\tencoding = (encoding + '').toLowerCase();\n\t\t\t\t\t\t\tloweredCase = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBuffer.prototype._isBuffer = true;\n\n\t\t\tBuffer.prototype.toString = function toString() {\n\t\t\t\tvar length = this.length | 0;\n\t\t\t\tif (length === 0) return '';\n\t\t\t\tif (arguments.length === 0) return utf8Slice(this, 0, length);\n\t\t\t\treturn slowToString.apply(this, arguments);\n\t\t\t};\n\n\t\t\tBuffer.prototype.equals = function equals(b) {\n\t\t\t\tif (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n\t\t\t\tif (this === b) return true;\n\t\t\t\treturn Buffer.compare(this, b) === 0;\n\t\t\t};\n\n\t\t\tBuffer.prototype.inspect = function inspect() {\n\t\t\t\tvar str = '';\n\t\t\t\tvar max = exports.INSPECT_MAX_BYTES;\n\t\t\t\tif (this.length > 0) {\n\t\t\t\t\tstr = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n\t\t\t\t\tif (this.length > max) str += ' ... ';\n\t\t\t\t}\n\t\t\t\treturn '<Buffer ' + str + '>';\n\t\t\t};\n\n\t\t\tBuffer.prototype.compare = function compare(b) {\n\t\t\t\tif (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n\t\t\t\tif (this === b) return 0;\n\t\t\t\treturn Buffer.compare(this, b);\n\t\t\t};\n\n\t\t\tBuffer.prototype.indexOf = function indexOf(val, byteOffset) {\n\t\t\t\tif (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff;else if (byteOffset < -0x80000000) byteOffset = -0x80000000;\n\t\t\t\tbyteOffset >>= 0;\n\n\t\t\t\tif (this.length === 0) return -1;\n\t\t\t\tif (byteOffset >= this.length) return -1;\n\n\t\t\t\tif (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0);\n\n\t\t\t\tif (typeof val === 'string') {\n\t\t\t\t\tif (val.length === 0) return -1;\n\t\t\t\t\treturn String.prototype.indexOf.call(this, val, byteOffset);\n\t\t\t\t}\n\t\t\t\tif (Buffer.isBuffer(val)) {\n\t\t\t\t\treturn arrayIndexOf(this, val, byteOffset);\n\t\t\t\t}\n\t\t\t\tif (typeof val === 'number') {\n\t\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n\t\t\t\t\t\treturn Uint8Array.prototype.indexOf.call(this, val, byteOffset);\n\t\t\t\t\t}\n\t\t\t\t\treturn arrayIndexOf(this, [val], byteOffset);\n\t\t\t\t}\n\n\t\t\t\tfunction arrayIndexOf(arr, val, byteOffset) {\n\t\t\t\t\tvar foundIndex = -1;\n\t\t\t\t\tfor (var i = 0; byteOffset + i < arr.length; i++) {\n\t\t\t\t\t\tif (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n\t\t\t\t\t\t\tif (foundIndex === -1) foundIndex = i;\n\t\t\t\t\t\t\tif (i - foundIndex + 1 === val.length) return byteOffset + foundIndex;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfoundIndex = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tthrow new TypeError('val must be string, number or Buffer');\n\t\t\t};\n\n\t\t\tfunction hexWrite(buf, string, offset, length) {\n\t\t\t\toffset = Number(offset) || 0;\n\t\t\t\tvar remaining = buf.length - offset;\n\t\t\t\tif (!length) {\n\t\t\t\t\tlength = remaining;\n\t\t\t\t} else {\n\t\t\t\t\tlength = Number(length);\n\t\t\t\t\tif (length > remaining) {\n\t\t\t\t\t\tlength = remaining;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar strLen = string.length;\n\t\t\t\tif (strLen % 2 !== 0) throw new Error('Invalid hex string');\n\n\t\t\t\tif (length > strLen / 2) {\n\t\t\t\t\tlength = strLen / 2;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tvar parsed = parseInt(string.substr(i * 2, 2), 16);\n\t\t\t\t\tif (isNaN(parsed)) throw new Error('Invalid hex string');\n\t\t\t\t\tbuf[offset + i] = parsed;\n\t\t\t\t}\n\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\tfunction utf8Write(buf, string, offset, length) {\n\t\t\t\treturn blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n\t\t\t}\n\n\t\t\tfunction asciiWrite(buf, string, offset, length) {\n\t\t\t\treturn blitBuffer(asciiToBytes(string), buf, offset, length);\n\t\t\t}\n\n\t\t\tfunction binaryWrite(buf, string, offset, length) {\n\t\t\t\treturn asciiWrite(buf, string, offset, length);\n\t\t\t}\n\n\t\t\tfunction base64Write(buf, string, offset, length) {\n\t\t\t\treturn blitBuffer(base64ToBytes(string), buf, offset, length);\n\t\t\t}\n\n\t\t\tfunction ucs2Write(buf, string, offset, length) {\n\t\t\t\treturn blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n\t\t\t}\n\n\t\t\tBuffer.prototype.write = function write(string, offset, length, encoding) {\n\t\t\t\tif (offset === undefined) {\n\t\t\t\t\tencoding = 'utf8';\n\t\t\t\t\tlength = this.length;\n\t\t\t\t\toffset = 0;\n\t\t\t\t} else if (length === undefined && typeof offset === 'string') {\n\t\t\t\t\tencoding = offset;\n\t\t\t\t\tlength = this.length;\n\t\t\t\t\toffset = 0;\n\t\t\t\t} else if (isFinite(offset)) {\n\t\t\t\t\toffset = offset | 0;\n\t\t\t\t\tif (isFinite(length)) {\n\t\t\t\t\t\tlength = length | 0;\n\t\t\t\t\t\tif (encoding === undefined) encoding = 'utf8';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tencoding = length;\n\t\t\t\t\t\tlength = undefined;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar swap = encoding;\n\t\t\t\t\tencoding = offset;\n\t\t\t\t\toffset = length | 0;\n\t\t\t\t\tlength = swap;\n\t\t\t\t}\n\n\t\t\t\tvar remaining = this.length - offset;\n\t\t\t\tif (length === undefined || length > remaining) length = remaining;\n\n\t\t\t\tif (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n\t\t\t\t\tthrow new RangeError('attempt to write outside buffer bounds');\n\t\t\t\t}\n\n\t\t\t\tif (!encoding) encoding = 'utf8';\n\n\t\t\t\tvar loweredCase = false;\n\t\t\t\tfor (;;) {\n\t\t\t\t\tswitch (encoding) {\n\t\t\t\t\t\tcase 'hex':\n\t\t\t\t\t\t\treturn hexWrite(this, string, offset, length);\n\n\t\t\t\t\t\tcase 'utf8':\n\t\t\t\t\t\tcase 'utf-8':\n\t\t\t\t\t\t\treturn utf8Write(this, string, offset, length);\n\n\t\t\t\t\t\tcase 'ascii':\n\t\t\t\t\t\t\treturn asciiWrite(this, string, offset, length);\n\n\t\t\t\t\t\tcase 'binary':\n\t\t\t\t\t\t\treturn binaryWrite(this, string, offset, length);\n\n\t\t\t\t\t\tcase 'base64':\n\t\t\t\t\t\t\treturn base64Write(this, string, offset, length);\n\n\t\t\t\t\t\tcase 'ucs2':\n\t\t\t\t\t\tcase 'ucs-2':\n\t\t\t\t\t\tcase 'utf16le':\n\t\t\t\t\t\tcase 'utf-16le':\n\t\t\t\t\t\t\treturn ucs2Write(this, string, offset, length);\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n\t\t\t\t\t\t\tencoding = ('' + encoding).toLowerCase();\n\t\t\t\t\t\t\tloweredCase = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tBuffer.prototype.toJSON = function toJSON() {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'Buffer',\n\t\t\t\t\tdata: Array.prototype.slice.call(this._arr || this, 0)\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tfunction base64Slice(buf, start, end) {\n\t\t\t\tif (start === 0 && end === buf.length) {\n\t\t\t\t\treturn base64.fromByteArray(buf);\n\t\t\t\t} else {\n\t\t\t\t\treturn base64.fromByteArray(buf.slice(start, end));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction utf8Slice(buf, start, end) {\n\t\t\t\tend = Math.min(buf.length, end);\n\t\t\t\tvar res = [];\n\n\t\t\t\tvar i = start;\n\t\t\t\twhile (i < end) {\n\t\t\t\t\tvar firstByte = buf[i];\n\t\t\t\t\tvar codePoint = null;\n\t\t\t\t\tvar bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n\t\t\t\t\tif (i + bytesPerSequence <= end) {\n\t\t\t\t\t\tvar secondByte, thirdByte, fourthByte, tempCodePoint;\n\n\t\t\t\t\t\tswitch (bytesPerSequence) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tif (firstByte < 0x80) {\n\t\t\t\t\t\t\t\t\tcodePoint = firstByte;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\t\t\t\t\t\t\t\t\tif (tempCodePoint > 0x7F) {\n\t\t\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\t\t\tthirdByte = buf[i + 2];\n\t\t\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\t\t\t\t\t\t\t\t\tif (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t\t\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tsecondByte = buf[i + 1];\n\t\t\t\t\t\t\t\tthirdByte = buf[i + 2];\n\t\t\t\t\t\t\t\tfourthByte = buf[i + 3];\n\t\t\t\t\t\t\t\tif ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t\t\t\t\t\t\t\t\ttempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\t\t\t\t\t\t\t\t\tif (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t\t\t\t\t\t\t\t\t\tcodePoint = tempCodePoint;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (codePoint === null) {\n\t\t\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t\t\t\tbytesPerSequence = 1;\n\t\t\t\t\t} else if (codePoint > 0xFFFF) {\n\t\t\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\t\t\tres.push(codePoint >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\t\tcodePoint = 0xDC00 | codePoint & 0x3FF;\n\t\t\t\t\t}\n\n\t\t\t\t\tres.push(codePoint);\n\t\t\t\t\ti += bytesPerSequence;\n\t\t\t\t}\n\n\t\t\t\treturn decodeCodePointsArray(res);\n\t\t\t}\n\n\t\t\tvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\n\t\t\tfunction decodeCodePointsArray(codePoints) {\n\t\t\t\tvar len = codePoints.length;\n\t\t\t\tif (len <= MAX_ARGUMENTS_LENGTH) {\n\t\t\t\t\treturn String.fromCharCode.apply(String, codePoints);\n\t\t\t\t}\n\n\t\t\t\tvar res = '';\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tres += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tfunction asciiSlice(buf, start, end) {\n\t\t\t\tvar ret = '';\n\t\t\t\tend = Math.min(buf.length, end);\n\n\t\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\t\tret += String.fromCharCode(buf[i] & 0x7F);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\tfunction binarySlice(buf, start, end) {\n\t\t\t\tvar ret = '';\n\t\t\t\tend = Math.min(buf.length, end);\n\n\t\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\t\tret += String.fromCharCode(buf[i]);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\tfunction hexSlice(buf, start, end) {\n\t\t\t\tvar len = buf.length;\n\n\t\t\t\tif (!start || start < 0) start = 0;\n\t\t\t\tif (!end || end < 0 || end > len) end = len;\n\n\t\t\t\tvar out = '';\n\t\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\t\tout += toHex(buf[i]);\n\t\t\t\t}\n\t\t\t\treturn out;\n\t\t\t}\n\n\t\t\tfunction utf16leSlice(buf, start, end) {\n\t\t\t\tvar bytes = buf.slice(start, end);\n\t\t\t\tvar res = '';\n\t\t\t\tfor (var i = 0; i < bytes.length; i += 2) {\n\t\t\t\t\tres += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t}\n\n\t\t\tBuffer.prototype.slice = function slice(start, end) {\n\t\t\t\tvar len = this.length;\n\t\t\t\tstart = ~~start;\n\t\t\t\tend = end === undefined ? len : ~~end;\n\n\t\t\t\tif (start < 0) {\n\t\t\t\t\tstart += len;\n\t\t\t\t\tif (start < 0) start = 0;\n\t\t\t\t} else if (start > len) {\n\t\t\t\t\tstart = len;\n\t\t\t\t}\n\n\t\t\t\tif (end < 0) {\n\t\t\t\t\tend += len;\n\t\t\t\t\tif (end < 0) end = 0;\n\t\t\t\t} else if (end > len) {\n\t\t\t\t\tend = len;\n\t\t\t\t}\n\n\t\t\t\tif (end < start) end = start;\n\n\t\t\t\tvar newBuf;\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tnewBuf = this.subarray(start, end);\n\t\t\t\t\tnewBuf.__proto__ = Buffer.prototype;\n\t\t\t\t} else {\n\t\t\t\t\tvar sliceLen = end - start;\n\t\t\t\t\tnewBuf = new Buffer(sliceLen, undefined);\n\t\t\t\t\tfor (var i = 0; i < sliceLen; i++) {\n\t\t\t\t\t\tnewBuf[i] = this[i + start];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (newBuf.length) newBuf.parent = this.parent || this;\n\n\t\t\t\treturn newBuf;\n\t\t\t};\n\n\t\t\tfunction checkOffset(offset, ext, length) {\n\t\t\t\tif (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n\t\t\t\tif (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n\t\t\t}\n\n\t\t\tBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t\t\t\tvar val = this[offset];\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (++i < byteLength && (mul *= 0x100)) {\n\t\t\t\t\tval += this[offset + i] * mul;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) {\n\t\t\t\t\tcheckOffset(offset, byteLength, this.length);\n\t\t\t\t}\n\n\t\t\t\tvar val = this[offset + --byteLength];\n\t\t\t\tvar mul = 1;\n\t\t\t\twhile (byteLength > 0 && (mul *= 0x100)) {\n\t\t\t\t\tval += this[offset + --byteLength] * mul;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 1, this.length);\n\t\t\t\treturn this[offset];\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 2, this.length);\n\t\t\t\treturn this[offset] | this[offset + 1] << 8;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 2, this.length);\n\t\t\t\treturn this[offset] << 8 | this[offset + 1];\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\n\t\t\t\treturn (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\n\t\t\t\treturn this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n\t\t\t};\n\n\t\t\tBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t\t\t\tvar val = this[offset];\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (++i < byteLength && (mul *= 0x100)) {\n\t\t\t\t\tval += this[offset + i] * mul;\n\t\t\t\t}\n\t\t\t\tmul *= 0x80;\n\n\t\t\t\tif (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t\t\t\treturn val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t\t\t\tvar i = byteLength;\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar val = this[offset + --i];\n\t\t\t\twhile (i > 0 && (mul *= 0x100)) {\n\t\t\t\t\tval += this[offset + --i] * mul;\n\t\t\t\t}\n\t\t\t\tmul *= 0x80;\n\n\t\t\t\tif (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t\t\t\treturn val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 1, this.length);\n\t\t\t\tif (!(this[offset] & 0x80)) return this[offset];\n\t\t\t\treturn (0xff - this[offset] + 1) * -1;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 2, this.length);\n\t\t\t\tvar val = this[offset] | this[offset + 1] << 8;\n\t\t\t\treturn val & 0x8000 ? val | 0xFFFF0000 : val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 2, this.length);\n\t\t\t\tvar val = this[offset + 1] | this[offset] << 8;\n\t\t\t\treturn val & 0x8000 ? val | 0xFFFF0000 : val;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\n\t\t\t\treturn this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n\t\t\t};\n\n\t\t\tBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\n\t\t\t\treturn this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n\t\t\t};\n\n\t\t\tBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\t\t\t\treturn ieee754.read(this, offset, true, 23, 4);\n\t\t\t};\n\n\t\t\tBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 4, this.length);\n\t\t\t\treturn ieee754.read(this, offset, false, 23, 4);\n\t\t\t};\n\n\t\t\tBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 8, this.length);\n\t\t\t\treturn ieee754.read(this, offset, true, 52, 8);\n\t\t\t};\n\n\t\t\tBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n\t\t\t\tif (!noAssert) checkOffset(offset, 8, this.length);\n\t\t\t\treturn ieee754.read(this, offset, false, 52, 8);\n\t\t\t};\n\n\t\t\tfunction checkInt(buf, value, offset, ext, max, min) {\n\t\t\t\tif (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance');\n\t\t\t\tif (value > max || value < min) throw new RangeError('value is out of bounds');\n\t\t\t\tif (offset + ext > buf.length) throw new RangeError('index out of range');\n\t\t\t}\n\n\t\t\tBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);\n\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar i = 0;\n\t\t\t\tthis[offset] = value & 0xFF;\n\t\t\t\twhile (++i < byteLength && (mul *= 0x100)) {\n\t\t\t\t\tthis[offset + i] = value / mul & 0xFF;\n\t\t\t\t}\n\n\t\t\t\treturn offset + byteLength;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tbyteLength = byteLength | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);\n\n\t\t\t\tvar i = byteLength - 1;\n\t\t\t\tvar mul = 1;\n\t\t\t\tthis[offset + i] = value & 0xFF;\n\t\t\t\twhile (--i >= 0 && (mul *= 0x100)) {\n\t\t\t\t\tthis[offset + i] = value / mul & 0xFF;\n\t\t\t\t}\n\n\t\t\t\treturn offset + byteLength;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n\t\t\t\tif (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\treturn offset + 1;\n\t\t\t};\n\n\t\t\tfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n\t\t\t\tif (value < 0) value = 0xffff + value + 1;\n\t\t\t\tfor (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n\t\t\t\t\tbuf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\t\tthis[offset + 1] = value >>> 8;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt16(this, value, offset, true);\n\t\t\t\t}\n\t\t\t\treturn offset + 2;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value >>> 8;\n\t\t\t\t\tthis[offset + 1] = value & 0xff;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt16(this, value, offset, false);\n\t\t\t\t}\n\t\t\t\treturn offset + 2;\n\t\t\t};\n\n\t\t\tfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n\t\t\t\tif (value < 0) value = 0xffffffff + value + 1;\n\t\t\t\tfor (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n\t\t\t\t\tbuf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset + 3] = value >>> 24;\n\t\t\t\t\tthis[offset + 2] = value >>> 16;\n\t\t\t\t\tthis[offset + 1] = value >>> 8;\n\t\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt32(this, value, offset, true);\n\t\t\t\t}\n\t\t\t\treturn offset + 4;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value >>> 24;\n\t\t\t\t\tthis[offset + 1] = value >>> 16;\n\t\t\t\t\tthis[offset + 2] = value >>> 8;\n\t\t\t\t\tthis[offset + 3] = value & 0xff;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt32(this, value, offset, false);\n\t\t\t\t}\n\t\t\t\treturn offset + 4;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) {\n\t\t\t\t\tvar limit = Math.pow(2, 8 * byteLength - 1);\n\n\t\t\t\t\tcheckInt(this, value, offset, byteLength, limit - 1, -limit);\n\t\t\t\t}\n\n\t\t\t\tvar i = 0;\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar sub = value < 0 ? 1 : 0;\n\t\t\t\tthis[offset] = value & 0xFF;\n\t\t\t\twhile (++i < byteLength && (mul *= 0x100)) {\n\t\t\t\t\tthis[offset + i] = (value / mul >> 0) - sub & 0xFF;\n\t\t\t\t}\n\n\t\t\t\treturn offset + byteLength;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) {\n\t\t\t\t\tvar limit = Math.pow(2, 8 * byteLength - 1);\n\n\t\t\t\t\tcheckInt(this, value, offset, byteLength, limit - 1, -limit);\n\t\t\t\t}\n\n\t\t\t\tvar i = byteLength - 1;\n\t\t\t\tvar mul = 1;\n\t\t\t\tvar sub = value < 0 ? 1 : 0;\n\t\t\t\tthis[offset + i] = value & 0xFF;\n\t\t\t\twhile (--i >= 0 && (mul *= 0x100)) {\n\t\t\t\t\tthis[offset + i] = (value / mul >> 0) - sub & 0xFF;\n\t\t\t\t}\n\n\t\t\t\treturn offset + byteLength;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n\t\t\t\tif (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n\t\t\t\tif (value < 0) value = 0xff + value + 1;\n\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\treturn offset + 1;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\t\tthis[offset + 1] = value >>> 8;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt16(this, value, offset, true);\n\t\t\t\t}\n\t\t\t\treturn offset + 2;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value >>> 8;\n\t\t\t\t\tthis[offset + 1] = value & 0xff;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt16(this, value, offset, false);\n\t\t\t\t}\n\t\t\t\treturn offset + 2;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value & 0xff;\n\t\t\t\t\tthis[offset + 1] = value >>> 8;\n\t\t\t\t\tthis[offset + 2] = value >>> 16;\n\t\t\t\t\tthis[offset + 3] = value >>> 24;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt32(this, value, offset, true);\n\t\t\t\t}\n\t\t\t\treturn offset + 4;\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n\t\t\t\tvalue = +value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tif (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t\t\t\tif (value < 0) value = 0xffffffff + value + 1;\n\t\t\t\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tthis[offset] = value >>> 24;\n\t\t\t\t\tthis[offset + 1] = value >>> 16;\n\t\t\t\t\tthis[offset + 2] = value >>> 8;\n\t\t\t\t\tthis[offset + 3] = value & 0xff;\n\t\t\t\t} else {\n\t\t\t\t\tobjectWriteUInt32(this, value, offset, false);\n\t\t\t\t}\n\t\t\t\treturn offset + 4;\n\t\t\t};\n\n\t\t\tfunction checkIEEE754(buf, value, offset, ext, max, min) {\n\t\t\t\tif (value > max || value < min) throw new RangeError('value is out of bounds');\n\t\t\t\tif (offset + ext > buf.length) throw new RangeError('index out of range');\n\t\t\t\tif (offset < 0) throw new RangeError('index out of range');\n\t\t\t}\n\n\t\t\tfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n\t\t\t\tif (!noAssert) {\n\t\t\t\t\tcheckIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n\t\t\t\t}\n\t\t\t\tieee754.write(buf, value, offset, littleEndian, 23, 4);\n\t\t\t\treturn offset + 4;\n\t\t\t}\n\n\t\t\tBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n\t\t\t\treturn writeFloat(this, value, offset, true, noAssert);\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n\t\t\t\treturn writeFloat(this, value, offset, false, noAssert);\n\t\t\t};\n\n\t\t\tfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n\t\t\t\tif (!noAssert) {\n\t\t\t\t\tcheckIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n\t\t\t\t}\n\t\t\t\tieee754.write(buf, value, offset, littleEndian, 52, 8);\n\t\t\t\treturn offset + 8;\n\t\t\t}\n\n\t\t\tBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n\t\t\t\treturn writeDouble(this, value, offset, true, noAssert);\n\t\t\t};\n\n\t\t\tBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n\t\t\t\treturn writeDouble(this, value, offset, false, noAssert);\n\t\t\t};\n\n\t\t\tBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n\t\t\t\tif (!start) start = 0;\n\t\t\t\tif (!end && end !== 0) end = this.length;\n\t\t\t\tif (targetStart >= target.length) targetStart = target.length;\n\t\t\t\tif (!targetStart) targetStart = 0;\n\t\t\t\tif (end > 0 && end < start) end = start;\n\n\t\t\t\tif (end === start) return 0;\n\t\t\t\tif (target.length === 0 || this.length === 0) return 0;\n\n\t\t\t\tif (targetStart < 0) {\n\t\t\t\t\tthrow new RangeError('targetStart out of bounds');\n\t\t\t\t}\n\t\t\t\tif (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n\t\t\t\tif (end < 0) throw new RangeError('sourceEnd out of bounds');\n\n\t\t\t\tif (end > this.length) end = this.length;\n\t\t\t\tif (target.length - targetStart < end - start) {\n\t\t\t\t\tend = target.length - targetStart + start;\n\t\t\t\t}\n\n\t\t\t\tvar len = end - start;\n\t\t\t\tvar i;\n\n\t\t\t\tif (this === target && start < targetStart && targetStart < end) {\n\t\t\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\t\t\ttarget[i + targetStart] = this[i + start];\n\t\t\t\t\t}\n\t\t\t\t} else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\ttarget[i + targetStart] = this[i + start];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tUint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n\t\t\t\t}\n\n\t\t\t\treturn len;\n\t\t\t};\n\n\t\t\tBuffer.prototype.fill = function fill(value, start, end) {\n\t\t\t\tif (!value) value = 0;\n\t\t\t\tif (!start) start = 0;\n\t\t\t\tif (!end) end = this.length;\n\n\t\t\t\tif (end < start) throw new RangeError('end < start');\n\n\t\t\t\tif (end === start) return;\n\t\t\t\tif (this.length === 0) return;\n\n\t\t\t\tif (start < 0 || start >= this.length) throw new RangeError('start out of bounds');\n\t\t\t\tif (end < 0 || end > this.length) throw new RangeError('end out of bounds');\n\n\t\t\t\tvar i;\n\t\t\t\tif (typeof value === 'number') {\n\t\t\t\t\tfor (i = start; i < end; i++) {\n\t\t\t\t\t\tthis[i] = value;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar bytes = utf8ToBytes(value.toString());\n\t\t\t\t\tvar len = bytes.length;\n\t\t\t\t\tfor (i = start; i < end; i++) {\n\t\t\t\t\t\tthis[i] = bytes[i % len];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\n\t\t\tfunction base64clean(str) {\n\t\t\t\tstr = stringtrim(str).replace(INVALID_BASE64_RE, '');\n\n\t\t\t\tif (str.length < 2) return '';\n\n\t\t\t\twhile (str.length % 4 !== 0) {\n\t\t\t\t\tstr = str + '=';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\n\t\t\tfunction stringtrim(str) {\n\t\t\t\tif (str.trim) return str.trim();\n\t\t\t\treturn str.replace(/^\\s+|\\s+$/g, '');\n\t\t\t}\n\n\t\t\tfunction toHex(n) {\n\t\t\t\tif (n < 16) return '0' + n.toString(16);\n\t\t\t\treturn n.toString(16);\n\t\t\t}\n\n\t\t\tfunction utf8ToBytes(string, units) {\n\t\t\t\tunits = units || Infinity;\n\t\t\t\tvar codePoint;\n\t\t\t\tvar length = string.length;\n\t\t\t\tvar leadSurrogate = null;\n\t\t\t\tvar bytes = [];\n\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tcodePoint = string.charCodeAt(i);\n\n\t\t\t\t\tif (codePoint > 0xD7FF && codePoint < 0xE000) {\n\t\t\t\t\t\tif (!leadSurrogate) {\n\t\t\t\t\t\t\tif (codePoint > 0xDBFF) {\n\t\t\t\t\t\t\t\tif ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else if (i + 1 === length) {\n\t\t\t\t\t\t\t\tif ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tleadSurrogate = codePoint;\n\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (codePoint < 0xDC00) {\n\t\t\t\t\t\t\tif ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t\t\t\t\t\t\tleadSurrogate = codePoint;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcodePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n\t\t\t\t\t} else if (leadSurrogate) {\n\t\t\t\t\t\tif ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t\t\t\t\t}\n\n\t\t\t\t\tleadSurrogate = null;\n\n\t\t\t\t\tif (codePoint < 0x80) {\n\t\t\t\t\t\tif ((units -= 1) < 0) break;\n\t\t\t\t\t\tbytes.push(codePoint);\n\t\t\t\t\t} else if (codePoint < 0x800) {\n\t\t\t\t\t\tif ((units -= 2) < 0) break;\n\t\t\t\t\t\tbytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n\t\t\t\t\t} else if (codePoint < 0x10000) {\n\t\t\t\t\t\tif ((units -= 3) < 0) break;\n\t\t\t\t\t\tbytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n\t\t\t\t\t} else if (codePoint < 0x110000) {\n\t\t\t\t\t\tif ((units -= 4) < 0) break;\n\t\t\t\t\t\tbytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Invalid code point');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn bytes;\n\t\t\t}\n\n\t\t\tfunction asciiToBytes(str) {\n\t\t\t\tvar byteArray = [];\n\t\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\t\tbyteArray.push(str.charCodeAt(i) & 0xFF);\n\t\t\t\t}\n\t\t\t\treturn byteArray;\n\t\t\t}\n\n\t\t\tfunction utf16leToBytes(str, units) {\n\t\t\t\tvar c, hi, lo;\n\t\t\t\tvar byteArray = [];\n\t\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\t\tif ((units -= 2) < 0) break;\n\n\t\t\t\t\tc = str.charCodeAt(i);\n\t\t\t\t\thi = c >> 8;\n\t\t\t\t\tlo = c % 256;\n\t\t\t\t\tbyteArray.push(lo);\n\t\t\t\t\tbyteArray.push(hi);\n\t\t\t\t}\n\n\t\t\t\treturn byteArray;\n\t\t\t}\n\n\t\t\tfunction base64ToBytes(str) {\n\t\t\t\treturn base64.toByteArray(base64clean(str));\n\t\t\t}\n\n\t\t\tfunction blitBuffer(src, dst, offset, length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (i + offset >= dst.length || i >= src.length) break;\n\t\t\t\t\tdst[i + offset] = src[i];\n\t\t\t\t}\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\t}, { \"base64-js\": 38, \"ieee754\": 39, \"isarray\": 40 }], 38: [function (require, module, exports) {\n\t\t;(function (exports) {\n\t\t\t'use strict';\n\n\t\t\tvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\t\t\tvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\n\t\t\tvar PLUS = '+'.charCodeAt(0);\n\t\t\tvar SLASH = '/'.charCodeAt(0);\n\t\t\tvar NUMBER = '0'.charCodeAt(0);\n\t\t\tvar LOWER = 'a'.charCodeAt(0);\n\t\t\tvar UPPER = 'A'.charCodeAt(0);\n\t\t\tvar PLUS_URL_SAFE = '-'.charCodeAt(0);\n\t\t\tvar SLASH_URL_SAFE = '_'.charCodeAt(0);\n\n\t\t\tfunction decode(elt) {\n\t\t\t\tvar code = elt.charCodeAt(0);\n\t\t\t\tif (code === PLUS || code === PLUS_URL_SAFE) return 62;\n\t\t\t\tif (code === SLASH || code === SLASH_URL_SAFE) return 63;\n\t\t\t\tif (code < NUMBER) return -1;\n\t\t\t\tif (code < NUMBER + 10) return code - NUMBER + 26 + 26;\n\t\t\t\tif (code < UPPER + 26) return code - UPPER;\n\t\t\t\tif (code < LOWER + 26) return code - LOWER + 26;\n\t\t\t}\n\n\t\t\tfunction b64ToByteArray(b64) {\n\t\t\t\tvar i, j, l, tmp, placeHolders, arr;\n\n\t\t\t\tif (b64.length % 4 > 0) {\n\t\t\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4');\n\t\t\t\t}\n\n\t\t\t\tvar len = b64.length;\n\t\t\t\tplaceHolders = b64.charAt(len - 2) === '=' ? 2 : b64.charAt(len - 1) === '=' ? 1 : 0;\n\n\t\t\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders);\n\n\t\t\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length;\n\n\t\t\t\tvar L = 0;\n\n\t\t\t\tfunction push(v) {\n\t\t\t\t\tarr[L++] = v;\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\t\t\ttmp = decode(b64.charAt(i)) << 18 | decode(b64.charAt(i + 1)) << 12 | decode(b64.charAt(i + 2)) << 6 | decode(b64.charAt(i + 3));\n\t\t\t\t\tpush((tmp & 0xFF0000) >> 16);\n\t\t\t\t\tpush((tmp & 0xFF00) >> 8);\n\t\t\t\t\tpush(tmp & 0xFF);\n\t\t\t\t}\n\n\t\t\t\tif (placeHolders === 2) {\n\t\t\t\t\ttmp = decode(b64.charAt(i)) << 2 | decode(b64.charAt(i + 1)) >> 4;\n\t\t\t\t\tpush(tmp & 0xFF);\n\t\t\t\t} else if (placeHolders === 1) {\n\t\t\t\t\ttmp = decode(b64.charAt(i)) << 10 | decode(b64.charAt(i + 1)) << 4 | decode(b64.charAt(i + 2)) >> 2;\n\t\t\t\t\tpush(tmp >> 8 & 0xFF);\n\t\t\t\t\tpush(tmp & 0xFF);\n\t\t\t\t}\n\n\t\t\t\treturn arr;\n\t\t\t}\n\n\t\t\tfunction uint8ToBase64(uint8) {\n\t\t\t\tvar i;\n\t\t\t\tvar extraBytes = uint8.length % 3;\n\t\t\t\tvar output = '';\n\t\t\t\tvar temp, length;\n\n\t\t\t\tfunction encode(num) {\n\t\t\t\t\treturn lookup.charAt(num);\n\t\t\t\t}\n\n\t\t\t\tfunction tripletToBase64(num) {\n\t\t\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F);\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];\n\t\t\t\t\toutput += tripletToBase64(temp);\n\t\t\t\t}\n\n\t\t\t\tswitch (extraBytes) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ttemp = uint8[uint8.length - 1];\n\t\t\t\t\t\toutput += encode(temp >> 2);\n\t\t\t\t\t\toutput += encode(temp << 4 & 0x3F);\n\t\t\t\t\t\toutput += '==';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + uint8[uint8.length - 1];\n\t\t\t\t\t\toutput += encode(temp >> 10);\n\t\t\t\t\t\toutput += encode(temp >> 4 & 0x3F);\n\t\t\t\t\t\toutput += encode(temp << 2 & 0x3F);\n\t\t\t\t\t\toutput += '=';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t}\n\n\t\t\texports.toByteArray = b64ToByteArray;\n\t\t\texports.fromByteArray = uint8ToBase64;\n\t\t})(typeof exports === 'undefined' ? this.base64js = {} : exports);\n\t}, {}], 39: [function (require, module, exports) {\n\t\texports.read = function (buffer, offset, isLE, mLen, nBytes) {\n\t\t\tvar e, m;\n\t\t\tvar eLen = nBytes * 8 - mLen - 1;\n\t\t\tvar eMax = (1 << eLen) - 1;\n\t\t\tvar eBias = eMax >> 1;\n\t\t\tvar nBits = -7;\n\t\t\tvar i = isLE ? nBytes - 1 : 0;\n\t\t\tvar d = isLE ? -1 : 1;\n\t\t\tvar s = buffer[offset + i];\n\n\t\t\ti += d;\n\n\t\t\te = s & (1 << -nBits) - 1;\n\t\t\ts >>= -nBits;\n\t\t\tnBits += eLen;\n\t\t\tfor (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n\t\t\tm = e & (1 << -nBits) - 1;\n\t\t\te >>= -nBits;\n\t\t\tnBits += mLen;\n\t\t\tfor (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n\t\t\tif (e === 0) {\n\t\t\t\te = 1 - eBias;\n\t\t\t} else if (e === eMax) {\n\t\t\t\treturn m ? NaN : (s ? -1 : 1) * Infinity;\n\t\t\t} else {\n\t\t\t\tm = m + Math.pow(2, mLen);\n\t\t\t\te = e - eBias;\n\t\t\t}\n\t\t\treturn (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n\t\t};\n\n\t\texports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n\t\t\tvar e, m, c;\n\t\t\tvar eLen = nBytes * 8 - mLen - 1;\n\t\t\tvar eMax = (1 << eLen) - 1;\n\t\t\tvar eBias = eMax >> 1;\n\t\t\tvar rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n\t\t\tvar i = isLE ? 0 : nBytes - 1;\n\t\t\tvar d = isLE ? 1 : -1;\n\t\t\tvar s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n\t\t\tvalue = Math.abs(value);\n\n\t\t\tif (isNaN(value) || value === Infinity) {\n\t\t\t\tm = isNaN(value) ? 1 : 0;\n\t\t\t\te = eMax;\n\t\t\t} else {\n\t\t\t\te = Math.floor(Math.log(value) / Math.LN2);\n\t\t\t\tif (value * (c = Math.pow(2, -e)) < 1) {\n\t\t\t\t\te--;\n\t\t\t\t\tc *= 2;\n\t\t\t\t}\n\t\t\t\tif (e + eBias >= 1) {\n\t\t\t\t\tvalue += rt / c;\n\t\t\t\t} else {\n\t\t\t\t\tvalue += rt * Math.pow(2, 1 - eBias);\n\t\t\t\t}\n\t\t\t\tif (value * c >= 2) {\n\t\t\t\t\te++;\n\t\t\t\t\tc /= 2;\n\t\t\t\t}\n\n\t\t\t\tif (e + eBias >= eMax) {\n\t\t\t\t\tm = 0;\n\t\t\t\t\te = eMax;\n\t\t\t\t} else if (e + eBias >= 1) {\n\t\t\t\t\tm = (value * c - 1) * Math.pow(2, mLen);\n\t\t\t\t\te = e + eBias;\n\t\t\t\t} else {\n\t\t\t\t\tm = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n\t\t\t\t\te = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n\t\t\te = e << mLen | m;\n\t\t\teLen += mLen;\n\t\t\tfor (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n\t\t\tbuffer[offset + i - d] |= s * 128;\n\t\t};\n\t}, {}], 40: [function (require, module, exports) {\n\t\tvar toString = {}.toString;\n\n\t\tmodule.exports = Array.isArray || function (arr) {\n\t\t\treturn toString.call(arr) == '[object Array]';\n\t\t};\n\t}, {}] }, {}, [36]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PANOLENS);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(56), __webpack_require__(320)(module), __webpack_require__(23)))\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getSize */\n/* unused harmony export getCenter */\n/* unused harmony export toIndexed */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(57);\n\n\nvar box = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Box3\"]();\n\nfunction getSize(object) {\n\n    box.setFromObject(object);\n\n    return box.getSize();\n}\n\nfunction getCenter(object) {\n\n    box.setFromObject(object);\n\n    return box.getCenter();\n}\n\nfunction lightsDiff(lights, oldLights) {}\n\nfunction toIndexed(bufferGeometry) {\n\n    var raw_positions = bufferGeometry.getAttribute('position').array;\n\n    var raw_uvs;\n    var hasUV = bufferGeometry.getAttribute('uv') !== undefined;\n    if (hasUV) raw_uvs = bufferGeometry.getAttribute('uv').array;\n\n    var raw_normals;\n    var hasNormal = bufferGeometry.getAttribute('normal') !== undefined;\n    if (hasNormal) raw_normals = bufferGeometry.getAttribute('normal').array;\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    var face, face_normalss, face_uvs, tmp_indices;\n\n    var v0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n    var v1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n    var v2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n\n    var n0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n    var n1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n    var n2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n\n    var uv0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector2\"]();\n    var uv1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector2\"]();\n    var uv2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector2\"]();\n\n    for (var i = 0; i < raw_positions.length; i += 9) {\n\n        v0.x = raw_positions[i];\n        v0.y = raw_positions[i + 1];\n        v0.z = raw_positions[i + 2];\n\n        v1.x = raw_positions[i + 3];\n        v1.y = raw_positions[i + 4];\n        v1.z = raw_positions[i + 5];\n\n        v2.x = raw_positions[i + 6];\n        v2.y = raw_positions[i + 7];\n        v2.z = raw_positions[i + 8];\n\n        face = [v0, v1, v2];\n\n        if (hasNormal) {\n\n            n0.x = raw_normals[i];\n            n0.y = raw_normals[i + 1];\n            n0.z = raw_normals[i + 2];\n\n            n1.x = raw_normals[i + 3];\n            n1.y = raw_normals[i + 4];\n            n1.z = raw_normals[i + 5];\n\n            n2.x = raw_normals[i + 6];\n            n2.y = raw_normals[i + 7];\n            n2.z = raw_normals[i + 8];\n\n            face_normalss = [n0, n1, n2];\n        }\n\n        if (hasUV) {\n\n            uv0.x = raw_uvs[i];\n            uv0.y = raw_uvs[i + 1];\n\n            uv1.x = raw_uvs[i + 2];\n            uv1.y = raw_uvs[i + 3];\n\n            uv2.x = raw_uvs[i + 4];\n            uv2.y = raw_uvs[i + 5];\n\n            face_uvs = [uv0, uv1, uv2];\n        }\n\n        tmp_indices = [];\n\n        face.forEach(function (v, i) {\n\n            var id = exists(v, vertices);\n            if (id == -1) {\n\n                id = vertices.length;\n                vertices.push(v.clone());\n\n                if (hasNormal) normals.push(face_normalss[i].clone());\n                if (hasUV) uvs.push(face_uvs[i].clone());\n            }\n            tmp_indices.push(id);\n        });\n\n        indices.push(tmp_indices[0], tmp_indices[1], tmp_indices[2]);\n    }\n\n    var positionBuffer = new Float32Array(vertices.length * 3);\n    if (hasNormal) var normalBuffer = new Float32Array(vertices.length * 3);\n    if (hasUV) var uvBuffer = new Float32Array(vertices.length * 2);\n\n    var i2 = 0;\n    var i3 = 0;\n    for (i = 0; i < vertices.length; i++) {\n\n        i3 = i * 3;\n\n        positionBuffer[i3] = vertices[i].x;\n        positionBuffer[i3 + 1] = vertices[i].y;\n        positionBuffer[i3 + 2] = vertices[i].z;\n\n        if (hasNormal) {\n\n            normalBuffer[i3] = normals[i].x;\n            normalBuffer[i3 + 1] = normals[i].y;\n            normalBuffer[i3 + 2] = normals[i].z;\n        }\n\n        if (hasUV) {\n\n            i2 = i * 2;\n            uvBuffer[i2] = uvs[i].x;\n            uvBuffer[i2 + 1] = uvs[i].y;\n        }\n    }\n\n    bufferGeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"BufferAttribute\"](positionBuffer, 3));\n    if (hasNormal) bufferGeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"BufferAttribute\"](normalBuffer, 3));\n    if (hasUV) bufferGeometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_0_three__[\"BufferAttribute\"](uvBuffer, 2));\n    bufferGeometry.setIndex(new __WEBPACK_IMPORTED_MODULE_0_three__[\"BufferAttribute\"](new Uint32Array(indices), 1));\n    return bufferGeometry;\n\n    function exists(v, vertices) {\n        for (var i = 0; i < vertices.length; i++) {\n            if (v.equals(vertices[i])) return i;\n        }\n        return -1;\n    }\n}\n\n\n\n/***/ })\n\n},[63]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.533bca198a59d02bb9ef.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-size:13px;float:left}.demo-block .demo-block-code pre code{font:normal 10pt Consolas,Monaco,monospace}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:\\\"\\\";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .hljs{background:transparent}.demo-block .demo-block-code code{position:absolute;top:0;left:0}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-72810904\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./examples/components/demo-block.vue\n// module id = 125\n// module chunks = 1","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:\\\"\\\";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@keyframes loading-rotate{0%{transform:rotate(0) scale(1)}50%{transform:rotate(180deg) scale(.6)}to{transform:rotate(1turn) scale(1)}}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-8319b06e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./examples/App.vue\n// module id = 126\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./demo-pano.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a3a43b4e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./demo-pano.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-pano.vue\n// module id = 308\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./demo-video-pano.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f78497aa\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./demo-video-pano.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-video-pano.vue\n// module id = 309\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"Vue Component & Webpack\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"vueCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.vueCode)))]), _vm._v(\"\\n                \")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"HTML & JS\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"htmlCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.htmlCode)))]), _vm._v(\"\\n                \")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-72810904\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./examples/components/demo-block.vue\n// module id = 310\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"border\": \"0\",\n      \"padding\": \"0\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7974fb6b\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Pano.vue\n// module id = 311\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('div', {\n    staticClass: \"examples-pages\"\n  }, [_c('router-view')], 1)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8319b06e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./examples/App.vue\n// module id = 312\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('Pano', {\n    attrs: {\n      \"source\": \"static/equirectangular.jpg\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a3a43b4e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-pano.vue\n// module id = 313\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('Pano', {\n    attrs: {\n      \"src\": \"./../static/equirectangular.jpg\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f78497aa\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-video-pano.vue\n// module id = 314\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-72810904\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./demo-block.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3d56467c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-72810904\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./examples/components/demo-block.vue\n// module id = 316\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?{\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-8319b06e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"51b71d58\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-8319b06e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./examples/App.vue\n// module id = 317\n// module chunks = 1","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-72810904\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./demo-block.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./demo-block.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72810904\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./demo-block.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/components/demo-block.vue\n// module id = 58\n// module chunks = 1","var Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Pano.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7974fb6b\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Pano.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pano.vue\n// module id = 59\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport { pages } from '../pages'\n\nVue.use( Router )\n\nconst routes = pages.map( page => {\n    \n    const name = page.name;\n\n    return {\n        path: `/${ name }`,\n        name,\n        component: page\n    }\n} )\n\nroutes.push( {\n    path: '*',\n    redirect: '/demo-pano'\n} )\n\nexport default new Router( { routes } )\n\n\n// WEBPACK FOOTER //\n// ./examples/router/index.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-8319b06e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8319b06e\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/App.vue\n// module id = 62\n// module chunks = 1","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./examples/index.js","import DemoPano from './demo-pano'\nimport DemoVideoPano from './demo-video-pano'\n\nconst pages = [\n    DemoPano,\n    DemoVideoPano\n]\n\nexport { pages };\n\n\n\n// WEBPACK FOOTER //\n// ./examples/pages/index.js","<template>\n    <div class=\"examples\">\n        <div class=\"examples-content\">    \n            <div class=\"examples-pages\">\n                <router-view></router-view>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'app'\n}\n</script>\n<style>\n* {\n    margin: 0;\n    border: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nul, ol, li {\n    list-style: none;\n}\n\na {\n    color: #657180;\n    text-decoration: none;\n}\n\nhtml, body, .examples {\n    width: 100%;\n    height: 100%;\n    color: #657180;\n}\n\nbody {\n    background: #eee;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n                 \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",\n                 SimSun, sans-serif;\n    background: #fff;\n}\n\n.examples-header {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    background: #f3f6fb;\n    text-shadow: 0 1px 0 rgba(255,255,255,0.5);\n    border-bottom: solid 1px #dfe2e7;\n    padding: 15px 15px 15px 30px;\n    line-height: 20px;\n}\n\n.examples-header .title {\n    font-weight: bold;\n    font-size: 18px;\n    display: inline-block;\n}\n\n.examples-header .github {\n    color: #39f;\n    display: inline-block;\n    font-size: 12px;\n    float: right;\n}\n\n.examples-content {\n    width: 100%;\n    height: 100%;\n    padding-top: 52px;\n    overflow: hidden;\n}\n\n.examples-menu {\n    float: left;\n    width: 230px;\n    height: 100%;\n    border-right: solid 1px #dfe2e7;\n    padding: 10px 30px;\n}\n\n.examples-menu .examples-menu-item {\n    display: block;\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.examples-menu .examples-menu-item > a {\n    display: block;\n    width: 100%;\n    height: 100%;\n}\n\n.examples-menu .examples-menu-title {\n    display: block;\n    width: 100%;\n    padding: 6px 0;\n    margin-top: 10px;\n    font-size: 14px;\n    font-weight: bold;\n}\n\n.examples-menu .examples-menu-item:hover > a {\n    color: #39f;\n}\n\n.examples-pages {\n    height: 100%;\n    overflow: hidden;\n}\n\n.example-loading {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n}\n.example-loading::before {\n    content: '';\n    border-radius: 100%;\n    margin: 2px;\n    border: 3px solid #20a0ff;\n    border-bottom-color: transparent;\n    height: 36px;\n    width: 36px;\n    display: inline-block;\n    animation: loading-rotate .75s 0s linear infinite;\n    vertical-align: middle;\n}\n\n.example-loading::after {\n    content: '';\n    display: inline-block;\n    height: 100%;\n    width: 0;\n    vertical-align: middle;\n}\n\n@keyframes loading-rotate{\n    0% {\n        transform: rotate(0) scale(1);\n    }\n    50% {\n        transform: rotate(180deg) scale(.6);\n    }\n    100% {\n        transform: rotate(360deg) scale(1);\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?4b668a3a","<template>\n    <div class=\"demo-block\">\n        <div class=\"demo-block-preview\">\n            <slot name=\"preview\"></slot>\n        </div>\n        <div class=\"demo-block-code\">\n            <div class=\"demo-block-code-box\">\n                <h3>Vue Component & Webpack</h3>\n                <div class=\"demo-block-code-box-content\">\n                    <pre>\n                        <code ref=\"vueCode\" class=\"html\">{{ vueCode | code }}</code>\n                    </pre>\n                </div>\n            </div>\n            <div class=\"demo-block-code-box\">\n                <h3>HTML & JS</h3>\n                <div class=\"demo-block-code-box-content\">\n                    <pre>\n                        <code ref=\"htmlCode\" class=\"html\">{{ htmlCode | code }}</code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport 'highlight.js/styles/github.css';\nimport hljs from 'highlight.js'\n\nconst codeHandler = code => {\n    const scripts = `<script src=\"vue.js\"><\\/script>\n    <script src=\"vue-vr.min.js\"><\\/script>`;\n\n    return code.replace( /#scripts#/ig, scripts );\n}\n\nexport default {\n    name: 'app',\n    props: {\n        vueCode: String,\n        htmlCode: {\n            type: String,\n            default: '// TODO'\n        }\n    },\n    mounted () {\n        hljs.highlightBlock( this.$refs.vueCode );\n        hljs.highlightBlock( this.$refs.htmlCode );\n    },\n    data () {\n    \treturn {}\n    },\n    filters: {\n        code ( val ) {\n            return codeHandler( val );\n        }\n    },\n    components: {\n\n    }\n}\n</script>\n<style>\n    .demo-block {\n        width: 100%;\n        height: 100%;\n        background-color: #fff;\n        border-radius: 3px;\n    }\n\n    .demo-block .demo-block-preview {\n        width: 50%;\n        height: 100%;\n        float: left;\n        position: relative;\n    }\n\n    .demo-block .demo-block-code {\n        width: 50%;\n        height: 100%;\n        background: #f9fafc;\n        border-left: solid 1px #dfe2e7;\n        font-size: 13px;\n        float: left;\n    }\n\n\n    .demo-block .demo-block-code pre code {\n        font: normal 10pt Consolas, Monaco, monospace;\n    }\n\n\n    .demo-block .demo-block-code .demo-block-code-box {\n        width: 100%;\n        height: 50%;\n        position: relative;\n        overflow: hidden;\n    }\n\n    .demo-block .demo-block-code-box::after {\n        content: '';\n        display: block;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 90%;\n        height: 1px;\n        background: -webkit-linear-gradient(left, #dfe2e7 80%, rgba(223,226,231,0) 100%);\n    }\n\n    .demo-block .demo-block-code-box h3 {\n        width: 100%;\n        padding: 10px 20px;\n        font-size: 16px;\n        font-weight: bold;\n        position: absolute;\n    }\n\n    .demo-block .demo-block-code-box-content {\n        position: absolute;\n        top: 40px;\n        bottom: 10px;\n        left: 20px;\n        right: 20px;\n        overflow: auto;\n    }\n\n    .demo-block .hljs {\n        background: transparent;\n    }\n\n    .demo-block .demo-block-code code {\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// demo-block.vue?26322769","<template>\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\n        <template slot=\"preview\">\n            <Pano\n                @on-load=\"onLoad\"\n                source=\"static/equirectangular.jpg\"></Pano>\n            <div class=\"example-loading\" v-show=\"loading\"></div>\n        </template>\n    </demo-block>\n</template>\n\n<script>\nimport DemoBlock from '../components/demo-block';\nimport Pano from '../../src/Pano.vue'\n\nconst code = `\n<template>\n    <Pano\n        @on-load=\"onLoad\"\n        src=\"./../static/equirectangular.jpg\">\n    </Pano>\n</template>\n\n<script>\n    import { Pano } from 'vue-vr'\n\n    export default {\n        components: {\n            Pano\n        }\n    }\n<\\/script>\n`\n\nconst htmlCode = `\n<body>\n    <div id=\"app\">\n        <Pano\n            @on-load=\"onLoad\"\n            type='cube'\n            source=\"./../static/equirectangular.jpg\">\n        </Pano>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: '#app'\n        })\n    <\\/script>\n</body>\n`\n\nexport default {\n    name: 'demo-pano',\n    data () {\n    \treturn {\n            code,\n            htmlCode,\n            loading: true\n    \t}\n    },\n    methods: {\n        onLoad () {\n            this.loading = false;\n        }\n    },\n    components: {\n        Pano,\n        DemoBlock\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// demo-pano.vue?627231a6","<template>\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\n        <template slot=\"preview\">\n            <Pano\n                @on-load=\"onLoad\"\n                src=\"./../static/equirectangular.jpg\"></Pano>\n            <div class=\"example-loading\" v-show=\"loading\"></div>\n        </template>\n    </demo-block>\n</template>\n\n<script>\nimport DemoBlock from '../components/demo-block';\nimport Pano from '../../src/Pano.vue'\n\nconst code = `\n<template>\n    <Pano\n        @on-load=\"onLoad\"\n        src=\"./../static/equirectangular.jpg\">\n    </Pano>\n</template>\n\n<script>\n    import { Pano } from 'vue-vr'\n\n    export default {\n        components: {\n            Pano\n        }\n    }\n<\\/script>\n`\n\nconst htmlCode = `\n<body>\n    <div id=\"app\">\n        <Pano\n            @on-load=\"onLoad\"\n            type='cube'\n            source=\"./../static/equirectangular.jpg\">\n        </Pano>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: '#app'\n        })\n    <\\/script>\n</body>\n`\n\nexport default {\n    name: 'demo-video-pano',\n    data () {\n    \treturn {\n            code,\n            htmlCode,\n            loading: true\n    \t}\n    },\n    methods: {\n        onLoad () {\n            this.loading = false;\n        }\n    },\n    components: {\n        Pano,\n        DemoBlock\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// demo-video-pano.vue?52fcf628","<template>\n    <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0;\">    \n    </div>\n</template>\n\n<script>\nimport { getSize, getCenter } from \"./util\";\nimport PanoLens from \"./lib/panolens\";\n\nexport default {\n  props: {\n    source: {\n      type: String\n    },\n    type:{\n        type:String\n    },\n    width: {\n      type: Number\n    },\n    height: {\n      type: Number\n    }\n  },\n  data() {\n    return {\n      size: {\n        width: this.width,\n        height: this.height\n      },\n      viewer: null,\n      panorama:null\n    };\n  },\n  created() {\n    window.addEventListener(\"resize\", this.onResize, false);\n  },\n  mounted() {\n    if (this.width === undefined || this.height === undefined) {\n      this.size = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight\n      };\n    }\n\n    this.viewer = new PanoLens.Viewer({\n      container: this.$el\n    });\n\n    console.log(this.source);\n    this.loadPano();\n  },\n  watch: {\n    source() {\n      if (!this.viewer) return;\n      if (!this.panorama) return;\n      this.loadPano();\n    }\n  },\n  methods: {\n    onResize() {\n      if (this.width === undefined || this.height === undefined) {\n        this.$nextTick(() => {\n          this.size = {\n            width: this.$el.offsetWidth,\n            height: this.$el.offsetHeight\n          };\n        });\n      }\n    },\n    loadPano(){\n        if(!this.source) return;\n\n        switch(this.type){\n            case 'cube':\n                var l = this.source.replace('%s','l');\n                var f = this.source.replace('%s','f');\n                var r = this.source.replace('%s','r');\n                var b = this.source.replace('%s','b');\n                var u = this.source.replace('%s','u');\n                var d = this.source.replace('%s','d');\n                this.panorama = new PanoLens.CubePanorama([r,l,u,d,f,b]);\n                break;\n            default:\n                this.panorama = new PanoLens.ImagePanorama(this.source);\n                break;\n        }\n\n        this.panorama.y = Math.PI/2.;\n        \n        this.viewer.add(this.panorama);\n        this.$emit(\"on-load\");\n    }\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// Pano.vue?3fe19c3e","import * as THREE from 'three';\n\n/**\n * Panolens.js\n * @author pchen66\n * @namespace PANOLENS\n */\n\nvar PANOLENS = { REVISION: '9' };\n;/*! npm.im/iphone-inline-video 2.2.2 */\nvar enableInlineVideo=function(){\"use strict\";/*! npm.im/intervalometer */\nfunction e(e,i,n,r){function t(n){d=i(t,r),e(n-(a||n)),a=n}var d,a;return{start:function(){d||t(0)},stop:function(){n(d),d=null,a=0}}}function i(i){return e(i,requestAnimationFrame,cancelAnimationFrame)}function n(e,i,n){function r(r){n&&!n(e,i)||r.stopImmediatePropagation()}return e.addEventListener(i,r),r}function r(e,i,n,r){function t(){return n[i]}function d(e){n[i]=e}r&&d(e[i]),Object.defineProperty(e,i,{get:t,set:d})}function t(e,i,n){n.addEventListener(i,function(){return e.dispatchEvent(new Event(i))})}function d(e,i){Promise.resolve().then(function(){e.dispatchEvent(new Event(i))})}function a(e){var i=new Audio;return t(e,\"play\",i),t(e,\"playing\",i),t(e,\"pause\",i),i.crossOrigin=e.crossOrigin,i.src=e.src||e.currentSrc||\"data:\",i}function u(e,i,n){(m||0)+200<Date.now()&&(e[h]=!0,m=Date.now()),n||(e.currentTime=i),k[++T%3]=100*i|0}function o(e){return e.driver.currentTime>=e.video.duration}function s(e){var i=this;i.video.readyState>=i.video.HAVE_FUTURE_DATA?(i.hasAudio||(i.driver.currentTime=i.video.currentTime+e*i.video.playbackRate/1e3,i.video.loop&&o(i)&&(i.driver.currentTime=0)),u(i.video,i.driver.currentTime)):i.video.networkState===i.video.NETWORK_IDLE&&0===i.video.buffered.length&&i.video.load(),i.video.ended&&(delete i.video[h],i.video.pause(!0))}function c(){var e=this,i=e[g];if(e.webkitDisplayingFullscreen)return void e[E]();\"data:\"!==i.driver.src&&i.driver.src!==e.src&&(u(e,0,!0),i.driver.src=e.src),e.paused&&(i.paused=!1,0===e.buffered.length&&e.load(),i.driver.play(),i.updater.start(),i.hasAudio||(d(e,\"play\"),i.video.readyState>=i.video.HAVE_ENOUGH_DATA&&d(e,\"playing\")))}function v(e){var i=this,n=i[g];n.driver.pause(),n.updater.stop(),i.webkitDisplayingFullscreen&&i[w](),n.paused&&!e||(n.paused=!0,n.hasAudio||d(i,\"pause\"),i.ended&&!i.webkitDisplayingFullscreen&&(i[h]=!0,d(i,\"ended\")))}function p(e,n){var r={};e[g]=r,r.paused=!0,r.hasAudio=n,r.video=e,r.updater=i(s.bind(r)),n?r.driver=a(e):(e.addEventListener(\"canplay\",function(){e.paused||d(e,\"playing\")}),r.driver={src:e.src||e.currentSrc||\"data:\",muted:!0,paused:!0,pause:function(){r.driver.paused=!0},play:function(){r.driver.paused=!1,o(r)&&u(e,0)},get ended(){return o(r)}}),e.addEventListener(\"emptied\",function(){var i=!r.driver.src||\"data:\"===r.driver.src;r.driver.src&&r.driver.src!==e.src&&(u(e,0,!0),r.driver.src=e.src,i||!n&&e.autoplay?r.driver.play():r.updater.stop())},!1),e.addEventListener(\"webkitbeginfullscreen\",function(){e.paused?n&&0===r.driver.buffered.length&&r.driver.load():(e.pause(),e[E]())}),n&&(e.addEventListener(\"webkitendfullscreen\",function(){r.driver.currentTime=e.currentTime}),e.addEventListener(\"seeking\",function(){k.indexOf(100*e.currentTime|0)<0&&(r.driver.currentTime=e.currentTime)}))}function l(e){var i=e[h];return delete e[h],!e.webkitDisplayingFullscreen&&!i}function f(e){var i=e[g];e[E]=e.play,e[w]=e.pause,e.play=c,e.pause=v,r(e,\"paused\",i.driver),r(e,\"muted\",i.driver,!0),r(e,\"playbackRate\",i.driver,!0),r(e,\"ended\",i.driver),r(e,\"loop\",i.driver,!0),n(e,\"seeking\",function(e){return!e.webkitDisplayingFullscreen}),n(e,\"seeked\",function(e){return!e.webkitDisplayingFullscreen}),n(e,\"timeupdate\",l),n(e,\"ended\",l)}function y(e,i){if(void 0===i&&(i={}),!e[g]){if(!i.everywhere){if(!b)return;if(!(i.iPad||i.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var n=e.autoplay;e.autoplay=!1,p(e,!e.muted),f(e),e.classList.add(\"IIV\"),e.muted&&n&&(e.play(),e.addEventListener(\"playing\",function i(){e.autoplay=!0,e.removeEventListener(\"playing\",i)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn(\"iphone-inline-video is not guaranteed to work in emulated environments\")}}var m,b=\"object\"==typeof document&&\"object-fit\"in document.head.style&&!matchMedia(\"(-webkit-video-playable-inline)\").matches,g=\"bfred-it:iphone-inline-video\",h=\"bfred-it:iphone-inline-video:event\",E=\"bfred-it:iphone-inline-video:nativeplay\",w=\"bfred-it:iphone-inline-video:nativepause\",k=[],T=0;return y}();\n;/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n\t\t window.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _repeatDelayTime;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\tthis.to = function (properties, duration) {\n\n\t\t_valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object, _object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.end = function () {\n\n\t\tthis.update(_startTime + _duration);\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.repeatDelay = function (amount) {\n\n\t\t_repeatDelayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object, _object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\tif (_repeatDelayTime !== undefined) {\n\t\t\t\t\t_startTime = time + _repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\t_startTime = time + _delayTime;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\n\t\t\t\t\t_onCompleteCallback.call(_object, _object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n;/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n/*global THREE, console */\n\n// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n// supported.\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\tthis.frameId;\n\n\t// API\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the control orbits around\n\t// and where it pans with respect to.\n\tthis.target = new THREE.Vector3();\n\n\t// center is old, deprecated; use \"target\" instead\n\tthis.center = this.target;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t// backwards compatibility\n\tthis.noZoom = false;\n\tthis.zoomSpeed = 1.0;\n\n\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// Set to true to disable this control\n\tthis.noRotate = false;\n\tthis.rotateSpeed = -0.15;\n\n\t// Set to true to disable this control\n\tthis.noPan = true;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// Momentum\n  \tthis.momentumDampingFactor = 0.90;\n  \tthis.momentumScalingFactor = -0.005;\n  \tthis.momentumKeydownFactor = 20;\n\n  \t// Fov\n  \tthis.minFov = 30;\n  \tthis.maxFov = 120;\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to disable use of the keys\n\tthis.noKeys = false;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t////////////\n\t// internals\n\n\tvar scope = this;\n\n\tvar EPS = 10e-8;\n\tvar MEPS = 10e-5;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\tvar panOffset = new THREE.Vector3();\n\n\tvar offset = new THREE.Vector3();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tvar theta;\n\tvar phi;\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar pan = new THREE.Vector3();\n\n\tvar lastPosition = new THREE.Vector3();\n\tvar lastQuaternion = new THREE.Quaternion();\n\n\tvar momentumLeft = 0, momentumUp = 0;\n\tvar eventCurrent, eventPrevious;\n\tvar momentumOn = false;\n\n\tvar keyUp, keyBottom, keyLeft, keyRight;\n\n\tvar STATE = { NONE : -1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// so camera.up is the orbit axis\n\n\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\tvar quatInverse = quat.clone().inverse();\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tthis.setLastQuaternion = function ( quaternion ) {\n\t\tlastQuaternion.copy( quaternion );\n\t\tscope.object.quaternion.copy( quaternion );\n\t};\n\n\tthis.getLastPosition = function () {\n\t\treturn lastPosition;\n\t}\n\n\tthis.rotateLeft = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tthetaDelta -= angle;\n\n\n\t};\n\n\tthis.rotateUp = function ( angle ) {\n\n\t\tif ( angle === undefined ) {\n\n\t\t\tangle = getAutoRotationAngle();\n\n\t\t}\n\n\t\tphiDelta -= angle;\n\n\t};\n\n\t// pass in distance in world space to move left\n\tthis.panLeft = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get X column of matrix\n\t\tpanOffset.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\tpanOffset.multiplyScalar( - distance );\n\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in distance in world space to move up\n\tthis.panUp = function ( distance ) {\n\n\t\tvar te = this.object.matrix.elements;\n\n\t\t// get Y column of matrix\n\t\tpanOffset.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\tpanOffset.multiplyScalar( distance );\n\n\t\tpan.add( panOffset );\n\n\t};\n\n\t// pass in x,y of change desired in pixel space,\n\t// right and down are positive\n\tthis.pan = function ( deltaX, deltaY ) {\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t// perspective\n\t\t\tvar position = scope.object.position;\n\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\tvar targetDistance = offset.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\tscope.panLeft( 2 * deltaX * targetDistance / element.clientHeight );\n\t\t\tscope.panUp( 2 * deltaY * targetDistance / element.clientHeight );\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t// orthographic\n\t\t\tscope.panLeft( deltaX * (scope.object.right - scope.object.left) / element.clientWidth );\n\t\t\tscope.panUp( deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic or perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.momentum = function(){\n\t\t\n\t\tif ( !momentumOn ) return;\n\n\t\tif ( Math.abs( momentumLeft ) < MEPS && Math.abs( momentumUp ) < MEPS ) { \n\n\t\t\tmomentumOn = false; \n\t\t\treturn;\n\t\t}\n\n\t\tmomentumUp   *= this.momentumDampingFactor;\n\t\tmomentumLeft *= this.momentumDampingFactor;\n\n\t\tthetaDelta -= this.momentumScalingFactor * momentumLeft;\n\t\tphiDelta   -= this.momentumScalingFactor * momentumUp;\n\n\t};\n\n\tthis.dollyIn = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.dollyOut = function ( dollyScale ) {\n\n\t\tif ( dollyScale === undefined ) {\n\n\t\t\tdollyScale = getZoomScale();\n\n\t\t}\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t}\n\n\t};\n\n\tthis.update = function ( ignoreUpdate ) {\n\n\t\tvar position = this.object.position;\n\n\t\toffset.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\toffset.applyQuaternion( quat );\n\n\t\t// angle from z-axis around y-axis\n\n\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t// angle from y-axis\n\n\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\n\t\t\tthis.rotateLeft( getAutoRotationAngle() );\n\n\t\t}\n\n\t\tthis.momentum();\n\n\t\ttheta += thetaDelta;\n\t\tphi += phiDelta;\n\n\t\t// restrict theta to be between desired limits\n\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n\t\t// restrict phi to be between desired limits\n\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\tvar radius = offset.length() * scale;\n\n\t\t// restrict radius to be between desired limits\n\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n\t\t// move target to panned location\n\t\tthis.target.add( pan );\n\n\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\toffset.y = radius * Math.cos( phi );\n\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\toffset.applyQuaternion( quatInverse );\n\n\t\tposition.copy( this.target ).add( offset );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tthetaDelta = 0;\n\t\tphiDelta = 0;\n\t\tscale = 1;\n\t\tpan.set( 0, 0, 0 );\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\t\tif ( lastPosition.distanceToSquared( this.object.position ) > EPS\n\t\t    || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS ) {\n\n\t\t\tignoreUpdate !== true && this.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( this.object.position );\n\t\t\tlastQuaternion.copy (this.object.quaternion );\n\n\t\t}\n\n\t};\n\n\n\tthis.reset = function () {\n\n\t\tstate = STATE.NONE;\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent( changeEvent );\n\n\t\tthis.update();\n\n\t};\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn theta\n\n\t};\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\tmomentumOn = false;\n\n   \t\tmomentumLeft = momentumUp = 0;\n\n\t\tif ( scope.enabled === false ) return;\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tstate = STATE.PAN;\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tif( eventPrevious ){\n\t\t\t\tmomentumLeft = event.clientX - eventPrevious.clientX;\n\t\t\t\tmomentumUp = event.clientY - eventPrevious.clientY;\n\t\t\t}\n\n\t\t\teventPrevious = event;\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tscope.dollyIn();\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tscope.dollyOut();\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) scope.update();\n\n\t}\n\n\tfunction onMouseUp( /* event */ ) {\n\n\t\tmomentumOn = true;\n\n\t\teventPrevious = undefined;\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.noZoom === true || state !== STATE.NONE ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) { // Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tif ( delta > 0 ) {\n\n\t\t\t//scope.dollyOut();\n\t\t\tscope.object.fov = ( scope.object.fov < scope.maxFov ) \n\t\t\t\t? scope.object.fov + 1\n\t\t\t\t: scope.maxFov;\n\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t} else if ( delta < 0 ) {\n\n\t\t\t//scope.dollyIn();\n\t\t\tscope.object.fov = ( scope.object.fov > scope.minFov ) \n\t\t\t\t? scope.object.fov - 1\n\t\t\t\t: scope.minFov;\n\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t}\n\n\t\tscope.update();\n\t\tscope.dispatchEvent( changeEvent );\n\t\tscope.dispatchEvent( startEvent );\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyUp ( event ) {\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tkeyUp = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tkeyBottom = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tkeyLeft = false;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tkeyRight = false;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.noKeys === true || scope.noRotate === true ) return;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tkeyUp = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tkeyBottom = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tkeyLeft = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tkeyRight = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (keyUp || keyBottom || keyLeft || keyRight) {\n\n\t\t\tmomentumOn = true;\n\n\t\t\tif (keyUp) momentumUp = - scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyBottom) momentumUp = scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyLeft) momentumLeft = - scope.rotateSpeed * scope.momentumKeydownFactor;\n\t\t\tif (keyRight) momentumLeft = scope.rotateSpeed * scope.momentumKeydownFactor;\n\n\t\t}\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tmomentumOn = false;\n\n\t\tmomentumLeft = momentumUp = 0;\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.noRotate === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tscope.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tscope.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\tif( eventPrevious ){\n\t\t\t\t\tmomentumLeft = event.touches[ 0 ].pageX - eventPrevious.pageX;\n\t\t\t\t\tmomentumUp = event.touches[ 0 ].pageY - eventPrevious.pageY;\n\t\t\t\t}\n\n\t\t\t\teventPrevious = {\n\t\t\t\t\tpageX: event.touches[ 0 ].pageX,\n\t\t\t\t\tpageY: event.touches[ 0 ].pageY,\n\t\t\t\t};\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.noZoom === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tif ( event.scale < 1 ) {\n\n\t\t\t\t\tscope.object.fov = ( scope.object.fov < scope.maxFov ) \n\t\t\t\t\t\t? scope.object.fov + 1\n\t\t\t\t\t\t: scope.maxFov;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t} else if ( event.scale > 1 ) {\n\n\t\t\t\t\tscope.object.fov = ( scope.object.fov > scope.minFov ) \n\t\t\t\t\t\t? scope.object.fov - 1\n\t\t\t\t\t\t: scope.minFov;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t}\n\n\t\t\t\tscope.update();\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.noPan === true ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\tscope.pan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( /* event */ ) {\n\n\t\tmomentumOn = true;\n\n\t\teventPrevious = undefined;\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\t//this.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\tthis.domElement.addEventListener( 'DOMMouseScroll', onMouseWheel, false ); // firefox\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\twindow.addEventListener( 'keyup', onKeyUp, false );\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;;/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nTHREE.DeviceOrientationControls = function( camera, domElement ) {\n\n\tvar scope = this;\n\tvar changeEvent = { type: 'change' };\n\n\tvar rotY = 0;\n\tvar rotX = 0;\n\tvar tempX = 0;\n\tvar tempY = 0;\n\n\tthis.camera = camera;\n\tthis.camera.rotation.reorder( \"YXZ\" );\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\tthis.enabled = true;\n\n\tthis.deviceOrientation = {};\n\tthis.screenOrientation = 0;\n\n\tthis.alpha = 0;\n\tthis.alphaOffsetAngle = 0;\n\n\n\tvar onDeviceOrientationChangeEvent = function( event ) {\n\n\t\tscope.deviceOrientation = event;\n\n\t};\n\n\tvar onScreenOrientationChangeEvent = function() {\n\n\t\tscope.screenOrientation = window.orientation || 0;\n\n\t};\n\n\tvar onTouchStartEvent = function (event) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\ttempX = event.touches[ 0 ].pageX;\n\t\ttempY = event.touches[ 0 ].pageY;\n\n\t};\n\n\tvar onTouchMoveEvent = function (event) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\trotY += THREE.Math.degToRad( ( event.touches[ 0 ].pageX - tempX ) / 4 );\n\t\trotX += THREE.Math.degToRad( ( tempY - event.touches[ 0 ].pageY ) / 4 );\n\n\t\tscope.updateAlphaOffsetAngle( rotY );\n\n\t\ttempX = event.touches[ 0 ].pageX;\n\t\ttempY = event.touches[ 0 ].pageY;\n\n\t};\n\n\t// The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n\tvar setCameraQuaternion = function( quaternion, alpha, beta, gamma, orient ) {\n\n\t\tvar zee = new THREE.Vector3( 0, 0, 1 );\n\n\t\tvar euler = new THREE.Euler();\n\n\t\tvar q0 = new THREE.Quaternion();\n\n\t\tvar q1 = new THREE.Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n\t\tvar vectorFingerY;\n\t\tvar fingerQY = new THREE.Quaternion();\n\t\tvar fingerQX = new THREE.Quaternion();\n\n\t\tif ( scope.screenOrientation == 0 ) {\n\n\t\t\tvectorFingerY = new THREE.Vector3( 1, 0, 0 );\n\t\t\tfingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n\t\t} else if ( scope.screenOrientation == 180 ) {\n\n\t\t\tvectorFingerY = new THREE.Vector3( 1, 0, 0 );\n\t\t\tfingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n\t\t} else if ( scope.screenOrientation == 90 ) {\n\n\t\t\tvectorFingerY = new THREE.Vector3( 0, 1, 0 );\n\t\t\tfingerQY.setFromAxisAngle( vectorFingerY, rotX );\n\n\t\t} else if ( scope.screenOrientation == - 90) {\n\n\t\t\tvectorFingerY = new THREE.Vector3( 0, 1, 0 );\n\t\t\tfingerQY.setFromAxisAngle( vectorFingerY, -rotX );\n\n\t\t}\n\n\t\tq1.multiply( fingerQY );\n\t\tq1.multiply( fingerQX );\n\n\t\teuler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n\t\tquaternion.setFromEuler( euler ); // orient the device\n\n\t\tquaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n\t\tquaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n\t};\n\n\tthis.connect = function() {\n\n\t\tonScreenOrientationChangeEvent(); // run once on load\n\n\t\twindow.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n\t\twindow.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\t\twindow.addEventListener( 'deviceorientation', this.update.bind( this ), false );\n\n\t\tscope.domElement.addEventListener( \"touchstart\", onTouchStartEvent, false );\n\t\tscope.domElement.addEventListener( \"touchmove\", onTouchMoveEvent, false );\n\n\t\tscope.enabled = true;\n\n\t};\n\n\tthis.disconnect = function() {\n\n\t\twindow.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n\t\twindow.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\t\twindow.removeEventListener( 'deviceorientation', this.update.bind( this ), false );\n\n\t\tscope.domElement.removeEventListener( \"touchstart\", onTouchStartEvent, false );\n\t\tscope.domElement.removeEventListener( \"touchmove\", onTouchMoveEvent, false );\n\n\t\tscope.enabled = false;\n\n\t};\n\n\tthis.update = function( ignoreUpdate ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tvar alpha = scope.deviceOrientation.alpha ? THREE.Math.degToRad( scope.deviceOrientation.alpha ) + this.alphaOffsetAngle : 0; // Z\n\t\tvar beta = scope.deviceOrientation.beta ? THREE.Math.degToRad( scope.deviceOrientation.beta ) : 0; // X'\n\t\tvar gamma = scope.deviceOrientation.gamma ? THREE.Math.degToRad( scope.deviceOrientation.gamma ) : 0; // Y''\n\t\tvar orient = scope.screenOrientation ? THREE.Math.degToRad( scope.screenOrientation ) : 0; // O\n\n\t\tsetCameraQuaternion( scope.camera.quaternion, alpha, beta, gamma, orient );\n\t\tthis.alpha = alpha;\n\n\t\tignoreUpdate !== true && this.dispatchEvent( changeEvent );\n\n\t};\n\n\tthis.updateAlphaOffsetAngle = function( angle ) {\n\n\t\tthis.alphaOffsetAngle = angle;\n\t\tthis.update();\n\n\t};\n\n\tthis.dispose = function() {\n\n\t\tthis.disconnect();\n\n\t};\n\n\tthis.connect();\n\n};\n\nTHREE.DeviceOrientationControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.DeviceOrientationControls.prototype.constructor = THREE.DeviceOrientationControls;; /** The Bend modifier lets you bend the current selection up to 90 degrees about a single axis,\n * producing a uniform bend in an object's geometry.\n * You can control the angle and direction of the bend on any of three axes.\n * The geometry has to have rather large number of polygons!\n * options:\n * \t direction - deformation direction (in local coordinates!). \n * \t axis - deformation axis (in local coordinates!). Vector of direction and axis are perpendicular.\n * \t angle - deformation angle.\n * @author Vildanov Almaz / alvild@gmail.com\n * The algorithm of a bend is based on the chain line cosh: y = 1/b * cosh(b*x) - 1/b. It can be used only in three.js.\n */\n\nTHREE.BendModifier = function () {\n\n};\n\nTHREE.BendModifier.prototype = {\n\n    constructor: THREE.BendModifier,\n\n    set: function ( direction, axis, angle ) {\n        this.direction = new THREE.Vector3(); this.direction.copy( direction );\n\t\tthis.axis = new THREE.Vector3(); this.axis.copy( axis );\n        this.angle = angle;\n        return this\n    },\n\n\t_sign: function (a) {\n        return 0 > a ? -1 : 0 < a ? 1 : 0\n    },\n\n\t_cosh: function( x )  {\n\t\treturn ( Math.exp( x ) + Math.exp( -x ) ) / 2;\n\t},\n\n\t_sinhInverse: function( x )  {\n\t\t\treturn  Math.log( Math.abs( x ) + Math.sqrt( x * x + 1 ) );\n\t},\n\n    modify: function ( geometry ) {\n\n\t\tvar thirdAxis = new THREE.Vector3();  thirdAxis.crossVectors( this.direction, this.axis );\n\n\t\t// P - matrices of the change-of-coordinates\n\t\tvar P = new THREE.Matrix4();\n\t\tP.set ( thirdAxis.x, thirdAxis.y, thirdAxis.z, 0, \n\t\t\tthis.direction.x, this.direction.y, this.direction.z, 0, \n\t\t\tthis.axis.x, this.axis.y, this.axis.z, 0, \n\t\t\t0, 0, 0, 1 ).transpose();\n\n\t\tvar InverseP =  new THREE.Matrix4().getInverse( P );\n\t\tvar newVertices = []; var oldVertices = []; var anglesBetweenOldandNewVertices = [];\n\n\t\tvar meshGeometryBoundingBoxMaxx = 0; var meshGeometryBoundingBoxMinx = 0;\n\t\tvar meshGeometryBoundingBoxMaxy = 0; var meshGeometryBoundingBoxMiny = 0;\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++)  {\n\n\t\t\tnewVertices[i] = new THREE.Vector3(); newVertices[i].copy( geometry.vertices[i] ).applyMatrix4( InverseP );\n\t\t\tif ( newVertices[i].x > meshGeometryBoundingBoxMaxx ) { meshGeometryBoundingBoxMaxx = newVertices[i].x; }\n\t\t\tif ( newVertices[i].x < meshGeometryBoundingBoxMinx ) { meshGeometryBoundingBoxMinx = newVertices[i].x; }\n\t\t\tif ( newVertices[i].y > meshGeometryBoundingBoxMaxy ) { meshGeometryBoundingBoxMaxy = newVertices[i].y; }\n\t\t\tif ( newVertices[i].y < meshGeometryBoundingBoxMiny ) { meshGeometryBoundingBoxMiny = newVertices[i].y; }\n\n\t\t}\n\n\t\tvar meshWidthold =  meshGeometryBoundingBoxMaxx - meshGeometryBoundingBoxMinx;\n\t\tvar meshDepth =  meshGeometryBoundingBoxMaxy - meshGeometryBoundingBoxMiny;\n\t\tvar ParamB = 2 * this._sinhInverse( Math.tan( this.angle ) ) / meshWidthold;\n\t\tvar oldMiddlex = (meshGeometryBoundingBoxMaxx + meshGeometryBoundingBoxMinx) / 2;\n\t\tvar oldMiddley = (meshGeometryBoundingBoxMaxy + meshGeometryBoundingBoxMiny) / 2;\n\n\t\tfor (var i = 0; i < geometry.vertices.length; i++ )  {\n\n\t\t\toldVertices[i] = new THREE.Vector3(); oldVertices[i].copy( newVertices[i] );\n\t\t\tnewVertices[i].x = this._sign( newVertices[i].x - oldMiddlex ) * 1 / ParamB * this._sinhInverse( ( newVertices[i].x - oldMiddlex ) * ParamB );\n\n\t\t}\n\n\t\tvar meshWidth = 2 / ParamB * this._sinhInverse( meshWidthold / 2 * ParamB );\n\n\t\tvar NewParamB = 2 * this._sinhInverse( Math.tan( this.angle ) ) / meshWidth;\n\n\t\tvar rightEdgePos = new THREE.Vector3( meshWidth / 2, -meshDepth / 2, 0 );\n\t\trightEdgePos.y = 1 / NewParamB * this._cosh( NewParamB * rightEdgePos.x ) - 1 / NewParamB - meshDepth / 2;\n\n\t\tvar bendCenter = new THREE.Vector3( 0, rightEdgePos.y  + rightEdgePos.x / Math.tan( this.angle ), 0 );\n\n\t\tfor ( var i = 0; i < geometry.vertices.length; i++ )  {\n\n\t\t\tvar x0 = this._sign( oldVertices[i].x - oldMiddlex ) * 1 / ParamB * this._sinhInverse( ( oldVertices[i].x - oldMiddlex ) * ParamB );\n\t\t\tvar y0 = 1 / NewParamB * this._cosh( NewParamB * x0 ) - 1 / NewParamB;\n\n\t\t\tvar k = new THREE.Vector3( bendCenter.x - x0, bendCenter.y - ( y0 - meshDepth / 2 ), bendCenter.z ).normalize();\n\n\t\t\tvar Q = new THREE.Vector3();\n\t\t\tQ.addVectors( new THREE.Vector3( x0, y0 - meshDepth / 2, oldVertices[i].z ), k.multiplyScalar( oldVertices[i].y + meshDepth / 2 ) );\n\t\t\tnewVertices[i].x = Q.x;  newVertices[i].y = Q.y;\n\n\t\t}\t\n\n\t\tvar middle = oldMiddlex * meshWidth / meshWidthold;\n\n\t\tfor ( var i = 0; i < geometry.vertices.length; i++ )  {\n\n\t\t\tvar O = new THREE.Vector3( oldMiddlex, oldMiddley, oldVertices[i].z );\n\t\t\tvar p = new THREE.Vector3(); p.subVectors( oldVertices[i], O );\n\t\t\tvar q = new THREE.Vector3(); q.subVectors( newVertices[i], O );\n\n\t\t\tanglesBetweenOldandNewVertices[i] = Math.acos( 1 / this._cosh( ParamB * newVertices[i].x ) )  * this._sign( newVertices[i].x );\n\n\t\t\tnewVertices[i].x = newVertices[i].x + middle;\n\t\t\tgeometry.vertices[i].copy( newVertices[i].applyMatrix4( P ) );\n\n\t\t}\n\n\t\tgeometry.computeFaceNormals();\n\t\tgeometry.verticesNeedUpdate = true;\n\t\tgeometry.normalsNeedUpdate = true;\n\n\t\t// compute Vertex Normals\n\t\tvar fvNames = [ 'a', 'b', 'c', 'd' ];\n\n\t\tfor ( var f = 0, fl = geometry.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = geometry.faces[ f ];\n\t\t\tif ( face.vertexNormals === undefined ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor ( var v = 0, vl = face.vertexNormals.length; v < vl; v ++ ) {\n\n\t\t\t\tvar angle = anglesBetweenOldandNewVertices[ face[ fvNames[ v ] ] ];\n\t\t\t\tvar x = this.axis.x,\n\t\t\t\t\ty = this.axis.y,\n\t\t\t\t\tz = this.axis.z;\n\n\t\t\t\tvar rotateMatrix = new THREE.Matrix3();\n\t\t\t\trotateMatrix.set ( Math.cos(angle) + (1-Math.cos(angle))*x*x, (1-Math.cos(angle))*x*y - Math.sin(angle)*z, (1-Math.cos(angle))*x*z + Math.sin(angle)*y,\n\t\t\t\t\t\t\t\t(1-Math.cos(angle))*y*x + Math.sin(angle)*z, Math.cos(angle) + (1-Math.cos(angle))*y*y, (1-Math.cos(angle))*y*z - Math.sin(angle)*x,\n\t\t\t\t\t\t\t\t(1-Math.cos(angle))*z*x - Math.sin(angle)*y, (1-Math.cos(angle))*z*y + Math.sin(angle)*x, Math.cos(angle) + (1-Math.cos(angle))*z*z );\n\n\t\t\t\tface.vertexNormals[ v ].applyMatrix3( rotateMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t// end compute Vertex Normals\t\t\t\n\n\t\treturn this\t\t\t\n    }\t\n};/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.CardboardEffect = function ( renderer ) {\n\n\tvar _camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\tvar _scene = new THREE.Scene();\n\n\tvar _stereo = new THREE.StereoCamera();\n\t_stereo.aspect = 0.5;\n\n\tvar _params = { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBAFormat };\n\n\tvar _renderTarget = new THREE.WebGLRenderTarget( 512, 512, _params );\n\t_renderTarget.scissorTest = true;\n\t_renderTarget.texture.generateMipmaps = false;\n\n\t// Distortion Mesh ported from:\n\t// https://github.com/borismus/webvr-boilerplate/blob/master/src/distortion/barrel-distortion-fragment.js\n\n\tvar distortion = new THREE.Vector2( 0.441, 0.156 );\n\n\tvar geometry = new THREE.PlaneBufferGeometry( 1, 1, 10, 20 ).removeAttribute( 'normal' ).toNonIndexed();\n\n\tvar positions = geometry.attributes.position.array;\n\tvar uvs = geometry.attributes.uv.array;\n\n\t// duplicate\n\tgeometry.attributes.position.count *= 2;\n\tgeometry.attributes.uv.count *= 2;\n\n\tvar positions2 = new Float32Array( positions.length * 2 );\n\tpositions2.set( positions );\n\tpositions2.set( positions, positions.length );\n\n\tvar uvs2 = new Float32Array( uvs.length * 2 );\n\tuvs2.set( uvs );\n\tuvs2.set( uvs, uvs.length );\n\n\tvar vector = new THREE.Vector2();\n\tvar length = positions.length / 3;\n\n\tfor ( var i = 0, l = positions2.length / 3; i < l; i ++ ) {\n\n\t\tvector.x = positions2[ i * 3 + 0 ];\n\t\tvector.y = positions2[ i * 3 + 1 ];\n\n\t\tvar dot = vector.dot( vector );\n\t\tvar scalar = 1.5 + ( distortion.x + distortion.y * dot ) * dot;\n\n\t\tvar offset = i < length ? 0 : 1;\n\n\t\tpositions2[ i * 3 + 0 ] = ( vector.x / scalar ) * 1.5 - 0.5 + offset;\n\t\tpositions2[ i * 3 + 1 ] = ( vector.y / scalar ) * 3.0;\n\n\t\tuvs2[ i * 2 ] = ( uvs2[ i * 2 ] + offset ) * 0.5;\n\n\t}\n\n\tgeometry.attributes.position.array = positions2;\n\tgeometry.attributes.uv.array = uvs2;\n\n\t//\n\n\t// var material = new THREE.MeshBasicMaterial( { wireframe: true } );\n\tvar material = new THREE.MeshBasicMaterial( { map: _renderTarget.texture } );\n\tvar mesh = new THREE.Mesh( geometry, material );\n\t_scene.add( mesh );\n\n\t//\n\n\tthis.setSize = function ( width, height ) {\n\n\t\trenderer.setSize( width, height );\n\n\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\t_renderTarget.setSize( width * pixelRatio, height * pixelRatio );\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t_stereo.update( camera );\n\n\t\tvar width = _renderTarget.width / 2;\n\t\tvar height = _renderTarget.height;\n\n\t\t_renderTarget.scissor.set( 0, 0, width, height );\n\t\t_renderTarget.viewport.set( 0, 0, width, height );\n\t\trenderer.render( scene, _stereo.cameraL, _renderTarget );\n\n\t\t_renderTarget.scissor.set( width, 0, width, height );\n\t\t_renderTarget.viewport.set( width, 0, width, height );\n\t\trenderer.render( scene, _stereo.cameraR, _renderTarget );\n\n\t\trenderer.render( _scene, _camera );\n\n\t};\n\n};;/**\n * @author alteredq / http://alteredqualia.com/\n * @authod mrdoob / http://mrdoob.com/\n * @authod arodic / http://aleksandarrodic.com/\n * @authod fonserbc / http://fonserbc.github.io/\n*/\n\nTHREE.StereoEffect = function ( renderer ) {\n\n\tvar _stereo = new THREE.StereoCamera();\n\t_stereo.aspect = 0.5;\n\n\tthis.setEyeSeparation = function ( eyeSep ) {\n\n\t\t_stereo.eyeSep = eyeSep;\n\n\t};\n\n\tthis.setSize = function ( width, height ) {\n\n\t\trenderer.setSize( width, height );\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t_stereo.update( camera );\n\n\t\tvar size = renderer.getSize();\n\n\t\tif ( renderer.autoClear ) renderer.clear();\n\t\trenderer.setScissorTest( true );\n\n\t\trenderer.setScissor( 0, 0, size.width / 2, size.height );\n\t\trenderer.setViewport( 0, 0, size.width / 2, size.height );\n\t\trenderer.render( scene, _stereo.cameraL );\n\n\t\trenderer.setScissor( size.width / 2, 0, size.width / 2, size.height );\n\t\trenderer.setViewport( size.width / 2, 0, size.width / 2, size.height );\n\t\trenderer.render( scene, _stereo.cameraR );\n\n\t\trenderer.setScissorTest( false );\n\n\t};\n\n};\n;var GSVPANO = GSVPANO || {};\nGSVPANO.PanoLoader = function (parameters) {\n\n\t'use strict';\n\n\tvar _parameters = parameters || {},\n\t\t_location,\n\t\t_zoom,\n\t\t_panoId,\n\t\t_panoClient = new google.maps.StreetViewService(),\n\t\t_count = 0,\n\t\t_total = 0,\n\t\t_canvas = [],\n\t\t_ctx = [],\n\t\t_wc = 0,\n\t\t_hc = 0,\n\t\tresult = null,\n\t\trotation = 0,\n\t\tcopyright = '',\n\t\tonSizeChange = null,\n\t\tonPanoramaLoad = null;\n\n\tvar levelsW = [ 1, 2, 4, 7, 13, 26 ],\n\t\tlevelsH = [ 1, 1, 2, 4, 7, 13 ];\n\n\tvar widths = [ 416, 832, 1664, 3328, 6656, 13312 ],\n\t\theights = [ 416, 416, 832, 1664, 3328, 6656 ];\n\n\tvar gl = null;\n\ttry{\n\t\tvar canvas = document.createElement( 'canvas' );\n\t    gl = canvas.getContext('experimental-webgl');\n\t    if(gl == null){\n\t        gl = canvas.getContext('webgl');\n\t    }\n\t}\n\tcatch(error){}\n\n\tvar maxW = 1024,\n\t\tmaxH = 1024;\n\n\tif( gl ) {\n\t\tvar maxTexSize = Math.max( gl.getParameter(gl.MAX_TEXTURE_SIZE), 6656 );\n\t\t//alert( 'MAX_TEXTURE_SIZE ' + maxTexSize );\n\t\tmaxW = maxH = maxTexSize;\n\t}\n\t\t\n\tthis.setProgress = function (loaded, total) {\n\t\n\t\tif (this.onProgress) {\n\t\t\tthis.onProgress({loaded: loaded, total: total});\n\t\t}\n\t\t\n\t};\n\n\tthis.throwError = function (message) {\n\t\n\t\tif (this.onError) {\n\t\t\tthis.onError(message);\n\t\t} else {\n\t\t\tconsole.error(message);\n\t\t}\n\t\t\n\t};\n\n\tthis.adaptTextureToZoom = function () {\n\t\n\t\tvar w = levelsW[ _zoom ] * 416,\n\t\t\th = levelsH[ _zoom ] * 416;\n\n\t\tw = widths [ _zoom ];\n\t\th = heights[ _zoom ];\n\n\t\t_wc = Math.ceil( w / maxW );\n\t\t_hc = Math.ceil( h / maxH );\n\n\t\t_canvas = []; _ctx = [];\n\n\t\tvar ptr = 0;\n\t\tfor( var y = 0; y < _hc; y++ ) {\n\t\t\tfor( var x = 0; x < _wc; x++ ) {\n\t\t\t\tvar c = document.createElement('canvas');\n\t\t\t\tif( x < ( _wc - 1 ) ) c.width = maxW; else c.width = w - ( maxW * x );\n\t\t\t\tif( y < ( _hc - 1 ) ) c.height = maxH; else c.height = h - ( maxH * y );\n\t\t\t\t_canvas.push( c );\n\t\t\t\t_ctx.push( c.getContext('2d') );\n\t\t\t\tptr++;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tthis.composeFromTile = function (x, y, texture) {\n\t\n\t\tx *= 512;\n\t\ty *= 512;\n\t\tvar px = Math.floor( x / maxW ), py = Math.floor( y / maxH );\n\n\t\tx -= px * maxW;\n\t\ty -= py * maxH;\n\n\t\t_ctx[ py * _wc + px ].drawImage(texture, 0, 0, texture.width, texture.height, x, y, 512, 512 );\n\t\tthis.progress();\n\t\t\n\t}; \n\n\tthis.progress = function() {\n\n\t\t_count++;\n\t\t\n\t\tvar p = Math.round(_count * 100 / _total);\n\t\tthis.setProgress(_count, _total);\n\t\t\n\t\tif (_count === _total) {\n\t\t\tthis.canvas = _canvas;\n\t\t\tthis.panoId = _panoId;\n\t\t\tthis.zoom = _zoom;\n\t\t\tif (this.onPanoramaLoad) {\n\t\t\t\tthis.onPanoramaLoad(_canvas[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.loadFromId = function( id ) {\n\n\t\t_panoId = id;\n\t\tthis.composePanorama();\n\n\t};\n\n\tthis.composePanorama = function () {\n\t\n\t\tthis.setProgress(0, 1);\n\t\t\n\t\tvar w = levelsW[ _zoom ],\n\t\t\th = levelsH[ _zoom ],\n\t\t\tself = this,\n\t\t\turl,\n\t\t\tx,\n\t\t\ty;\n\t\t\t\n\t\t_count = 0;\n\t\t_total = w * h;\n\n\t\tvar self = this;\n\t\tfor( var y = 0; y < h; y++ ) {\n\t\t\tfor( var x = 0; x < w; x++ ) {\n\t\t\t\tvar url = 'https://geo0.ggpht.com/cbk?cb_client=maps_sv.tactile&authuser=0&hl=en&output=tile&zoom=' + _zoom + '&x=' + x + '&y=' + y + '&panoid=' + _panoId + '&nbt&fover=2';\n\t\t\t\t( function( x, y ) { \n\t\t\t\t\tif( _parameters.useWebGL ) {\n\t\t\t\t\t\tvar texture = THREE.ImageUtils.loadTexture( url, null, function() {\n\t\t\t\t\t\t\tself.composeFromTile( x, y, texture );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.addEventListener( 'load', function() {\n\t\t\t\t\t\t\tself.composeFromTile( x, y, this );\t\t\t\n\t\t\t\t\t\t} );\n\t\t\t\t\t\timg.crossOrigin = '';\n\t\t\t\t\t\timg.src = url;\n\t\t\t\t\t}\n\t\t\t\t} )( x, y );\n\t\t\t}\n\t\t}\n\t\t\n\t};\n\t\n\tthis.load = function ( panoid ) {\n\t\n\t\tthis.loadPano( panoid );\n\n\t};\n\n\tthis.loadPano = function( id ) {\n\n\t\tvar self = this;\n\t\t_panoClient.getPanoramaById( id, function (result, status) {\n\t\t\tif (status === google.maps.StreetViewStatus.OK) {\n\t\t\t\tself.result = result;\n\t\t\t\tif( self.onPanoramaData ) self.onPanoramaData( result );\n\t\t\t\t//var h = google.maps.geometry.spherical.computeHeading(location, result.location.latLng);\n\t\t\t\t//rotation = (result.tiles.centerHeading - h) * Math.PI / 180.0;\n\t\t\t\tcopyright = result.copyright;\n\t\t\t\tself.copyright = result.copyright;\n\t\t\t\t_panoId = result.location.pano;\n\t\t\t\tself.location = location;\n\t\t\t\tself.composePanorama();\n\t\t\t} else {\n\t\t\t\tif( self.onNoPanoramaData ) self.onNoPanoramaData( status );\n\t\t\t\tself.throwError('Could not retrieve panorama for the following reason: ' + status);\n\t\t\t}\n\t\t});\n\t\t\n\t};\n\t\n\tthis.setZoom = function( z ) {\n\t\t_zoom = z;\n\t\tthis.adaptTextureToZoom();\n\t};\n\n\tthis.setZoom( _parameters.zoom || 1 );\n\n};;(function(){\n\n    'use strict';\n\n    /**\n     * Data Image Source\n     * @type {String}\n     */\n    PANOLENS.DataImageSource = 'https://pchen66.github.io/Panolens/asset/icon/';\n\n    /**\n     * Data Image\n     * @memberOf PANOLENS\n     * @enum {string}\n     */\n    PANOLENS.DataImage = {\n        Info:               PANOLENS.DataImageSource + 'information.png',\n        Arrow:              PANOLENS.DataImageSource + 'arrow-up.png',\n        FullscreenEnter:    PANOLENS.DataImageSource + 'fullscreen.png',\n        FullscreenLeave:    PANOLENS.DataImageSource + 'fullscreen-exit.png',\n        VideoPlay:          PANOLENS.DataImageSource + 'video-play.png',\n        VideoPause:         PANOLENS.DataImageSource + 'pause.png',\n        WhiteTile:          PANOLENS.DataImageSource + 'tiles.png',\n        ReticleIdle:        PANOLENS.DataImageSource + 'reticle-idle.png',\n        Setting:            PANOLENS.DataImageSource + 'setting.png',\n        ChevronRight:       PANOLENS.DataImageSource + 'chevron-right.png',\n        Check:              PANOLENS.DataImageSource + 'check.png',\n        ViewIndicator:      PANOLENS.DataImageSource + 'view-indicator.svg',\n        ReticleDwell:       PANOLENS.DataImageSource + 'reticle-animation.png'\n    };\n\n})();;(function(){\n\n\t'use strict';\n\t\n\t/**\n\t * Control Index Enum\n\t * @memberOf PANOLENS\n\t * @enum {number}\n\t */\n\t\n\tPANOLENS.Controls = {\n\n\t\tORBIT: 0,\n\n\t\tDEVICEORIENTATION: 1\n\n\t};\n\n\t/**\n\t * Effect Mode Enum\n\t * @memberOf PANOLENS\n\t * @enum {number}\n\t */\n\tPANOLENS.Modes = {\n\n\t\t/** Unknown */\n\t\tUNKNOWN: 0,\n\n\t\t/** Normal */\n\t\tNORMAL: 1,\n\n\t\t/** Google Cardboard*/\n\t\tCARDBOARD: 2,\n\n\t\t/** Stereoscopic **/\n\t\tSTEREO: 3\n\n\t};\n\n})();;(function(){\n\t\n\t'use strict';\n\n\t/**\n\t * Utility\n\t * @namespace PANOLENS.Utils\n\t * @memberOf PANOLENS\n\t * @type {object}\n\t */\n\tPANOLENS.Utils = {};\n\n\tPANOLENS.Utils.checkTouchSupported = function () {\n\n\t\treturn window ? 'ontouchstart' in window || window.navigator.msMaxTouchPoints : false;\n\n\t};\n\n})();;(function(){\n\t\n\t'use strict';\n\n\t/**\n\t * Image loader with progress based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/ImageLoader.js}\n\t * @memberOf PANOLENS.Utils\n\t * @namespace\n\t */\n\tPANOLENS.Utils.ImageLoader = {};\n\n\t/**\n\t * Load an image with XMLHttpRequest to provide progress checking\n\t * @param  {string}   url        - An image url\n\t * @param  {function} onLoad     - On load callback\n\t * @param  {function} onProgress - In progress callback\n\t * @param  {function} onError    - On error callback\n\t * @return {HTMLImageElement}    - DOM image element\n\t */\n\n\tPANOLENS.Utils.ImageLoader.load = function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar cached, request, arrayBufferView, blob, urlCreator, image, reference;\n\n\t\t// Reference key\n\t\tfor ( var iconName in PANOLENS.DataImage ) {\n\n\t\t\tif ( PANOLENS.DataImage.hasOwnProperty( iconName ) \n\t\t\t\t&& url === PANOLENS.DataImage[ iconName ] ) {\n\n\t\t\t\treference = iconName;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Cached\n\t\tcached = THREE.Cache.get( reference ? reference : url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tif ( onLoad ) {\n\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onProgress ) {\n\n\t\t\t\t\t\tonProgress( { loaded: 1, total: 1 } );\n\n\t\t\t\t\t} \n\t\t\t\t\t\n\t\t\t\t\tonLoad( cached );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t\treturn cached;\n\n\t\t}\n\t\t\n\t\t// Construct a new XMLHttpRequest\n\t\turlCreator = window.URL || window.webkitURL;\n\t\timage = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\t// Add to cache\n\t\tTHREE.Cache.add( reference ? reference : url, image );\n\n\t\tfunction onImageLoaded () {\n\n\t\t\turlCreator.revokeObjectURL( image.src );\n\t\t\tonLoad && onLoad( image );\n\n\t\t}\n\n\t\tif ( url.indexOf( 'data:' ) === 0 ) {\n\n\t\t\timage.addEventListener( 'load', onImageLoaded, false );\n\t\t\timage.src = url;\n\t\t\treturn image;\n\t\t}\n\n\t\timage.crossOrigin = this.crossOrigin !== undefined ? this.crossOrigin : '';\n\n\t\trequest = new XMLHttpRequest();\n\t\trequest.open( 'GET', url, true );\n\t\trequest.responseType = 'arraybuffer';\n\t\trequest.onprogress = function ( event ) {\n\n\t\t    if ( event.lengthComputable ) {\n\n\t\t      onProgress && onProgress( { loaded: event.loaded, total: event.total } );\n\n\t\t    }\n\n\t\t};\n\t\trequest.onloadend = function( event ) {\n\n\t\t    arrayBufferView = new Uint8Array( this.response );\n\t\t    blob = new Blob( [ arrayBufferView ] );\n\t\t    \n\t\t    image.addEventListener( 'load', onImageLoaded, false );\n\t\t\timage.src = urlCreator.createObjectURL( blob );\n\n\t\t};\n\n\t\trequest.send(null);\n\n\t};\n\n\t// Enable cache\n\tTHREE.Cache.enabled = true;\n\n})();;(function(){\n\t\n\t'use strict';\n\n\t/**\n\t * Texture loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/TextureLoader.js}\n\t * @memberOf PANOLENS.Utils\n\t * @namespace\n\t */\n\tPANOLENS.Utils.TextureLoader = {};\n\n\t/**\n\t * Load image texture\n\t * @param  {string}   url        - An image url\n\t * @param  {function} onLoad     - On load callback\n\t * @param  {function} onProgress - In progress callback\n\t * @param  {function} onError    - On error callback\n\t * @return {THREE.Texture}   \t - Image texture\n\t */\n\tPANOLENS.Utils.TextureLoader.load = function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new THREE.Texture(); \n\n\t\tPANOLENS.Utils.ImageLoader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tonLoad && onLoad( texture );\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t};\n\n})();;(function(){\n\t\n\t'use strict';\n\n\t/**\n\t * Cube Texture Loader based on {@link https://github.com/mrdoob/three.js/blob/master/src/loaders/CubeTextureLoader.js}\n\t * @memberOf PANOLENS.Utils\n\t * @namespace\n\t */\n\tPANOLENS.Utils.CubeTextureLoader = {};\n\n\t/**\n\t * Load 6 images as a cube texture\n\t * @param  {array}   urls        - Array with 6 image urls\n\t * @param  {function} onLoad     - On load callback\n\t * @param  {function} onProgress - In progress callback\n\t * @param  {function} onError    - On error callback\n\t * @return {THREE.CubeTexture}   - Cube texture\n\t */\n\tPANOLENS.Utils.CubeTextureLoader.load = function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture, loaded, progress, all, loadings;\n\n\t\ttexture = new THREE.CubeTexture( [] );\n\n\t\tloaded = 0;\n\t\tprogress = {};\n\t\tall = {};\n\n\t\turls.map( function ( url, index ) {\n\n\t\t\tPANOLENS.Utils.ImageLoader.load( url, function ( image ) {\n\n\t\t\t\ttexture.images[ index ] = image;\n\n\t\t\t\tloaded++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tonLoad && onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, function ( event ) {\n\n\t\t\t\tprogress[ index ] = { loaded: event.loaded, total: event.total };\n\n\t\t\t\tall.loaded = 0;\n\t\t\t\tall.total = 0;\n\t\t\t\tloadings = 0;\n\n\t\t\t\tfor ( var i in progress ) {\n\n\t\t\t\t\tloadings++;\n\t\t\t\t\tall.loaded += progress[ i ].loaded;\n\t\t\t\t\tall.total += progress[ i ].total;\n\n\t\t\t\t}\n\n\t\t\t\tif ( loadings < 6 ) {\n\n\t\t\t\t\tall.total = all.total / loadings * 6;\n\n\t\t\t\t}\n\n\t\t\t\tonProgress && onProgress( all );\n\n\t\t\t}, onError );\n\n\t\t} );\n\n\t\treturn texture;\n\n\t};\n\n})();;/**\n * Stereographic projection shader\n * based on http://notlion.github.io/streetview-stereographic\n * @author pchen66\n */\n\nPANOLENS.StereographicShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\":   { value: new THREE.Texture() },\n\t\t\"resolution\": { value: 1.0 },\n\t\t\"transform\":  { value: new THREE.Matrix4() },\n\t\t\"zoom\": \t  { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vUv = uv;\",\n\t\t\t\"gl_Position = vec4( position, 1.0 );\",\n\n\t\t\"}\" \n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\"uniform float resolution;\",\n\t\t\"uniform mat4 transform;\",\n\t\t\"uniform float zoom;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"const float PI = 3.141592653589793;\",\n\n\t\t\"void main(){\",\n\n\t\t\t\"vec2 position = -1.0 +  2.0 * vUv;\",\n\n\t\t\t\"position *= vec2( zoom * resolution, zoom * 0.5 );\",\n\n\t\t\t\"float x2y2 = position.x * position.x + position.y * position.y;\",\n\t\t\t\"vec3 sphere_pnt = vec3( 2. * position, x2y2 - 1. ) / ( x2y2 + 1. );\",\n\n\t\t\t\"sphere_pnt = vec3( transform * vec4( sphere_pnt, 1.0 ) );\",\n\n\t\t\t\"vec2 sampleUV = vec2(\",\n\t\t\t\t\"(atan(sphere_pnt.y, sphere_pnt.x) / PI + 1.0) * 0.5,\",\n\t\t\t\t\"(asin(sphere_pnt.z) / PI + 0.5)\",\n\t\t\t\");\",\n\n\t\t\t\"gl_FragColor = texture2D( tDiffuse, sampleUV );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};;( function () {\n\n\t'use strict';\n\n\t/**\n\t * Skeleton panorama derived from THREE.Mesh\n\t * @constructor\n\t * @param {THREE.Geometry} geometry - The geometry for this panorama\n\t * @param {THREE.Material} material - The material for this panorama\n\t */\n\tPANOLENS.Panorama = function ( geometry, material ) {\n\n\t\tTHREE.Mesh.call( this );\n\n\t\tthis.type = 'panorama';\n\n\t\tthis.ImageQualityLow = 1;\n\t\tthis.ImageQualityFair = 2;\n\t\tthis.ImageQualityMedium = 3;\n\t\tthis.ImageQualityHigh = 4;\n\t\tthis.ImageQualitySuperHigh = 5;\n\n\t\tthis.animationDuration = 1000;\n\n\t\tthis.defaultInfospotSize = 350;\n\n\t\tthis.container = undefined;\n\n\t\tthis.loaded = false;\n\n\t\tthis.linkedSpots = [];\n\n\t\tthis.isInfospotVisible = false;\n\t\t\n\t\tthis.linkingImageURL = undefined;\n\t\tthis.linkingImageScale = undefined;\n\n\t\tthis.geometry = geometry;\n\n\t\tthis.material = material;\n\t\tthis.material.side = THREE.DoubleSide;\n\t\tthis.material.visible = false;\n\n\t\tthis.scale.x *= -1;\n\n\t\tthis.infospotAnimation = new TWEEN.Tween( this ).to( {}, this.animationDuration / 2 );\n\n\t\tthis.addEventListener( 'load', this.fadeIn.bind( this ) );\n\t\tthis.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n\t\tthis.addEventListener( 'click', this.onClick.bind( this ) );\n\n\t\tthis.setupTransitions();\n\n\t}\n\n\tPANOLENS.Panorama.prototype = Object.create( THREE.Mesh.prototype );\n\n\tPANOLENS.Panorama.prototype.constructor = PANOLENS.Panorama;\n\n\t/**\n\t * Adding an object\n\t * To counter the scale.x = -1, it will automatically add an \n\t * empty object with inverted scale on x\n\t * @param {THREE.Object3D} object - The object to be added\n\t */\n\tPANOLENS.Panorama.prototype.add = function ( object ) {\n\n\t\tvar scope, invertedObject;\n\n\t\tscope = this;\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// In case of infospots\n\t\tif ( object instanceof PANOLENS.Infospot ) {\n\n\t\t\tinvertedObject = object;\n\n\t\t\tif ( object.dispatchEvent ) {\n\n\t\t\t\tthis.container && object.dispatchEvent( { type: 'panolens-container', container: this.container } );\n\t\t\t\t\n\t\t\t\tobject.dispatchEvent( { type: 'panolens-infospot-focus', method: function ( vector, duration, easing ) {\n\n\t\t\t\t\t/**\n\t\t        \t * Infospot focus handler event\n\t\t        \t * @type {object}\n\t\t        \t * @event PANOLENS.Panorama#panolens-viewer-handler\n\t\t        \t * @property {string} method - Viewer function name\n\t\t        \t * @property {*} data - The argument to be passed into the method\n\t\t        \t */\n\t\t        \tscope.dispatchEvent( { type : 'panolens-viewer-handler', method: 'tweenControlCenter', data: [ vector, duration, easing ] } );\n\n\n\t\t\t\t} } );\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Counter scale.x = -1 effect\n\t\t\tinvertedObject = new THREE.Object3D();\n\t\t\tinvertedObject.scale.x = -1;\n\t\t\tinvertedObject.scalePlaceHolder = true;\n\t\t\tinvertedObject.add( object );\n\n\t\t}\n\n\t\tTHREE.Object3D.prototype.add.call( this, invertedObject );\n\n\t};\n\n\tPANOLENS.Panorama.prototype.load = function () {\n\n\t\tthis.onLoad();\n\t\t\n\t};\n\n\t/**\n\t * Click event handler\n\t * @param  {object} event - Click event\n\t * @fires PANOLENS.Infospot#dismiss\n\t */\n\tPANOLENS.Panorama.prototype.onClick = function ( event ) {\n\n\t\tif ( event.intersects && event.intersects.length === 0 ) {\n\n\t\t\tthis.traverse( function ( object ) {\n\n\t\t\t\t/**\n\t\t\t\t * Dimiss event\n\t\t\t\t * @type {object}\n\t\t\t\t * @event PANOLENS.Infospot#dismiss\n\t\t\t\t */\n\t\t\t\tobject.dispatchEvent( { type: 'dismiss' } );\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set container of this panorama \n\t * @param {HTMLElement|object} data - Data with container information\n\t * @fires PANOLENS.Infospot#panolens-container\n\t */\n\tPANOLENS.Panorama.prototype.setContainer = function ( data ) {\n\n\t\tvar container;\n\n\t\tif ( data instanceof HTMLElement ) {\n\n\t\t\tcontainer = data;\n\n\t\t} else if ( data && data.container ) {\n\n\t\t\tcontainer = data.container;\n\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tthis.children.forEach( function ( child ) {\n\n\t\t\t\tif ( child instanceof PANOLENS.Infospot && child.dispatchEvent ) {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Set container event\n\t\t\t\t\t * @type {object}\n\t\t\t\t\t * @event PANOLENS.Infospot#panolens-container\n\t\t\t\t\t * @property {HTMLElement} container - The container of this panorama\n\t\t\t\t\t */\n\t\t\t\t\tchild.dispatchEvent( { type: 'panolens-container', container: container } );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tthis.container = container;\n\n\t\t}\n\t\t\n\n\t};\n\n\t/**\n\t * This will be called when panorama is loaded\n\t * @fires PANOLENS.Panorama#load\n\t */\n\tPANOLENS.Panorama.prototype.onLoad = function () {\n\n\t\tthis.loaded = true;\n\n\t\t/**\n\t\t * Load panorama event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Panorama#load\n\t\t */\n\t\tthis.dispatchEvent( { type: 'load' } );\n\n\t};\n\n\t/**\n\t * This will be called when panorama is in progress\n\t * @fires PANOLENS.Panorama#progress\n\t */\n\tPANOLENS.Panorama.prototype.onProgress = function ( progress ) {\n\n\t\t/**\n\t\t * Loading panorama progress event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Panorama#progress\n\t \t * @property {object} progress - The progress object containing loaded and total amount\n\t\t */\n\t\tthis.dispatchEvent( { type: 'progress', progress: progress } );\n\n\t};\n\n\t/**\n\t * This will be called when panorama loading has error\n\t * @fires PANOLENS.Panorama#error\n\t */\n\tPANOLENS.Panorama.prototype.onError = function () {\n\n\t\t/**\n\t\t * Loading panorama error event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Panorama#error\n\t\t */\n\t\tthis.dispatchEvent( { type: 'error' } );\n\n\t};\n\n\t/**\n\t * Get zoom level based on window width\n\t * @return {number} zoom level indicating image quality\n\t */\n\tPANOLENS.Panorama.prototype.getZoomLevel = function () {\n\n\t\tvar zoomLevel;\n\n\t\tif ( window.innerWidth <= 800 ) {\n\n\t\t\tzoomLevel = this.ImageQualityFair;\n\n\t\t} else if ( window.innerWidth > 800 &&  window.innerWidth <= 1280 ) {\n\n\t\t\tzoomLevel = this.ImageQualityMedium;\n\n\t\t} else if ( window.innerWidth > 1280 && window.innerWidth <= 1920 ) {\n\n\t\t\tzoomLevel = this.ImageQualityHigh;\n\n\t\t} else if ( window.innerWidth > 1920 ) {\n\n\t\t\tzoomLevel = this.ImageQualitySuperHigh;\n\n\t\t} else {\n\n\t\t\tzoomLevel = this.ImageQualityLow;\n\n\t\t}\n\n\t\treturn zoomLevel;\n\n\t};\n\n\t/**\n\t * Update texture of a panorama\n\t * @param {THREE.Texture} texture - Texture to be updated\n\t */\n\tPANOLENS.Panorama.prototype.updateTexture = function ( texture ) {\n\n\t\tthis.material.map = texture;\n\n\t\tthis.material.needsUpdate = true;\n\n\t};\n\n\t/**\n\t * Toggle visibility of infospots in this panorama\n\t * @param  {boolean} isVisible - Visibility of infospots\n\t * @param  {number} delay - Delay in milliseconds to change visibility\n\t * @fires PANOLENS.Panorama#infospot-animation-complete\n\t */\n\tPANOLENS.Panorama.prototype.toggleInfospotVisibility = function ( isVisible, delay ) {\n\n\t\tdelay = ( delay !== undefined ) ? delay : 0;\n\n\t\tvar scope, visible;\n\n\t\tscope = this;\n\t\tvisible = ( isVisible !== undefined ) ? isVisible : ( this.isInfospotVisible ? false : true );\n\n\t\tthis.traverse( function ( object ) {\n\n\t\t\tif ( object instanceof PANOLENS.Infospot ) {\n\n\t\t\t\tvisible ? object.show( delay ) : object.hide( delay );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis.isInfospotVisible = visible;\n\n\t\t// Animation complete event\n\t\tthis.infospotAnimation.onComplete( function () {\n\n\t\t\t/**\n\t\t\t * Complete toggling infospot visibility\n\t\t\t * @event PANOLENS.Panorama#infospot-animation-complete\n\t\t\t * @type {object} \n\t\t\t */\n\t\t\tscope.dispatchEvent( { type : 'infospot-animation-complete', visible: visible } );\n\n\t\t} ).delay( delay ).start();\n\n\t};\n\n\t/**\n\t * Set image of this panorama's linking infospot\n\t * @param {string} url   - Url to the image asset\n\t * @param {number} scale - Scale factor of the infospot\n\t */\n\tPANOLENS.Panorama.prototype.setLinkingImage = function ( url, scale ) {\n\n\t\tthis.linkingImageURL = url;\n\t\tthis.linkingImageScale = scale;\n\n\t};\n\n\t/**\n\t * Link one-way panorama\n\t * @param  {PANOLENS.Panorama} pano  - The panorama to be linked to\n\t * @param  {THREE.Vector3} position - The position of infospot which navigates to the pano\n\t * @param  {number} [imageScale=300] - Image scale of linked infospot\n\t * @param  {string} [imageSrc=PANOLENS.DataImage.Arrow] - The image source of linked infospot\n\t */\n\tPANOLENS.Panorama.prototype.link = function ( pano, position, imageScale, imageSrc ) {\n\n\t\tvar scope = this, spot, scale, img;\n\n\t\tthis.visible = true;\n\n\t\tif ( !position ) {\n\n\t\t\tconsole.warn( 'Please specify infospot position for linking' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Infospot scale\n\t\tif ( imageScale !== undefined ) {\n\n\t\t\tscale = imageScale;\n\n\t\t} else if ( pano.linkingImageScale !== undefined ) {\n\n\t\t\tscale = pano.linkingImageScale;\n\n\t\t} else {\n\n\t\t\tscale = 300;\n\n\t\t}\n\n\n\t\t// Infospot image\n\t\tif ( imageSrc ) {\n\n\t\t\timg = imageSrc\n\n\t\t} else if ( pano.linkingImageURL ) {\n\n\t\t\timg = pano.linkingImageURL;\n\n\t\t} else {\n\n\t\t\timg = PANOLENS.DataImage.Arrow;\n\n\t\t}\n\n\t\t// Creates a new infospot\n\t\tspot = new PANOLENS.Infospot( scale, img );\n        spot.position.copy( position );\n        spot.toPanorama = pano;\n        spot.addEventListener( 'click', function () {\n\n        \t/**\n        \t * Viewer handler event\n        \t * @type {object}\n        \t * @event PANOLENS.Panorama#panolens-viewer-handler\n        \t * @property {string} method - Viewer function name\n        \t * @property {*} data - The argument to be passed into the method\n        \t */\n        \tscope.dispatchEvent( { type : 'panolens-viewer-handler', method: 'setPanorama', data: pano } );\n\n        } );\n\n        this.linkedSpots.push( spot );\n\n        this.add( spot );\n\n        this.visible = false;\n\n\t};\n\n\tPANOLENS.Panorama.prototype.reset = function () {\n\n\t\tthis.children.length = 0;\t\n\n\t};\n\n\tPANOLENS.Panorama.prototype.setupTransitions = function () {\n\n\t\tthis.fadeInAnimation = new TWEEN.Tween( this.material )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out )\n\t\t\t.onStart( function () {\n\n\t\t\t\tthis.visible = true;\n\t\t\t\tthis.material.visible = true;\n\n\t\t\t\t/**\n\t\t\t\t * Enter panorama fade in start event\n\t\t\t\t * @event PANOLENS.Panorama#enter-fade-start\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'enter-fade-start' } );\n\n\t\t\t}.bind( this ) );\n\n\t\tthis.fadeOutAnimation = new TWEEN.Tween( this.material )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out )\n\t\t\t.onComplete( function () {\n\n\t\t\t\tthis.visible = false;\n\t\t\t\tthis.material.visible = true;\n\n\t\t\t\t/**\n\t\t\t\t * Leave panorama complete event\n\t\t\t\t * @event PANOLENS.Panorama#leave-complete\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'leave-complete' } );\n\n\t\t\t}.bind( this ) );\n\n\t\tthis.enterTransition = new TWEEN.Tween( this )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out )\n\t\t\t.onComplete( function () {\n\n\t\t\t\t/**\n\t\t\t\t * Enter panorama and animation complete event\n\t\t\t\t * @event PANOLENS.Panorama#enter-animation-complete\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'enter-animation-complete' } );\n\n\t\t\t}.bind ( this ) )\n\t\t\t.start();\n\n\t\tthis.leaveTransition = new TWEEN.Tween( this )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out );\n\n\t};\n\n\t/**\n\t * Start fading in animation\n\t * @fires PANOLENS.Panorama#enter-fade-complete\n\t */\n\tPANOLENS.Panorama.prototype.fadeIn = function ( duration ) {\n\n\t\tduration = duration >= 0 ? duration : this.animationDuration;\n\n\t\tthis.fadeOutAnimation.stop();\n\t\tthis.fadeInAnimation\n\t\t.to( { opacity: 1 }, duration )\n\t\t.onComplete( function () {\n\n\t\t\t\tthis.toggleInfospotVisibility( true, duration / 2 );\n\n\t\t\t\t/**\n\t\t\t\t * Enter panorama fade complete event\n\t\t\t\t * @event PANOLENS.Panorama#enter-fade-complete\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'enter-fade-complete' } );\t\t\t\n\n\t\t\t}.bind( this ) )\n\t\t.start();\n\n\t};\n\n\t/**\n\t * Start fading out animation\n\t */\n\tPANOLENS.Panorama.prototype.fadeOut = function ( duration ) {\n\n\t\tduration = duration >= 0 ? duration : this.animationDuration;\n\n\t\tthis.fadeInAnimation.stop();\n\t\tthis.fadeOutAnimation.to( { opacity: 0 }, duration ).start();\n\n\t};\n\n\t/**\n\t * This will be called when entering a panorama \n\t * @fires PANOLENS.Panorama#enter\n\t * @fires PANOLENS.Panorama#enter-animation-start\n\t */\n\tPANOLENS.Panorama.prototype.onEnter = function () {\n\n\t\tvar duration = this.animationDuration;\n\n\t\tthis.leaveTransition.stop();\n\t\tthis.enterTransition\n\t\t\t.to( {}, duration )\n\t\t\t.onStart( function () {\n\n\t\t\t\t/**\n\t\t\t\t * Enter panorama and animation starting event\n\t\t\t\t * @event PANOLENS.Panorama#enter-animation-start\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'enter-animation-start' } );\n\t\t\t\t\n\t\t\t\tif ( this.loaded ) {\n\n\t\t\t\t\tthis.fadeIn( duration );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.load();\n\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}.bind( this ) )\n\t\t\t.start();\n\n\t\t/**\n\t\t * Enter panorama event\n\t\t * @event PANOLENS.Panorama#enter\n\t\t * @type {object} \n\t\t */\n\t\tthis.dispatchEvent( { type: 'enter' } );\n\n\t};\n\n\t/**\n\t * This will be called when leaving a panorama\n\t * @fires PANOLENS.Panorama#leave\n\t */\n\tPANOLENS.Panorama.prototype.onLeave = function () {\n\n\t\tvar duration = this.animationDuration;\n\n\t\tthis.enterTransition.stop();\n\t\tthis.leaveTransition\n\t\t\t.to( {}, duration )\n\t\t\t.onStart( function () {\n\n\t\t\t\t/**\n\t\t\t\t * Leave panorama and animation starting event\n\t\t\t\t * @event PANOLENS.Panorama#leave-animation-start\n\t\t\t\t * @type {object} \n\t\t\t\t */\n\t\t\t\tthis.dispatchEvent( { type: 'leave-animation-start' } );\n\n\t\t\t\tthis.fadeOut( duration );\n\t\t\t\tthis.toggleInfospotVisibility( false );\n\n\t\t\t}.bind( this ) )\n\t\t\t.start();\n\n\t\t/**\n\t\t * Leave panorama event\n\t\t * @event PANOLENS.Panorama#leave\n\t\t * @type {object} \n\t\t */\n\t\tthis.dispatchEvent( { type: 'leave' } );\n\n\t};\n\n\t/**\n\t * Dispose panorama\n\t */\n\tPANOLENS.Panorama.prototype.dispose = function () {\n\n\t\t/**\n    \t * On panorama dispose handler\n    \t * @type {object}\n    \t * @event PANOLENS.Panorama#panolens-viewer-handler\n    \t * @property {string} method - Viewer function name\n    \t * @property {*} data - The argument to be passed into the method\n    \t */\n    \tthis.dispatchEvent( { type : 'panolens-viewer-handler', method: 'onPanoramaDispose', data: this } );\n\n\t\t// recursive disposal on 3d objects\n\t\tfunction recursiveDispose ( object ) {\n\n\t\t\tfor ( var i = object.children.length - 1; i >= 0; i-- ) {\n\n\t\t\t\trecursiveDispose( object.children[i] );\n\t\t\t\tobject.remove( object.children[i] );\n\n\t\t\t}\n\n\t\t\tif ( object instanceof PANOLENS.Infospot ) {\n\n\t\t\t\tobject.dispose();\n\n\t\t\t}\n\t\t\t\n\t\t\tobject.geometry && object.geometry.dispose();\n\t\t\tobject.material && object.material.dispose();\n\t\t}\n\n\t\trecursiveDispose( this );\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.remove( this );\n\n\t\t}\n\n\t};\n\n} )();;(function(){\n\t\n\t'use strict';\n\t\n\t/**\n\t * Equirectangular based image panorama\n\t * @constructor\n\t * @param {string} image - Image url or HTMLImageElement\n\t * @param {number} [radius=5000] - Radius of panorama\n\t */\n\tPANOLENS.ImagePanorama = function ( image, radius ) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new THREE.SphereGeometry( radius, 60, 40 ),\n\t\t\tmaterial = new THREE.MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n\t\tPANOLENS.Panorama.call( this, geometry, material );\n\n\t\tthis.src = image;\n\n\t}\n\n\tPANOLENS.ImagePanorama.prototype = Object.create( PANOLENS.Panorama.prototype );\n\n\tPANOLENS.ImagePanorama.prototype.constructor = PANOLENS.ImagePanorama;\n\n\t/**\n\t * Load image asset\n\t * @param  {*} src - Url or image element\n\t */\n\tPANOLENS.ImagePanorama.prototype.load = function ( src ) {\n\n\t\tsrc = src || this.src;\n\n\t\tif ( !src ) { \n\n\t\t\tconsole.warn( 'Image source undefined' );\n\n\t\t\treturn; \n\n\t\t} else if ( typeof src === 'string' ) {\n\n\t\t\tPANOLENS.Utils.TextureLoader.load( src, this.onLoad.bind( this ), this.onProgress.bind( this ), this.onError.bind( this ) );\n\n\t\t} else if ( src instanceof HTMLImageElement ) {\n\n\t\t\tthis.onLoad( new THREE.Texture( src ) );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * This will be called when image is loaded\n\t * @param  {THREE.Texture} texture - Texture to be updated\n\t */\n\tPANOLENS.ImagePanorama.prototype.onLoad = function ( texture ) {\n\n\t\ttexture.minFilter = texture.magFilter = THREE.LinearFilter;\n\n\t\ttexture.needsUpdate = true;\n\n\t\tthis.updateTexture( texture );\n\n\t\t// Call onLoad after second frame being painted\n\t\twindow.requestAnimationFrame(function(){\n\n\t\t\twindow.requestAnimationFrame(function(){\n\n\t\t\t\tPANOLENS.Panorama.prototype.onLoad.call( this );\n\t\t\t\t\n\n\t\t\t}.bind(this));\n\n\t\t}.bind(this));\n\n\t\t\n\n\t};\n\n\tPANOLENS.ImagePanorama.prototype.reset = function () {\n\n\t\tPANOLENS.Panorama.prototype.reset.call( this );\n\n\t};\n\n})();;(function(){\n\n\t'use strict';\n\t\n\t/**\n\t * Google streetview panorama\n\t * \n\t * [How to get Panorama ID]{@link http://stackoverflow.com/questions/29916149/google-maps-streetview-how-to-get-panorama-id}\n\t * @constructor\n\t * @param {string} panoId - Panorama id from Google Streetview \n\t * @param {number} [radius=5000] - The minimum radius for this panoram\n\t */\n\tPANOLENS.GoogleStreetviewPanorama = function ( panoId, radius ) {\n\n\t\tPANOLENS.ImagePanorama.call( this, undefined, radius );\n\n\t\tthis.panoId = panoId;\n\n\t\tthis.gsvLoader = undefined;\n\n\t\tthis.loadRequested = false;\n\n\t\tthis.setupGoogleMapAPI();\n\n\t}\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype = Object.create( PANOLENS.ImagePanorama.prototype );\n\n\tPANOLENS.GoogleStreetviewPanorama.constructor = PANOLENS.GoogleStreetviewPanorama;\n\n\t/**\n\t * Load Google Street View by panorama id\n\t * @param {string} panoId - Gogogle Street View panorama id\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.load = function ( panoId ) {\n\n\t\tthis.loadRequested = true;\n\n\t\tpanoId = ( panoId || this.panoId ) || {};\n\n\t\tif ( panoId && this.gsvLoader ) {\n\n\t\t\tthis.loadGSVLoader( panoId );\n\n\t\t} else {\n\n\t\t\tthis.gsvLoader = {};\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Setup Google Map API\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.setupGoogleMapAPI = function () {\n\n\t\tvar script = document.createElement( 'script' );\n\t\tscript.src = 'https://maps.googleapis.com/maps/api/js';\n\t\tscript.onreadystatechange = this.setGSVLoader.bind( this );\n    \tscript.onload = this.setGSVLoader.bind( this );\n\n\t\tdocument.getElementsByTagName('head')[0].appendChild( script );\n\n\t};\n\n\t/**\n\t * Set GSV Loader\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.setGSVLoader = function () {\n\n\t\tthis.gsvLoader = new GSVPANO.PanoLoader();\n\n\t\tif ( this.gsvLoader === {} || this.loadRequested ) {\n\n\t\t\tthis.load();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Get GSV Loader\n\t * @return {object} GSV Loader instance\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.getGSVLoader = function () {\n\n\t\treturn this.gsvLoader;\n\n\t};\n\n\t/**\n\t * Load GSV Loader\n\t * @param  {string} panoId - Gogogle Street View panorama id\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.loadGSVLoader = function ( panoId ) {\n\n\t\tthis.loadRequested = false;\n\n\t\tthis.gsvLoader.onProgress = this.onProgress.bind( this );\n\n\t\tthis.gsvLoader.onPanoramaLoad = this.onLoad.bind( this );\n\n\t\tthis.gsvLoader.setZoom( this.getZoomLevel() );\n\n\t\tthis.gsvLoader.load( panoId );\n\n\t\tthis.gsvLoader.loaded = true;\n\t};\n\n\t/**\n\t * This will be called when panorama is loaded\n\t * @param  {HTMLCanvasElement} canvas - Canvas where the tiles have been drawn\n\t */\n\tPANOLENS.GoogleStreetviewPanorama.prototype.onLoad = function ( canvas ) {\n\n\t\tif ( !this.gsvLoader ) { return; }\n\n\t\tPANOLENS.ImagePanorama.prototype.onLoad.call( this, new THREE.Texture( canvas ) );\n\n\t};\n\n\tPANOLENS.GoogleStreetviewPanorama.prototype.reset = function () {\n\n\t\tthis.gsvLoader = undefined;\n\n\t\tPANOLENS.ImagePanorama.prototype.reset.call( this );\n\n\t};\n\n})();;(function(){\n\t\n\t'use strict';\n\t\n\t/**\n\t * Cubemap-based panorama\n\t * @constructor\n\t * @param {array} images - An array of cubetexture containing six images\n\t * @param {number} [edgeLength=10000] - The length of cube's edge\n\t */\n\tPANOLENS.CubePanorama = function ( images, edgeLength ){\n\n\t\tvar shader, geometry, material;\n\n\t\tthis.images = images || [];\n\n\t\tedgeLength = edgeLength || 10000;\n\t\tshader = JSON.parse( JSON.stringify( THREE.ShaderLib[ 'cube' ] ) );\n\n\t\tgeometry = new THREE.BoxGeometry( edgeLength, edgeLength, edgeLength );\n\t\tmaterial = new THREE.ShaderMaterial( {\n\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tuniforms: shader.uniforms,\n\t\t\tside: THREE.BackSide\n\n\t\t} );\n\n\t\tPANOLENS.Panorama.call( this, geometry, material );\n\n\t}\n\n\tPANOLENS.CubePanorama.prototype = Object.create( PANOLENS.Panorama.prototype );\n\n\tPANOLENS.CubePanorama.prototype.constructor = PANOLENS.CubePanorama;\n\n\t/**\n\t * Load 6 images and bind listeners\n\t */\n\tPANOLENS.CubePanorama.prototype.load = function () {\n\n\t\tPANOLENS.Utils.CubeTextureLoader.load( \t\n\n\t\t\tthis.images, \n\n\t\t\tthis.onLoad.bind( this ), \n\t\t\tthis.onProgress.bind( this ), \n\t\t\tthis.onError.bind( this ) \n\n\t\t);\n\n\t};\n\n\t/**\n\t * This will be called when 6 textures are ready\n\t * @param  {THREE.CubeTexture} texture - Cube texture\n\t */\n\tPANOLENS.CubePanorama.prototype.onLoad = function ( texture ) {\n\t\t\n\t\tthis.material.uniforms[ 'tCube' ].value = texture;\n\n\t\tPANOLENS.Panorama.prototype.onLoad.call( this );\n\n\t};\n\n})();;(function(){\n\n\t'use strict';\n\n\t/**\n\t * Basic panorama with 6 faces tile images\n\t * @constructor\n\t * @param {number} [edgeLength=10000] - The length of cube's edge\n\t */\n\tPANOLENS.BasicPanorama = function ( edgeLength ) {\n\t\t\n\t\tvar tile = PANOLENS.DataImage.WhiteTile;\n\n\t\tPANOLENS.CubePanorama.call( this, [ tile, tile, tile, tile, tile, tile ], edgeLength );\n\n\t}\n\n\tPANOLENS.BasicPanorama.prototype = Object.create( PANOLENS.CubePanorama.prototype );\n\n\tPANOLENS.BasicPanorama.prototype.constructor = PANOLENS.BasicPanorama;\n\n})();;(function(){\n\n\t'use strict';\n\n\t/**\n\t * Video Panorama\n\t * @constructor\n\t * @param {string} src - Equirectangular video url\n\t * @param {object} [options] - Option for video settings\n\t * @param {HTMLElement} [options.videoElement] - HTML5 video element contains the video\n\t * @param {boolean} [options.loop=true] - Specify if the video should loop in the end\n\t * @param {boolean} [options.muted=false] - Mute the video or not\n\t * @param {boolean} [options.autoplay=false] - Specify if the video should auto play\n\t * @param {boolean} [options.playsinline=true] - Specify if video should play inline for iOS. If you want it to auto play inline, set both autoplay and muted options to true\n\t * @param {string} [options.crossOrigin=\"anonymous\"] - Sets the cross-origin attribute for the video, which allows for cross-origin videos in some browsers (Firefox, Chrome). Set to either \"anonymous\" or \"use-credentials\".\n\t * @param {number} [radius=5000] - The minimum radius for this panoram\n\t */\n\tPANOLENS.VideoPanorama = function ( src, options, radius ) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new THREE.SphereGeometry( radius, 60, 40 ),\n\t\t\tmaterial = new THREE.MeshBasicMaterial( { opacity: 0, transparent: true } );\n\n\t\tPANOLENS.Panorama.call( this, geometry, material );\n\n\t\tthis.src = src;\n\t\tthis.options = options || {};\n\t\tthis.options.playsinline = this.options.playsinline !== false ? true : false;\n\n\t\tthis.videoElement = undefined;\n\t\tthis.videoRenderObject = undefined;\n\t\tthis.videoProgress = 0;\n\n\t\tthis.isIOS = /iPhone|iPad|iPod/i.test( navigator.userAgent );\n\t\tthis.isMobile = this.isIOS || /Android|BlackBerry|Opera Mini|IEMobile/i.test( navigator.userAgent );\n\n\t\tthis.addEventListener( 'leave', this.pauseVideo.bind( this ) );\n\t\tthis.addEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n\t\tthis.addEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n\t\tthis.addEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n\t};\n\n\tPANOLENS.VideoPanorama.prototype = Object.create( PANOLENS.Panorama.prototype );\n\n\tPANOLENS.VideoPanorama.constructor = PANOLENS.VideoPanorama;\n\n\t/**\n\t * Load video panorama\n\t * @param  {string} src     - The video url\n\t * @param  {object} options - Option object containing videoElement\n\t * @fires  PANOLENS.Panorama#panolens-viewer-handler\n\t */\n\tPANOLENS.VideoPanorama.prototype.load = function ( src, options ) {\n\n\t\tvar scope = this;\n\n\t\tsrc = ( src || this.src ) || '';\n\t\toptions = ( options || this.options ) || {};\n\n\t\tthis.videoElement = options.videoElement || document.createElement( 'video' );\n\n\t\tthis.videoElement.muted = options.muted || false;\n\t\tthis.videoElement.loop = ( options.loop !== undefined ) ? options.loop : true;\n\t\tthis.videoElement.autoplay = ( options.autoplay !== undefined ) ? options.autoplay : false;\n\t\tthis.videoElement.crossOrigin = ( options.crossOrigin !== undefined ) ? options.crossOrigin : \"anonymous\";\n\t\t\n\t\t// iphone inline player\n\t\tif (options.playsinline) {\n\t\t\tthis.videoElement.setAttribute( \"playsinline\", \"\" );\n\t\t\tthis.videoElement.setAttribute( \"webkit-playsinline\", \"\" );\n\t\t} \n\n\t\tvar onloadeddata = function(){\n\n\t\t\tscope.onProgress( { loaded: 1, total: 1 } );\n\t\t\tscope.setVideoTexture( scope.videoElement );\n\n\t\t\tif ( scope.videoElement.autoplay ) {\n\n\t\t\t\t/**\n\t\t\t\t * Viewer handler event\n\t\t\t\t * @type {object}\n\t\t\t\t * @property {string} method - 'updateVideoPlayButton'\n\t\t\t\t * @property {boolean} data - Pause video or not\n\t\t\t\t */\n\t\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n\t\t\t}\n\n\t\t\t// For mobile silent autoplay\n\t\t\tif ( scope.isMobile ) {\n\n\t\t\t\tif ( scope.videoElement.autoplay && scope.videoElement.muted ) {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Viewer handler event\n\t\t\t\t\t * @type {object}\n\t\t\t\t\t * @property {string} method - 'updateVideoPlayButton'\n\t\t\t\t\t * @property {boolean} data - Pause video or not\n\t\t\t\t\t */\n\t\t\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Viewer handler event\n\t\t\t\t\t * @type {object}\n\t\t\t\t\t * @property {string} method - 'updateVideoPlayButton'\n\t\t\t\t\t * @property {boolean} data - Pause video or not\n\t\t\t\t\t */\n\t\t\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\n\t\t\tscope.onLoad();\n\t\t};\n\n\t\t/**\n\t\t * Ready state of the audio/video element\n\t\t * 0 = HAVE_NOTHING - no information whether or not the audio/video is ready\n\t\t * 1 = HAVE_METADATA - metadata for the audio/video is ready\n\t\t * 2 = HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond\n\t\t * 3 = HAVE_FUTURE_DATA - data for the current and at least the next frame is available\n\t\t * 4 = HAVE_ENOUGH_DATA - enough data available to start playing\n\t\t */\n\t\tif ( this.videoElement.readyState > 2 ) {\n\n\t\t\tonloadeddata();\n\n\t\t} else {\n\n\t\t\tif ( !this.videoElement.querySelectorAll('source').length || !this.videoElement.src ) {\n\n\t\t\t\tthis.videoElement.src =  src;\n\n\t\t\t}\n\n\t\t\tthis.videoElement.load();\n\t\t}\n\n\t\tthis.videoElement.onloadeddata = onloadeddata;\n\t\t\n\n\t\tthis.videoElement.ontimeupdate = function ( event ) {\n\n\t\t\tscope.videoProgress = this.duration >= 0 ? this.currentTime / this.duration : 0;\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'onVideoUpdate'\n\t\t\t * @property {number} data - The percentage of video progress. Range from 0.0 to 1.0\n\t\t\t */\n\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: scope.videoProgress } );\n\n\t\t};\n\n\t\tthis.videoElement.addEventListener( 'ended', function () {\n\t\t\t\n\t\t\tif ( !scope.options.loop ) {\n\n\t\t\t\tscope.resetVideo();\n\t\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n\t\t\t}\n\n\t\t}, false ); \n\n\t};\n\n\t/**\n\t * Set video texture\n\t * @param {HTMLVideoElement} video  - The html5 video element\n\t * @fires PANOLENS.Panorama#panolens-viewer-handler\n\t */\n\tPANOLENS.VideoPanorama.prototype.setVideoTexture = function ( video ) {\n\n\t\tvar videoTexture, videoRenderObject, scene;\n\n\t\tif ( !video ) return;\n\n\t\tvideoTexture = new THREE.VideoTexture( video );\n\t\tvideoTexture.minFilter = THREE.LinearFilter;\n\t\tvideoTexture.magFilter = THREE.LinearFilter;\n\t\tvideoTexture.format = THREE.RGBFormat;\n\n\t\tvideoRenderObject = {\n\n\t\t\tvideo : video,\n\t\t\tvideoTexture: videoTexture\n\n\t\t};\n\n\t\tif ( this.isIOS ){\n\n\t\t\tenableInlineVideo( video );\n\n\t\t}\n\n\t\tthis.updateTexture( videoTexture );\n\n\t\tthis.videoRenderObject = videoRenderObject;\n\t\n\t};\n\n\tPANOLENS.VideoPanorama.prototype.reset = function () {\n\n\t\tthis.videoElement = undefined;\t\n\n\t\tPANOLENS.Panorama.prototype.reset.call( this );\n\n\t};\n\n\t/**\n\t * Check if video is paused\n\t * @return {boolean} - is video paused or not\n\t */\n\tPANOLENS.VideoPanorama.prototype.isVideoPaused = function () {\n\n\t\treturn this.videoRenderObject.video.paused;\n\n\t};\n\n\t/**\n\t * Toggle video to play or pause\n\t */\n\tPANOLENS.VideoPanorama.prototype.toggleVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video ) {\n\n\t\t\tif ( this.isVideoPaused() ) {\n\n\t\t\t\tthis.videoRenderObject.video.play();\n\n\n\t\t\t} else {\n\n\t\t\t\tthis.videoRenderObject.video.pause();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set video currentTime\n\t * @param {object} event - Event contains percentage. Range from 0.0 to 1.0\n\t */\n\tPANOLENS.VideoPanorama.prototype.setVideoCurrentTime = function ( event ) {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video && !Number.isNaN(event.percentage) && event.percentage !== 1 ) {\n\n\t\t\tthis.videoRenderObject.video.currentTime = this.videoRenderObject.video.duration * event.percentage;\n\n\t\t\tthis.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onVideoUpdate', data: event.percentage } );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Play video\n\t */\n\tPANOLENS.VideoPanorama.prototype.playVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video && this.isVideoPaused() ) {\n\n\t\t\tthis.videoRenderObject.video.play();\n\n\t\t}\n\n\t\t/**\n\t\t * Play event\n\t\t * @type {object}\n\t\t * @event 'play'\n\t\t * */\n\t\tthis.dispatchEvent( { type: 'play' } );\n\n\t};\n\n\t/**\n\t * Pause video\n\t */\n\tPANOLENS.VideoPanorama.prototype.pauseVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video && !this.isVideoPaused() ) {\n\n\t\t\tthis.videoRenderObject.video.pause();\n\n\t\t}\n\n\t\t/**\n\t\t * Pause event\n\t\t * @type {object}\n\t\t * @event 'pause'\n\t\t * */\n\t\tthis.dispatchEvent( { type: 'pause' } );\n\n\t};\n\n\t/**\n\t * Resume video\n\t */\n\tPANOLENS.VideoPanorama.prototype.resumeVideoProgress = function () {\n\n\t\tif ( this.videoElement.autoplay && !this.isMobile ) {\n\n\t\t\tthis.playVideo();\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'updateVideoPlayButton'\n\t\t\t * @property {boolean} data - Pause video or not\n\t\t\t */\n\t\t\tthis.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: false } );\n\n\t\t} else {\n\n\t\t\tthis.pauseVideo();\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'updateVideoPlayButton'\n\t\t\t * @property {boolean} data - Pause video or not\n\t\t\t */\n\t\t\tthis.dispatchEvent( { type: 'panolens-viewer-handler', method: 'updateVideoPlayButton', data: true } );\n\n\t\t}\n\n\t\tthis.setVideoCurrentTime( { percentage: this.videoProgress } );\n\n\t};\n\n\t/**\n\t * Reset video at stating point\n\t */\n\tPANOLENS.VideoPanorama.prototype.resetVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video ) {\n\n\t\t\tthis.setVideoCurrentTime( { percentage: 0 } );\n\n\t\t}\n\n\t};\n\n\t/**\n\t* Check if video is muted\n\t* @return {boolean} - is video muted or not\n\t*/\n\tPANOLENS.VideoPanorama.prototype.isVideoMuted = function () {\n\n\t\treturn this.videoRenderObject.video.muted;\n\n\t};\n\n\t/**\n\t * Mute video\n\t */\n\tPANOLENS.VideoPanorama.prototype.muteVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video && !this.isVideoMuted() ) {\n\n\t\t\tthis.videoRenderObject.video.muted = true;\n\n\t\t}\n\n\t\tthis.dispatchEvent( { type: 'volumechange' } );\n\n\t};\n\n\t/**\n\t * Unmute video\n\t */\n\tPANOLENS.VideoPanorama.prototype.unmuteVideo = function () {\n\n\t\tif ( this.videoRenderObject && this.videoRenderObject.video && this.isVideoMuted() ) {\n\n\t\t\tthis.videoRenderObject.video.muted = false;\n\n\t\t}\n\n\t\tthis.dispatchEvent( { type: 'volumechange' } );\n\n\t};\n\n\t/**\n\t * Returns the video element\n\t */\n\tPANOLENS.VideoPanorama.prototype.getVideoElement = function () {\n\n\t\treturn this.videoRenderObject.video;\n\n\t};\n\n\t/**\n\t * Dispose video panorama\n\t */\n\tPANOLENS.VideoPanorama.prototype.dispose = function () {\n\n\t\tthis.resetVideo();\n\t\tthis.pauseVideo();\n\t\t\n\t\tthis.removeEventListener( 'leave', this.pauseVideo.bind( this ) );\n\t\tthis.removeEventListener( 'enter-fade-start', this.resumeVideoProgress.bind( this ) );\n\t\tthis.removeEventListener( 'video-toggle', this.toggleVideo.bind( this ) );\n\t\tthis.removeEventListener( 'video-time', this.setVideoCurrentTime.bind( this ) );\n\n\t\tPANOLENS.Panorama.prototype.dispose.call( this );\n\n\t};\n\n})();;(function(){\n\n\t'use strict';\n\n\t/**\n\t * Empty panorama\n\t * @constructor\n\t * @param {number} [radius=5000] - Radius of panorama\n\t */\n\tPANOLENS.EmptyPanorama = function ( radius ) {\n\n\t\tradius = radius || 5000;\n\n\t\tvar geometry = new THREE.Geometry(),\n\t\t\tmaterial = new THREE.MeshBasicMaterial( { \n\t\t\t\tcolor: 0x000000, opacity: 1, transparent: true \n\t\t\t} );\n\n\t\tPANOLENS.Panorama.call( this, geometry, material );\n\n\t}\n\n\tPANOLENS.EmptyPanorama.prototype = Object.create( PANOLENS.Panorama.prototype );\n\n\tPANOLENS.EmptyPanorama.prototype.constructor = PANOLENS.EmptyPanorama;\n\n})();;( function () {\n\n\t/**\n\t * Little Planet\n\t * @constructor\n\t * @param {string} type \t\t- Type of little planet basic class\n\t * @param {string} source \t\t- URL for the image source\n\t * @param {number} [size=10000] - Size of plane geometry\n\t * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n\t */\n\tPANOLENS.LittlePlanet = function ( type, source, size, ratio ) {\n\n\t\ttype = type || 'image';\n\n\t\ttype === 'image' && PANOLENS.ImagePanorama.call( this, source, size );\n\n\t\tthis.size = size || 10000;\n\t\tthis.ratio = ratio || 0.5;\n\t\tthis.EPS = 0.000001;\n\t\tthis.frameId;\n\n\t\tthis.geometry = this.createGeometry();\n\t\tthis.material = this.createMaterial( this.size );\n\n\t\tthis.dragging = false;\n\t\tthis.userMouse = new THREE.Vector2();\n\n\t\tthis.quatA = new THREE.Quaternion();\n\t\tthis.quatB = new THREE.Quaternion();\n\t\tthis.quatCur = new THREE.Quaternion();\n\t\tthis.quatSlerp = new THREE.Quaternion();\n\n\t\tthis.vectorX = new THREE.Vector3( 1, 0, 0 );\n\t\tthis.vectorY = new THREE.Vector3( 0, 1, 0 );\n\n\t\tthis.addEventListener( 'window-resize', this.onWindowResize );\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype = Object.create( PANOLENS.ImagePanorama.prototype );\n\n\tPANOLENS.LittlePlanet.prototype.constructor = PANOLENS.LittlePlanet;\n\n\tPANOLENS.LittlePlanet.prototype.createGeometry = function () {\n\n\t\treturn new THREE.PlaneGeometry( this.size, this.size * this.ratio );\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.createMaterial = function ( size ) {\n\n\t\tvar uniforms = PANOLENS.StereographicShader.uniforms;\n\t\tuniforms.zoom.value = size;\n\n\t\treturn new THREE.ShaderMaterial( {\n\n\t\t\tuniforms: uniforms,\n\t\t\tvertexShader: PANOLENS.StereographicShader.vertexShader,\n\t\t\tfragmentShader: PANOLENS.StereographicShader.fragmentShader\n\n\t\t} );\n\t\t\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.registerMouseEvents = function () {\n\n\t\tthis.container.addEventListener( 'mousedown', this.onMouseDown.bind( this ), false );\n\t\tthis.container.addEventListener( 'mousemove', this.onMouseMove.bind( this ), false );\n\t\tthis.container.addEventListener( 'mouseup', this.onMouseUp.bind( this ), false );\n\t\tthis.container.addEventListener( 'touchstart', this.onMouseDown.bind( this ), false );\n\t\tthis.container.addEventListener( 'touchmove', this.onMouseMove.bind( this ), false );\n\t\tthis.container.addEventListener( 'touchend', this.onMouseUp.bind( this ), false );\n\t\tthis.container.addEventListener( 'mousewheel', this.onMouseWheel.bind( this ), false );\n\t\tthis.container.addEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), false );\n\t\tthis.container.addEventListener( 'contextmenu', this.onContextMenu.bind( this ), false );\n\t\t\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.unregisterMouseEvents = function () {\n\n\t\tthis.container.removeEventListener( 'mousedown', this.onMouseDown.bind( this ), false );\n\t\tthis.container.removeEventListener( 'mousemove', this.onMouseMove.bind( this ), false );\n\t\tthis.container.removeEventListener( 'mouseup', this.onMouseUp.bind( this ), false );\n\t\tthis.container.removeEventListener( 'touchstart', this.onMouseDown.bind( this ), false );\n\t\tthis.container.removeEventListener( 'touchmove', this.onMouseMove.bind( this ), false );\n\t\tthis.container.removeEventListener( 'touchend', this.onMouseUp.bind( this ), false );\n\t\tthis.container.removeEventListener( 'mousewheel', this.onMouseWheel.bind( this ), false );\n\t\tthis.container.removeEventListener( 'DOMMouseScroll', this.onMouseWheel.bind( this ), false );\n\t\tthis.container.removeEventListener( 'contextmenu', this.onContextMenu.bind( this ), false );\n\t\t\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseDown = function ( event ) {\n\n\t\tvar x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n\t\tvar y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n\t\tvar inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n\t\tswitch ( inputCount ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tthis.userMouse.set( x, y );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\tthis.userMouse.pinchDistance = distance;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tthis.onUpdateCallback();\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseMove = function ( event ) {\n\n\t\tvar x = ( event.clientX >= 0 ) ? event.clientX : event.touches[ 0 ].clientX;\n\t\tvar y = ( event.clientY >= 0 ) ? event.clientY : event.touches[ 0 ].clientY;\n\n\t\tvar inputCount = ( event.touches && event.touches.length ) || 1 ;\n\n\t\tswitch ( inputCount ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tvar angleX = THREE.Math.degToRad( x - this.userMouse.x ) * 0.4;\n\t\t\t\tvar angleY = THREE.Math.degToRad( y - this.userMouse.y ) * 0.4;\n\n\t\t\t\tif ( this.dragging ) {\n\t\t\t\t\tthis.quatA.setFromAxisAngle( this.vectorY, angleX );\n\t\t\t\t\tthis.quatB.setFromAxisAngle( this.vectorX, angleY );\n\t\t\t\t\tthis.quatCur.multiply( this.quatA ).multiply( this.quatB );\n\t\t\t\t\tthis.userMouse.set( x, y );\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tvar uniforms = this.material.uniforms;\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tthis.addZoomDelta( this.userMouse.pinchDistance - distance );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseUp = function ( event ) {\n\n\t\tthis.dragging = false;\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onMouseWheel = function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) { // Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tthis.addZoomDelta( delta );\n\t\tthis.onUpdateCallback();\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.addZoomDelta = function ( delta ) {\n\n\t\tvar uniforms = this.material.uniforms;\n\t\tvar lowerBound = this.size * 0.1;\n\t\tvar upperBound = this.size * 10;\n\n\t\tuniforms.zoom.value += delta;\n\n\t\tif ( uniforms.zoom.value <= lowerBound ) {\n\n\t\t\tuniforms.zoom.value = lowerBound;\n\n\t\t} else if ( uniforms.zoom.value >= upperBound ) {\n\n\t\t\tuniforms.zoom.value = upperBound;\n\n\t\t}\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onUpdateCallback = function () {\n\n\t\tthis.frameId = window.requestAnimationFrame( this.onUpdateCallback.bind( this ) );\n\t\t\n\t\tthis.quatSlerp.slerp( this.quatCur, 0.1 );\n\t\tthis.material.uniforms.transform.value.makeRotationFromQuaternion( this.quatSlerp );\n\t\t\n\t\tif ( !this.dragging && 1.0 - this.quatSlerp.clone().dot( this.quatCur ) < this.EPS ) {\n\t\t\t\n\t\t\twindow.cancelAnimationFrame( this.frameId );\n\n\t\t}\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.reset = function () {\n\n\t\tthis.quatCur.set( 0, 0, 0, 1 );\n\t\tthis.quatSlerp.set( 0, 0, 0, 1 );\n\t\tthis.onUpdateCallback();\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onLoad = function () {\n\n\t\tthis.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n\t\tthis.registerMouseEvents();\n\t\tthis.onUpdateCallback();\n\t\t\n\t\tthis.dispatchEvent( { type: 'panolens-viewer-handler', method: 'disableControl' } );\n\t\t\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onLeave = function () {\n\n\t\tthis.unregisterMouseEvents();\n\n\t\tthis.dispatchEvent( { type: 'panolens-viewer-handler', method: 'enableControl', data: PANOLENS.Controls.ORBIT } );\n\n\t\twindow.cancelAnimationFrame( this.frameId );\n\n\t\tPANOLENS.Panorama.prototype.onLeave.call( this );\n\t\t\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onWindowResize = function () {\n\n\t\tthis.material.uniforms.resolution.value = this.container.clientWidth / this.container.clientHeight;\n\n\t};\n\n\tPANOLENS.LittlePlanet.prototype.onContextMenu = function () {\n\n\t\tthis.dragging = false;\n\n\t};\n\n})();;( function () {\n\n\t/**\n\t * Image Little Planet\n\t * @constructor\n\t * @param {string} source \t\t- URL for the image source\n\t * @param {number} [size=10000] - Size of plane geometry\n\t * @param {number} [ratio=0.5]  - Ratio of plane geometry's height against width\n\t */\n\tPANOLENS.ImageLittlePlanet = function ( source, size, ratio ) {\n\n\t\tPANOLENS.LittlePlanet.call( this, 'image', source, size, ratio );\n\n\t};\n\n\tPANOLENS.ImageLittlePlanet.prototype = Object.create( PANOLENS.LittlePlanet.prototype );\n\t\n\tPANOLENS.ImageLittlePlanet.prototype.constructor = PANOLENS.ImageLittlePlanet;\n\n\tPANOLENS.ImageLittlePlanet.prototype.onLoad = function ( texture ) {\n\n\t\tthis.updateTexture( texture );\n\n\t\tPANOLENS.ImagePanorama.prototype.onLoad.call( this, texture );\n\t\tPANOLENS.LittlePlanet.prototype.onLoad.call( this );\n\n\t};\n\n\tPANOLENS.ImageLittlePlanet.prototype.updateTexture = function ( texture ) {\n\n\t\ttexture.minFilter = texture.magFilter = THREE.LinearFilter;\n\t\t\n\t\tthis.material.uniforms[ \"tDiffuse\" ].value = texture;\n\n\t};\n\n} )();;(function(){\n\t\n\t/**\n\t * Reticle 3D Sprite\n\t * @constructor\n\t * @param {THREE.Color} [color=0xfffff] - Color of the reticle sprite\n\t * @param {boolean} [autoSelect=true] - Auto selection\n\t * @param {string} [idleImageUrl=PANOLENS.DataImage.ReticleIdle] - Image asset url\n\t * @param {string} [dwellImageUrl=PANOLENS.DataImage.ReticleDwell] - Image asset url\n\t * @param {number} [dwellTime=1500] - Duration for dwelling sequence to complete\n\t * @param {number} [dwellSpriteAmount=45] - Number of dwelling sprite sequence\n\t */\n\tPANOLENS.Reticle = function ( color, autoSelect, idleImageUrl, dwellImageUrl, dwellTime, dwellSpriteAmount ) {\n\n\t\tcolor = color || 0xffffff;\n\n\t\tthis.autoSelect = autoSelect != undefined ? autoSelect : true;\n\n\t\tthis.dwellTime = dwellTime || 1500;\n\t\tthis.dwellSpriteAmount = dwellSpriteAmount || 45;\n\t\tthis.dwellInterval = this.dwellTime / this.dwellSpriteAmount;\n\n\t\tthis.IDLE = 0;\n\t\tthis.DWELLING = 1;\n\t\tthis.status;\n\n\t\tthis.scaleIdle = new THREE.Vector3( 0.2, 0.2, 1 );\n\t\tthis.scaleDwell = new THREE.Vector3( 1, 0.8, 1 );\n\n\t\tthis.textureLoaded = false;\n\t\tthis.idleImageUrl = idleImageUrl || PANOLENS.DataImage.ReticleIdle;\n\t\tthis.dwellImageUrl = dwellImageUrl || PANOLENS.DataImage.ReticleDwell;\n\t\tthis.idleTexture = new THREE.Texture();\n\t\tthis.dwellTexture = new THREE.Texture();\n\n\t\tTHREE.Sprite.call( this, new THREE.SpriteMaterial( { color: color, depthTest: false } ) );\n\n\t\tthis.currentTile = 0;\n\t\tthis.startTime = 0;\n\n\t\tthis.visible = false;\n\t\tthis.renderOrder = 10;\n\t\tthis.timerId;\n\n\t\t// initial update\n\t\tthis.updateStatus( this.IDLE );\n\n\t};\n\n\tPANOLENS.Reticle.prototype = Object.create( THREE.Sprite.prototype );\n\n\tPANOLENS.Reticle.prototype.constructor = PANOLENS.Reticle;\n\n\t/**\n\t * Make reticle visible\n\t */\n\tPANOLENS.Reticle.prototype.show = function () {\n\n\t\tthis.visible = true;\n\n\t};\n\n\t/**\n\t * Make reticle invisible\n\t */\n\tPANOLENS.Reticle.prototype.hide = function () {\n\n\t\tthis.visible = false;\n\n\t};\n\n\t/**\n\t * Load reticle textures\n\t */\n\tPANOLENS.Reticle.prototype.loadTextures = function () {\n\n\t\tthis.idleTexture = PANOLENS.Utils.TextureLoader.load( this.idleImageUrl );\n\t\tthis.dwellTexture = PANOLENS.Utils.TextureLoader.load( this.dwellImageUrl );\n\n\t\tthis.material.map = this.idleTexture;\n\t\tthis.setupDwellSprite( this.dwellTexture );\n\t\tthis.textureLoaded = true;\n\n\t};\n\n\t/**\n\t * Start reticle timer selection\n\t * @param  {function} completeCallback - Callback after dwell completes\n\t */\n\tPANOLENS.Reticle.prototype.select = function ( completeCallback ) {\n\n\t\tif ( performance.now() - this.startTime >= this.dwellTime ) {\n\n\t\t\tthis.completeDwelling();\n\t\t\tcompleteCallback();\n\n\t\t} else if ( this.autoSelect ){\n\n\t\t\tthis.updateDwelling( performance.now() );\n\t\t\tthis.timerId = window.requestAnimationFrame( this.select.bind( this, completeCallback ) );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Clear and reset reticle timer\n\t */\n\tPANOLENS.Reticle.prototype.clearTimer = function () {\n\n\t\twindow.cancelAnimationFrame( this.timerId );\n\t\tthis.timerId = null;\n\n\t};\n\n\t/**\n\t * Setup dwell sprite animation\n\t */\n\tPANOLENS.Reticle.prototype.setupDwellSprite = function ( texture ) {\n\n\t\ttexture.wrapS = THREE.RepeatWrapping;\n\t\ttexture.repeat.set( 1 / this.dwellSpriteAmount, 1 );\n\n\t}\n\n\t/**\n\t * Update reticle status\n\t * @param {number} status - Reticle status\n\t */\n\tPANOLENS.Reticle.prototype.updateStatus = function ( status ) {\n\n\t\tthis.status = status;\n\n\t\tif ( status === this.IDLE ) {\n\t\t\tthis.scale.copy( this.scaleIdle );\n\t\t\tthis.material.map = this.idleTexture;\n\t\t} else if ( status === this.DWELLING ) {\n\t\t\tthis.scale.copy( this.scaleDwell );\n\t\t\tthis.material.map = this.dwellTexture;\n\t\t}\n\n\t\tthis.currentTile = 0;\n\t\tthis.material.map.offset.x = 0;\n\n\t};\n\n\t/**\n\t * Start dwelling sequence\n\t */\n\tPANOLENS.Reticle.prototype.startDwelling = function ( completeCallback ) {\n\n\t\tif ( !this.autoSelect ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.startTime = performance.now();\n\t\tthis.updateStatus( this.DWELLING );\n\t\tthis.select( completeCallback );\n\n\t};\n\n\t/**\n\t * Update dwelling sequence\n\t * @param  {number} time - Timestamp for elasped time\n\t */\n\tPANOLENS.Reticle.prototype.updateDwelling = function ( time ) {\n\n\t\tvar elasped = time - this.startTime;\n\n\t\tif ( this.currentTile <= this.dwellSpriteAmount ) {\n\t\t\tthis.currentTile = Math.floor( elasped / this.dwellTime * this.dwellSpriteAmount );\n\t\t\tthis.material.map.offset.x = this.currentTile / this.dwellSpriteAmount;\n\t\t} else {\n\t\t\tthis.updateStatus( this.IDLE );\n\t\t}\n\n\t};\n\n\t/**\n\t * Cancel dwelling\n\t */\n\tPANOLENS.Reticle.prototype.cancelDwelling = function () {\n\t\tthis.clearTimer();\n\t\tthis.updateStatus( this.IDLE );\n\n\t};\n\n\t/**\n\t * Complete dwelling\n\t */\n\tPANOLENS.Reticle.prototype.completeDwelling = function () {\n\t\tthis.clearTimer();\t\n\t\tthis.updateStatus( this.IDLE );\n\t};\n\n})();;( function () {\n\t\n\t/**\n\t * Creates a tile with bent capability\n\t * @constructor\n\t * @param {number}  [width=10]                      \t\t\t\t- Width along the X axis\n\t * @param {number}  [height=5]                      \t\t\t\t- Height along the Y axis\n\t * @param {number}  [widthSegments=20]              \t\t\t\t- Width segments\n\t * @param {number}  [heightSegments=20]             \t\t\t\t- Height segments\n\t * @param {THREE.Vector3} [forceDirection=THREE.Vector3( 0, 0, 1 )] - Force direction\n\t * @param {THREE.Vector3} [forceAxis=THREE.Vector3( 0, 1, 0 )] \t\t- Along this axis\n\t * @param {number} [forceAngle=Math.PI/12] \t\t\t\t\t\t\t- Angle to bend in radians\n\t */\n\tPANOLENS.Tile = function ( width, height, widthSegments, heightSegments, forceDirection, forceAxis, forceAngle ) {\n\n\t\tvar scope = this;\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tforceDirection: forceDirection,\n\t\t\tforceAxis: forceAxis,\n\t\t\tforceAngle: forceAngle\n\t\t};\n\n\t\twidth = width || 10;\n\t\theight = height || 5;\n\t\twidthSegments = widthSegments || 1;\n\t\theightSegments = heightSegments || 1;\n\t\tforceDirection = forceDirection || new THREE.Vector3( 0, 0, 1 );\n\t\tforceAxis = forceAxis || new THREE.Vector3( 0, 1, 0 );\n\t\tforceAngle = forceAngle !== undefined ? forceAngle : 0;\n\n\t\tTHREE.Mesh.call( this, \n\t\t\tnew THREE.PlaneGeometry( width, height, widthSegments, heightSegments ),\n\t\t\tnew THREE.MeshBasicMaterial( { color: 0xffffff, transparent: true } )\n\t\t);\n\n\t\tthis.bendModifier = new THREE.BendModifier();\n\n\t\tthis.entity = undefined;\n\n\t\tthis.animationDuration = 500;\n\t\tthis.animationFadeOut = undefined;\n\t\tthis.animationFadeIn = undefined;\n\t\tthis.animationTranslation = undefined;\n\t\tthis.tweens = {};\n\n\t\tif ( forceAngle !== 0 ) {\n\n\t\t\tthis.bend( forceDirection, forceAxis, forceAngle );\n\n\t\t}\n\t\t\n\t\tthis.originalGeometry = this.geometry.clone();\n\t}\n\n\tPANOLENS.Tile.prototype = Object.create( THREE.Mesh.prototype );\n\n\tPANOLENS.Tile.prototype.constructor = PANOLENS.Tile;\n\n\tPANOLENS.Tile.prototype.clone = function (){\n\n\t\tvar parameters = this.parameters, tile;\n\n\t\ttile = new PANOLENS.Tile(\n\t\t\tparameters.width,\n\t\t\tparameters.height,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments,\n\t\t\tparameters.forceDirection,\n\t\t\tparameters.forceAxis,\n\t\t\tparameters.forceAngle\n\t\t);\n\n\t\ttile.setEntity( this.entity );\n\t\ttile.material = this.material.clone();\n\n\t\treturn tile;\n\n\t};\n\n\t/**\n\t * Bend panel with direction, axis, and angle\n\t * @param  {THREE.Vector3} direction - Force direction\n\t * @param  {THREE.Vector3} axis - Along this axis\n\t * @param  {number} angle - Angle to bend in radians\n\t */\n\tPANOLENS.Tile.prototype.bend = function ( direction, axis, angle ) {\n\n\t\tthis.bendModifier.set( direction, axis, angle ).modify( this.geometry );\n\n\t};\n\n\t/**\n\t * Restore geometry back to initial state \n\t */\n\tPANOLENS.Tile.prototype.unbend = function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tthis.geometry = this.originalGeometry;\n\t\tthis.originalGeometry = this.geometry.clone();\n\n\t\tgeometry.dispose();\n\t\tgeometry = null;\n\n\t};\n\n\t/**\n\t * Create a tween object for animation\n\t * based on - {@link https://github.com/tweenjs/tween.js}\n\t * @param  {string} name       - Name of the tween animation\n\t * @param  {object} object     - Object to be tweened\n\t * @param  {object} toState    - Final state of the object's properties\n\t * @param  {number} duration   - Tweening duration\n\t * @param  {TWEEN.Easing} easing     - Easing function\n\t * @param  {number} delay      - Animation delay time\n\t * @param  {Function} onStart    - On start function\n\t * @param  {Function} onUpdate   - On update function\n\t * @param  {Function} onComplete - On complete function\n\t * @return {TWEEN.Tween}         - Tween object\n\t */\n\tPANOLENS.Tile.prototype.tween = function ( name, object, toState, duration, easing, delay, onStart, onUpdate, onComplete ) {\n\n\t\tobject = object || this;\n    \ttoState = toState || {};\n    \tduration = duration || this.animationDuration;\n    \teasing = easing || TWEEN.Easing.Exponential.Out;\n    \tdelay = delay !== undefined ? delay : 0;\n    \tonStart = onStart ? onStart : null;\n    \tonUpdate = onUpdate ? onUpdate : null;\n    \tonComplete = onComplete ? onComplete : null;\n\n    \tif ( !this.tweens[name] ) {\n    \t\tthis.tweens[name] = new TWEEN.Tween( object )\n    \t\t\t.to( toState, duration )\n\t        \t.easing( easing )\n\t        \t.delay( delay )\n\t        \t.onStart( onStart )\n\t        \t.onUpdate( onUpdate )\n\t        \t.onComplete( onComplete );\n    \t}\n\n    \treturn this.tweens[name];\n\n    };\n\n    /**\n     * Short-hand for displaying a single ripple effect\n     * by duplicating itself and fadeout\n     * @param  {number} scale    - The duplicated self fadeout scale\n     * @param  {number} duration - Effect duration\n     * @param  {TWEEN.Easing} easing   - Easing function\n     */\n    PANOLENS.Tile.prototype.ripple = function ( scale, duration, easing ) {\n\n    \tscale = scale || 2;\n    \tduration = duration || 200;\n    \teasing = easing || TWEEN.Easing.Cubic.Out;\n\n    \tvar scope = this, ripple = this.clone();\n\n        new TWEEN.Tween( ripple.scale )\n        .to({x: scale, y: scale}, duration )\n        .easing( easing )\n        .start();\n\n        new TWEEN.Tween( ripple.material )\n        .to({opacity: 0}, duration )\n        .easing( easing )\n        .onComplete(function(){\n            scope.remove( ripple );\n            ripple.geometry.dispose();\n            ripple.material.dispose();\n        })\n        .start();\n\n        this.add( ripple );\n\n    };\n\n    /**\n\t * Set entity if multiple objects are considered as one entity\n\t * @param {object} entity - Entity represents whole group structure\n\t */\n\tPANOLENS.Tile.prototype.setEntity = function ( entity ) {\n\n\t\tthis.entity = entity;\n\n\t};\n\n} )();;(function(){\n\t\n\t'use strict';\n\n    /**\n     * Group consists of tile array\n     * @constructor\n     * @param {array}  tileArray         - Tile array of PANOLENS.Tile \n     * @param {number} verticalGap       - Vertical gap between each tile\n     * @param {number} depthGap          - Depth gap between each tile\n     * @param {number} animationDuration - Animation duration\n     * @param {number} offset            - Offset index\n     */\n\tPANOLENS.TileGroup = function ( tileArray, verticalGap, depthGap, animationDuration, offset ) {\n\n\t\tvar scope = this, textureLoader;\n\n\t\tTHREE.Object3D.call( this );\n\n\t\tthis.tileArray = tileArray || [];\n\t\tthis.offset = offset !== undefined ? offset : 0;\n\t\tthis.v_gap = verticalGap !== undefined ? verticalGap : 6;\n\t\tthis.d_gap = depthGap !== undefined ? depthGap : 2;\n\t\tthis.animationDuration = animationDuration !== undefined ? animationDuration : 200;\n\t\tthis.animationEasing = TWEEN.Easing.Exponential.Out;\n\t\tthis.visibleDelta = 2;\n\n\t\tthis.tileArray.map( function ( tile, index ) {\n\n\t\t\tif ( tile.image ) {\n\n\t\t\t\tPANOLENS.Utils.TextureLoader.load( tile.image, scope.setTexture.bind( tile ) );\n\n\t\t\t}\n\n\t\t\ttile.position.set( 0, index * -scope.v_gap, index * -scope.d_gap );\n\t\t\ttile.originalPosition = tile.position.clone();\n\t\t\ttile.setEntity( scope );\n\t\t\tscope.add( tile );\n\n\t\t} );\n\n\t\tthis.updateVisbility();\n\n\t}\n\n\tPANOLENS.TileGroup.prototype = Object.create( THREE.Object3D.prototype );\n\n\tPANOLENS.TileGroup.prototype.constructor = PANOLENS.TileGroup;\n\n    /**\n     * Update corresponding tile textures\n     * @param  {array} imageArray - Image array with index to index image update\n     */\n\tPANOLENS.TileGroup.prototype.updateTexture = function ( imageArray ) {\n\n\t\tvar scope = this;\n\n\t\timageArray = imageArray || [];\n\t\tthis.children.map( function ( child, index ) {\n\t\t\tif ( child instanceof PANOLENS.Tile && imageArray[index] ) {\n\t\t\t\tPANOLENS.Utils.TextureLoader.load( imageArray[index], scope.setTexture.bind( child ) );\n\t    \t\tif ( child.outline ) {\n\t    \t\t\tchild.outline.material.visible = true;\n\t    \t\t}\n\t\t\t}\n\t\t} );\n\n\t};\n\n    /**\n     * Update all tile textures and hide the remaining ones\n     * @param  {array} imageArray - Image array with index to index image update\n     */\n\tPANOLENS.TileGroup.prototype.updateAllTexture = function ( imageArray ) {\n\n\t\tthis.updateTexture( imageArray );\n\n\t\tif ( imageArray.length < this.children.length ) {\n\t\t\tfor ( var i = imageArray.length; i < this.children.length; i++ ) {\n\t\t\t\tif ( this.children[i] instanceof PANOLENS.Tile ) {\n\t\t\t\t\tthis.children[i].material.visible = false;\n\t\t\t\t\tif ( this.children[i].outline ) {\n\t\t\t\t\t\tthis.children[i].outline.material.visible = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n    /**\n     * Set individual texture\n     * @param {THREE.Texture} texture - Texture to be updated\n     */\n\tPANOLENS.TileGroup.prototype.setTexture = function ( texture ) {\n\n        texture.minFilter = THREE.LinearFilter;\n        texture.magFilter = THREE.LinearFilter;\n        this.material.visible = true;\n        this.material.map = texture;\n        this.material.needsUpdate = true;\n\n    };\n\n    /**\n     * Update visibility\n     */\n    PANOLENS.TileGroup.prototype.updateVisbility = function () {\n\n    \tthis.children[this.offset].visible = true;\n    \tnew TWEEN.Tween( this.children[this.offset].material )\n\t\t.to( { opacity: 1 }, this.animationDuration )\n\t\t.easing( this.animationEasing )\n\t\t.start();\n    \t\n    \tif ( this.children[this.offset].outline ) {\n\n    \t\tthis.children[this.offset].outline.visible = true;\n\n    \t}\n\n    \t// Backward\n    \tfor ( var i = this.offset - 1; i >= 0 ; i-- ) {\n\n    \t\tif ( this.tileArray.indexOf(this.children[i]) === -1 ) { continue; }\n\n    \t\tif ( this.offset - i <= this.visibleDelta ) {\n\n    \t\t\tthis.children[i].visible = true;\n    \t\t\tnew TWEEN.Tween( this.children[i].material )\n    \t\t\t.to( { opacity: 1 / ( this.offset - i ) * 0.5 }, this.animationDuration )\n    \t\t\t.easing( this.animationEasing )\n    \t\t\t.start();\n\n    \t\t} else {\n\n    \t\t\tthis.children[i].visible = false;\n\n    \t\t}\n\n    \t\tthis.children[i].outline && (this.children[i].outline.visible = false);\n\n    \t}\n\n    \t// Forward\n    \tfor ( var i = this.offset + 1; i < this.children.length ; i++ ) {\n\n    \t\tif ( this.tileArray.indexOf(this.children[i]) === -1 ) { continue; }\n\n    \t\tif ( i - this.offset <= this.visibleDelta ) {\n\n    \t\t\tthis.children[i].visible = true;\n    \t\t\tnew TWEEN.Tween( this.children[i].material )\n    \t\t\t.to( { opacity: 1 / ( i - this.offset ) * 0.5 }, this.animationDuration )\n    \t\t\t.easing( this.animationEasing )\n    \t\t\t.start();\n\n    \t\t} else {\n\n    \t\t\tthis.children[i].visible = false;\n\n    \t\t}\n\n    \t\tthis.children[i].outline && (this.children[i].outline.visible = false);\n\n    \t}\n\n    };\n\n    /**\n     * Scroll up\n     * @param  {number} duration - Scroll up duration\n     */\n    PANOLENS.TileGroup.prototype.scrollUp = function ( duration ) {\n\n    \tvar tiles = this.tileArray, offset;\n\n    \tduration = duration !== undefined ? duration : this.animationDuration;\n\n    \toffset = this.offset + 1;\n\n    \tif ( this.offset < tiles.length - 1 && tiles[ this.offset + 1 ].material.visible ) {\n\n    \t\tfor ( var i = tiles.length - 1; i >= 0; i-- ) {\n\t    \t\t\n    \t\t\tnew TWEEN.Tween( tiles[i].position )\n    \t\t\t.to({ y: ( i - offset ) * -this.v_gap,\n    \t\t\t\t  z: Math.abs( i - offset ) * -this.d_gap }, duration )\n    \t\t\t.easing( this.animationEasing )\n    \t\t\t.start();\n\t    \t\t\n\t    \t}\n\n\t    \tthis.offset ++;\n\t    \tthis.updateVisbility();\n\t    \tthis.dispatchEvent( { type: 'scroll', direction: 'up' } );\n\n    \t}\n\n    };\n\n    /**\n     * Scroll down \n     * @param  {number} duration - Scroll up duration\n     */\n    PANOLENS.TileGroup.prototype.scrollDown = function ( duration ) {\n\n    \tvar tiles = this.tileArray, offset;\n\n    \tduration = duration !== undefined ? duration : this.animationDuration;\n\n    \toffset = this.offset - 1;\n\n    \tif ( this.offset > 0 && tiles[ this.offset - 1 ].material.visible ) {\n\n    \t\tfor ( var i = 0; i < tiles.length; i++ ) {\n\n\t    \t\tnew TWEEN.Tween( tiles[i].position )\n    \t\t\t.to({ y: ( i - offset ) * -this.v_gap,\n    \t\t\t\t  z: Math.abs( i - offset ) * -this.d_gap }, duration )\n    \t\t\t.easing( this.animationEasing )\n    \t\t\t.start();\n\t    \t\t\n\t    \t}\n\n\t    \tthis.offset --;\n\t    \tthis.updateVisbility();\n\t    \tthis.dispatchEvent( { type: 'scroll', direction: 'down' } );\n\n    \t}\n\n    };\n\n    PANOLENS.TileGroup.prototype.reset = function () {\n\n    \tthis.tileArray.map( function ( child, index ) {\n\n    \t\tchild.position.copy( child.originalPosition );\n\n    \t} );\n\n    \tthis.offset = 0;\n    \tthis.updateVisbility();\n\n    };\n\n    /**\n     * Get current index\n     * @return {number} Index of the group. Range from 0 to this.tileArray.length\n     */\n    PANOLENS.TileGroup.prototype.getIndex = function () {\n\n    \treturn this.offset;\n\n    };\n\n    /**\n     * Get visible tile counts\n     * @return {number} Number of visible tiles\n     */\n    PANOLENS.TileGroup.prototype.getTileCount = function () {\n\n    \tvar count = 0;\n\n    \tthis.tileArray.map( function ( tile ) {\n\n    \t\tif ( tile.material.visible ) {\n\n    \t\t\tcount ++;\n\n    \t\t}\n\n    \t} );\n\n    \treturn count;\n\n    };\n\n})();;(function(){\n\t\n\t'use strict';\n\n\tvar sharedFont, sharedTexture;\n\tvar pendingQueue = [];\n\n\t/**\n\t * Sprite text based on {@link https://github.com/Jam3/three-bmfont-text}\n\t * @constructor\n\t * @param {string} text     - Text to be displayed\n\t * @param {number} maxWidth\t- Max width\n\t * @param {number} color    - Color in hexadecimal\n\t * @param {number} opacity  - Text opacity\n\t * @param {object} options  - Options to create text geometry\n\t */\n\tPANOLENS.SpriteText = function ( text, maxWidth, color, opacity, options ) {\n\n\t\tTHREE.Object3D.call( this );\n\n\t\tthis.text = text || '';\n\t\tthis.maxWidth = maxWidth || 2000;\n\t\tthis.color = color || 0xffffff;\n\t\tthis.opacity = opacity !== undefined ? opacity : 1;\n\t\tthis.options = options || {};\n\n\t\tthis.animationDuration = 500;\n\t\tthis.animationFadeOut = undefined;\n\t\tthis.animationFadeIn = undefined;\n\t\tthis.tweens = {};\n\n\t\tthis.addText( text );\n\n\t}\n\n\tPANOLENS.SpriteText.prototype = Object.create( THREE.Object3D.prototype );\n\n\tPANOLENS.SpriteText.prototype.constructor = PANOLENS.SpriteText;\n\n\t// Reference function will be overwritten by Bmfont.js\n\tPANOLENS.SpriteText.prototype.generateTextGeometry = function () {};\n\tPANOLENS.SpriteText.prototype.generateSDFShader = function () {};\n\n\t/**\n\t * Set BMFont\n\t * @param {Function} callback - Callback after font is loaded\n\t * @param {object}   font     - The font to be loaded\n\t * @param {THREE.Texture}   texture  - Font texture\n\t */\n\tPANOLENS.SpriteText.prototype.setBMFont = function ( callback, font, texture ) {\n\n\t\ttexture.needsUpdate = true;\n\t  \ttexture.minFilter = THREE.LinearMipMapLinearFilter;\n\t\ttexture.magFilter = THREE.LinearFilter;\n\t\ttexture.generateMipmaps = true;\n\t\ttexture.anisotropy = 8;\n\n\t\tsharedFont = font;\n\t\tsharedTexture = texture;\n\n\t\tfor ( var i = pendingQueue.length - 1; i >= 0; i-- ) {\n\t\t\tpendingQueue[ i ].target.addText( pendingQueue[ i ].text );\n\t\t}\n\n\t\twhile ( pendingQueue.length > 0 ) {\n\t\t\tpendingQueue.pop();\n\t\t}\n\n\t\tcallback && callback();\n\n\t};\n\n\t/**\n\t * Add text mesh\n\t * @param {string} text - Text to be displayed\n\t */\n\tPANOLENS.SpriteText.prototype.addText = function ( text ) {\n\n\t\tif ( !sharedFont || !sharedTexture ) {\n\t\t\tpendingQueue.push( { target: this, text: text } );\n\t\t\treturn;\n\t\t}\n\n\t\tvar textAnchor = new THREE.Object3D();\n\n\t\tthis.options.text = text;\n\t\tthis.options.font = sharedFont;\n\t\tthis.options.width = this.maxWidth;\n\n\t\tvar geometry = this.generateTextGeometry( this.options );\n\t\tgeometry.computeBoundingBox();\n\t\tgeometry.computeBoundingSphere();\n\n\t\tvar material = new THREE.RawShaderMaterial(this.generateSDFShader({\n\t\t    map: sharedTexture,\n\t\t    side: THREE.DoubleSide,\n\t\t    transparent: true,\n\t\t    color: this.color,\n\t\t    opacity: this.opacity\n\t\t}));\n\n\t\tvar layout = geometry.layout;\n\t\tvar textMesh = new THREE.Mesh( geometry, material );\n\n\t\ttextMesh.entity = this;\n\t\ttextMesh.position.x = -layout.width / 2;\n\t\ttextMesh.position.y = layout.height * 1.035;\n\n\t\ttextAnchor.scale.x = textAnchor.scale.y = -0.05;\n\t\ttextAnchor.add( textMesh );\n\n\t\tthis.mesh = textMesh;\n\t\tthis.add( textAnchor );\n\n\t};\n\n\t/**\n\t * Update text geometry\n\t * @param  {object} options - Geometry options based on\n\t *  https://github.com/Jam3/three-bmfont-text#geometry--createtextopt\n\t */\n\tPANOLENS.SpriteText.prototype.update = function ( options ) {\n\n\t\tvar mesh;\n\n\t\toptions = options || {};\n\n\t\tmesh = this.mesh;\n\n\t\tmesh.geometry.update( options );\n\t\tmesh.position.x = -mesh.geometry.layout.width / 2;\n\t\tmesh.position.y = mesh.geometry.layout.height * 1.035;\n\n\t};\n\n\t/**\n\t * Create a tween object for animation\n\t * based on - {@link https://github.com/tweenjs/tween.js}\n\t * @param  {string} name       - Name of the tween animation\n\t * @param  {object} object     - Object to be tweened\n\t * @param  {object} toState    - Final state of the object's properties\n\t * @param  {number} duration   - Tweening duration\n\t * @param  {TWEEN.Easing} easing     - Easing function\n\t * @param  {number} delay      - Animation delay time\n\t * @param  {Function} onStart    - On start function\n\t * @param  {Function} onUpdate   - On update function\n\t * @param  {Function} onComplete - On complete function\n\t * @return {TWEEN.Tween}         - Tween object\n\t */\n\tPANOLENS.SpriteText.prototype.tween = function ( name, object, toState, duration, easing, delay, onStart, onUpdate, onComplete ) {\n\n\t\tobject = object || this;\n\t\ttoState = toState || {};\n\t\tduration = duration || this.animationDuration;\n\t\teasing = easing || TWEEN.Easing.Exponential.Out;\n\t\tdelay = delay !== undefined ? delay : 0;\n\t\tonStart = onStart ? onStart : null;\n\t\tonUpdate = onUpdate ? onUpdate : null;\n\t\tonComplete = onComplete ? onComplete : null;\n\n\t\tif ( !this.tweens[name] ) {\n\t\t\tthis.tweens[name] = new TWEEN.Tween( object )\n\t\t\t\t.to( toState, duration )\n\t        \t.easing( easing )\n\t        \t.delay( delay )\n\t        \t.onStart( onStart )\n\t        \t.onUpdate( onUpdate )\n\t        \t.onComplete( onComplete );\n\t\t}\n\n\t\treturn this.tweens[name];\n\n\t};\n\n\t/**\n\t * Get geometry layout\n\t * @return {object} Text geometry layout \n\t */\n\tPANOLENS.SpriteText.prototype.getLayout = function () {\n\n\t\treturn this.mesh && this.mesh.geometry && this.mesh.geometry.layout || {};\n\n\t};\n\n\t/**\n\t * Set entity if multiple objects are considered as one entity\n\t * @param {object} entity - Entity represents whole group structure\n\t */\n\tPANOLENS.SpriteText.prototype.setEntity = function ( entity ) {\n\n\t\tthis.entity = entity;\n\n\t};\n\n})();;(function () {\n\t\n\t/**\n\t * Widget for controls\n\t * @constructor\n\t * @param {HTMLElement} container - A domElement where default control widget will be attached to\n\t */\n\tPANOLENS.Widget = function ( container ) {\n\n\t\tTHREE.EventDispatcher.call( this );\n\n\t\tthis.DEFAULT_TRANSITION  = 'all 0.27s ease';\n\t\tthis.TOUCH_ENABLED = PANOLENS.Utils.checkTouchSupported();\n\t\tthis.PREVENT_EVENT_HANDLER = function ( event ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t};\n\n\t\tthis.container = container;\n\n\t\tthis.barElement;\n\t\tthis.fullscreenElement;\n\t\tthis.videoElement;\n\t\tthis.settingElement;\n\n\t\tthis.mainMenu;\n\n\t\tthis.activeMainItem;\n\t\tthis.activeSubMenu;\n\t\tthis.mask;\n\n\t}\n\n\tPANOLENS.Widget.prototype = Object.create( THREE.EventDispatcher.prototype );\n\n\tPANOLENS.Widget.prototype.constructor = PANOLENS.Widget;\n\n\t/**\n\t * Add control bar\n\t */\n\tPANOLENS.Widget.prototype.addControlBar = function () {\n\n\t\tif ( !this.container ) {\n\n\t\t\tconsole.warn( 'Widget container not set' ); \n\t\t\treturn; \n\t\t}\n\n\t\tvar scope = this, bar, styleTranslate, styleOpacity, gradientStyle;\n\n\t\tgradientStyle = 'linear-gradient(bottom, rgba(0,0,0,0.2), rgba(0,0,0,0))';\n\n\t\tbar = document.createElement( 'div' );\n\t\tbar.style.width = '100%';\n\t\tbar.style.height = '44px';\n\t\tbar.style.float = 'left';\n\t\tbar.style.transform = bar.style.webkitTransform = bar.style.msTransform = 'translateY(-100%)';\n\t\tbar.style.background = '-webkit-' + gradientStyle;\n\t\tbar.style.background = '-moz-' + gradientStyle;\n\t\tbar.style.background = '-o-' + gradientStyle;\n\t\tbar.style.background = '-ms-' + gradientStyle;\n\t\tbar.style.background = gradientStyle;\n\t\tbar.style.transition = this.DEFAULT_TRANSITION;\n\t\tbar.style.pointerEvents = 'none';\n\t\tbar.isHidden = false;\n\t\tbar.toggle = function () {\n\t\t\tbar.isHidden = !bar.isHidden;\n\t\t\tstyleTranslate = bar.isHidden ? 'translateY(0)' : 'translateY(-100%)';\n\t\t\tstyleOpacity = bar.isHidden ? 0 : 1;\n\t\t\tbar.style.transform = bar.style.webkitTransform = bar.style.msTransform = styleTranslate;\n\t\t\tbar.style.opacity = styleOpacity;\n\t\t};\n\n\t\t// Menu\n\t\tvar menu = this.createDefaultMenu();\n\t\tthis.mainMenu = this.createMainMenu( menu );\n\t\tbar.appendChild( this.mainMenu );\n\n\t\t// Mask\n\t\tvar mask = this.createMask();\n\t\tthis.mask = mask;\n\t\tthis.container.appendChild( mask );\n\n\t\t// Dispose\n\t\tbar.dispose = function () {\n\n\t\t\tif ( scope.fullscreenElement ) {\n\n\t\t\t\tbar.removeChild( scope.fullscreenElement );\n\t\t\t\tscope.fullscreenElement.dispose();\n\t\t\t\tscope.fullscreenElement = null;\n\n\t\t\t}\n\n\t\t\tif ( scope.settingElement ) {\n\n\t\t\t\tbar.removeChild( scope.settingElement );\n\t\t\t\tscope.settingElement.dispose();\n\t\t\t\tscope.settingElement = null;\n\n\t\t\t}\n\n\t\t\tif ( scope.videoElement ) {\n\n\t\t\t\tbar.removeChild( scope.videoElement );\n\t\t\t\tscope.videoElement.dispose();\n\t\t\t\tscope.videoElement = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.container.appendChild( bar );\n\n\t\t// Mask events\n\t\tthis.mask.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n\t\tthis.mask.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n\t\tthis.mask.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n\t\tthis.mask.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', function ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tscope.mask.hide();\n\t\t\tscope.settingElement.deactivate();\n\n\t\t}, false );\n\n\t\t// Event listener\n\t\tthis.addEventListener( 'control-bar-toggle', bar.toggle );\n\n\t\tthis.barElement = bar;\n\n\t};\n\n\t/**\n\t * Create default menu\n\t */\n\tPANOLENS.Widget.prototype.createDefaultMenu = function () {\n\n\t\tvar scope = this, handler;\n\n\t\thandler = function ( method, data ) {\n\n\t\t\treturn function () {\n\n\t\t\t\tscope.dispatchEvent( { \n\n\t\t\t\t\ttype: 'panolens-viewer-handler', \n\t\t\t\t\tmethod: method, \n\t\t\t\t\tdata: data \n\n\t\t\t\t} ); \n\n\t\t\t}\n\n\t\t};\n\n\t\treturn [\n\n\t\t\t{ \n\t\t\t\ttitle: 'Control', \n\t\t\t\tsubMenu: [ \n\t\t\t\t\t{ \n\t\t\t\t\t\ttitle: this.TOUCH_ENABLED ? 'Touch' : 'Mouse', \n\t\t\t\t\t\thandler: handler( 'enableControl', PANOLENS.Controls.ORBIT )\n\t\t\t\t\t},\n\t\t\t\t\t{ \n\t\t\t\t\t\ttitle: 'Sensor', \n\t\t\t\t\t\thandler: handler( 'enableControl', PANOLENS.Controls.DEVICEORIENTATION ) \n\t\t\t\t\t} \n\t\t\t\t]\n\t\t\t},\n\n\t\t\t{ \n\t\t\t\ttitle: 'Mode', \n\t\t\t\tsubMenu: [ \n\t\t\t\t\t{ \n\t\t\t\t\t\ttitle: 'Normal',\n\t\t\t\t\t\thandler: handler( 'disableEffect' )\n\t\t\t\t\t}, \n\t\t\t\t\t{ \n\t\t\t\t\t\ttitle: 'Cardboard',\n\t\t\t\t\t\thandler: handler( 'enableEffect', PANOLENS.Modes.CARDBOARD )\n\t\t\t\t\t},\n\t\t\t\t\t{ \n\t\t\t\t\t\ttitle: 'Stereoscopic',\n\t\t\t\t\t\thandler: handler( 'enableEffect', PANOLENS.Modes.STEREO )\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\n\t\t];\n\n\t};\n\n\t/**\n\t * Add buttons on top of control bar\n\t * @param {string} name - The control button name to be created\n\t */\n\tPANOLENS.Widget.prototype.addControlButton = function ( name ) {\n\n\t\tvar element;\n\n\t\tswitch( name ) {\n\n\t\t\tcase 'fullscreen':\n\n\t\t\t\telement = this.createFullscreenButton();\n\t\t\t\tthis.fullscreenElement = element; \n\n\t\t\t\tbreak;\n\n\t\t\tcase 'setting':\n\n\t\t\t\telement = this.createSettingButton();\n\t\t\t\tthis.settingElement = element;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'video':\n\n\t\t\t\telement = this.createVideoControl();\n\t\t\t\tthis.videoElement = element;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\treturn;\n\n\t\t}\n\n\t\tif ( !element ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.barElement.appendChild( element );\n\n\t};\n\n\tPANOLENS.Widget.prototype.createMask = function () {\n\n\t\tvar element = document.createElement( 'div' );\n\t\telement.style.position = 'absolute';\n\t\telement.style.top = 0;\n\t\telement.style.left = 0;\n\t\telement.style.width = '100%';\n\t\telement.style.height = '100%';\n\t\telement.style.background = 'transparent';\n\t\telement.style.display = 'none';\n\n\t\telement.show = function () {\n\n\t\t\tthis.style.display = 'block';\n\n\t\t};\n\n\t\telement.hide = function () {\n\n\t\t\tthis.style.display = 'none';\n\n\t\t};\n\n\t\treturn element;\n\n\t};\n\n\t/**\n\t * Create Setting button to toggle menu\n\t */\n\tPANOLENS.Widget.prototype.createSettingButton = function () {\n\n\t\tvar scope = this, item;\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tscope.mainMenu.toggle();\n\n\t\t\tif ( this.activated ) {\n\t\n\t\t\t\tthis.deactivate();\n\n\t\t\t} else {\n\n\t\t\t\tthis.activate();\n\n\t\t\t}\n\n\t\t}\n\n\t\titem = this.createCustomItem( { \n\n\t\t\tstyle : { \n\n\t\t\t\tbackgroundImage : 'url(\"' + PANOLENS.DataImage.Setting + '\")',\n\t\t\t\twebkitTransition : this.DEFAULT_TRANSITION,\n\t\t\t\ttransition : this.DEFAULT_TRANSITION\n\n\t\t\t},\n\n\t\t\tonTap: onTap\n\n\t\t} );\n\n\t\titem.activate = function () {\n\n\t\t\tthis.style.transform = 'rotate3d(0,0,1,90deg)';\n\t\t\tthis.activated = true;\n\t\t\tscope.mask.show();\n\n\t\t};\n\n\t\titem.deactivate = function () {\n\n\t\t\tthis.style.transform = 'rotate3d(0,0,0,0)';\n\t\t\tthis.activated = false;\n\t\t\tscope.mask.hide();\n\n\t\t\tif ( scope.mainMenu && scope.mainMenu.visible ) {\n\n\t\t\t\tscope.mainMenu.hide();\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif ( scope.activeSubMenu && scope.activeSubMenu.visible ) {\n\n\t\t\t\tscope.activeSubMenu.hide();\n\n\t\t\t}\n\n\t\t\tif ( scope.mainMenu && scope.mainMenu._width ) {\n\n\t\t\t\tscope.mainMenu.changeSize( scope.mainMenu._width );\n\t\t\t\tscope.mainMenu.unslideAll();\n\n\t\t\t}\n\t\t\t\n\t\t};\n\n\t\titem.activated = false;\n\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create Fullscreen button\n\t * @return {HTMLSpanElement} - The dom element icon for fullscreen\n\t * @fires PANOLENS.Widget#panolens-viewer-handler\n\t */\n\tPANOLENS.Widget.prototype.createFullscreenButton = function () {\n\n\t\tvar scope = this, item, isFullscreen = false, tapSkipped = true, stylesheetId;\n\n\t\tstylesheetId = 'panolens-style-addon';\n\n\t\t// Don't create button if no support\n\t\tif ( !document.fullscreenEnabled       && \n\t\t\t !document.webkitFullscreenEnabled &&\n\t\t\t !document.mozFullScreenEnabled    &&\n\t\t\t !document.msFullscreenEnabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\ttapSkipped = false;\n\n\t\t\tif ( !isFullscreen ) {\n\t\t\t    scope.container.requestFullscreen && scope.container.requestFullscreen();\n\t\t\t    scope.container.msRequestFullscreen && scope.container.msRequestFullscreen();\n\t\t\t    scope.container.mozRequestFullScreen && scope.container.mozRequestFullScreen();\n\t\t\t    scope.container.webkitRequestFullscreen && scope.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t\tisFullscreen = true;\n\t\t\t} else {\n\t\t\t    document.exitFullscreen && document.exitFullscreen();\n\t\t\t    document.msExitFullscreen && document.msExitFullscreen();\n\t\t\t    document.mozCancelFullScreen && document.mozCancelFullScreen();\n\t\t\t    document.webkitExitFullscreen && document.webkitExitFullscreen();\n\t\t\t\tisFullscreen = false;\n\t\t\t}\n\n\t\t\tthis.style.backgroundImage = ( isFullscreen ) \n\t\t\t\t? 'url(\"' + PANOLENS.DataImage.FullscreenLeave + '\")' \n\t\t\t\t: 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")';\n\n\t\t}\n\n\t\tfunction onFullScreenChange (e) {\n\n\t\t\tif ( tapSkipped ) {\n\n\t\t\t\tisFullscreen = !isFullscreen; \n\n\t\t\t\titem.style.backgroundImage = ( isFullscreen ) \n\t\t\t\t? 'url(\"' + PANOLENS.DataImage.FullscreenLeave + '\")' \n\t\t\t\t: 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")';\n\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'onWindowResize' function call on PANOLENS.Viewer\n\t\t\t */\n\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'onWindowResize', data: false } );\n\n\t\t\ttapSkipped = true;\n\n\t\t}\n\n\t\tdocument.addEventListener( 'fullscreenchange', onFullScreenChange, false );\n\t\tdocument.addEventListener( 'webkitfullscreenchange', onFullScreenChange, false );\n\t\tdocument.addEventListener( 'mozfullscreenchange', onFullScreenChange, false );\n\t\tdocument.addEventListener( 'MSFullscreenChange', onFullScreenChange, false );\n\n\t\titem = this.createCustomItem( { \n\n\t\t\tstyle : { \n\n\t\t\t\tbackgroundImage : 'url(\"' + PANOLENS.DataImage.FullscreenEnter + '\")' \n\n\t\t\t},\n\n\t\t\tonTap : onTap\n\n\t\t} );\n\n\t\t// Add fullscreen stlye if not exists\n\t\tif ( !document.querySelector( stylesheetId ) ) {\n\t\t\tvar sheet = document.createElement( 'style' );\n\t\t\tsheet.id = stylesheetId;\n\t\t\tsheet.innerHTML = ':-webkit-full-screen { width: 100% !important; height: 100% !important }';\n\t\t\tdocument.body.appendChild( sheet );\n\t\t}\n\t\t\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create video control container\n\t * @return {HTMLSpanElement} - The dom element icon for video control\n\t */\n\tPANOLENS.Widget.prototype.createVideoControl = function () {\n\n\t\tvar item;\n\n\t\titem = document.createElement( 'span' );\n\t\titem.style.display = 'none';\n\t\titem.show = function () { \n\n\t\t\titem.style.display = '';\n\n\t\t};\n\n\t\titem.hide = function () { \n\n\t\t\titem.style.display = 'none';\n\t\t\titem.controlButton.paused = true;\n\t\t\titem.controlButton.update();\n\n\t\t};\n\n\t\titem.controlButton = this.createVideoControlButton();\n\t\titem.seekBar = this.createVideoControlSeekbar();\n\t\t\n\t\titem.appendChild( item.controlButton );\n\t\titem.appendChild( item.seekBar );\n\n\t\titem.dispose = function () {\n\n\t\t\titem.removeChild( item.controlButton );\n\t\t\titem.removeChild( item.seekBar );\n\n\t\t\titem.controlButton.dispose();\n\t\t\titem.controlButton = null;\n\n\t\t\titem.seekBar.dispose();\n\t\t\titem.seekBar = null;\n\n\t\t};\n\n\t\tthis.addEventListener( 'video-control-show', item.show );\n\t\tthis.addEventListener( 'video-control-hide', item.hide );\n\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create video control button\n\t * @return {HTMLSpanElement} - The dom element icon for video control\n\t * @fires PANOLENS.Widget#panolens-viewer-handler\n\t */\n\tPANOLENS.Widget.prototype.createVideoControlButton = function () {\n\n\t\tvar scope = this, item;\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'toggleVideoPlay' function call on PANOLENS.Viewer\n\t\t\t */\n\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'toggleVideoPlay', data: !this.paused } );\n\n\t\t\tthis.paused = !this.paused;\n\n\t\t\titem.update();\n\n\t\t};\n\n\t\titem = this.createCustomItem( { \n\n\t\t\tstyle : { \n\n\t\t\t\tfloat : 'left',\n\t\t\t\tbackgroundImage : 'url(\"' + PANOLENS.DataImage.VideoPlay + '\")'\n\n\t\t\t},\n\n\t\t\tonTap : onTap\n\n\t\t} );\n\n\t\titem.paused = true;\n\n\t\titem.update = function ( paused ) {\n\n\t\t\tthis.paused = paused !== undefined ? paused : this.paused;\n\n\t\t\tthis.style.backgroundImage = 'url(\"' + ( this.paused \n\t\t\t\t? PANOLENS.DataImage.VideoPlay \n\t\t\t\t: PANOLENS.DataImage.VideoPause ) + '\")';\n\n\t\t};\n\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create video seekbar\n\t * @return {HTMLSpanElement} - The dom element icon for video seekbar\n\t * @fires PANOLENS.Widget#panolens-viewer-handler\n\t */\n\tPANOLENS.Widget.prototype.createVideoControlSeekbar = function () {\n\n\t\tvar scope = this, item, progressElement, progressElementControl,\n\t\t\tisDragging = false, mouseX, percentageNow, percentageNext;\n\n\t\tprogressElement = document.createElement( 'div' );\n\t\tprogressElement.style.width = '0%';\n\t\tprogressElement.style.height = '100%';\n\t\tprogressElement.style.backgroundColor = '#fff';\n\n\t\tprogressElementControl = document.createElement( 'div' );\n\t\tprogressElementControl.style.float = 'right';\n\t\tprogressElementControl.style.width = '14px';\n\t\tprogressElementControl.style.height = '14px';\n\t\tprogressElementControl.style.transform = 'translate(7px, -5px)';\n\t\tprogressElementControl.style.borderRadius = '50%';\n\t\tprogressElementControl.style.backgroundColor = '#ddd';\n\n\t\tprogressElementControl.addEventListener( 'mousedown', onMouseDown, false );\n\t\tprogressElementControl.addEventListener( 'touchstart', onMouseDown, false );\n\n\t\tfunction onMouseDown ( event ) {\n\n\t\t\tevent.stopPropagation();\n\t\t\t\n\t\t\tisDragging = true;\n\t\t\t\n\t\t\tmouseX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\n\t\t\tpercentageNow = parseInt( progressElement.style.width ) / 100;\n\n\t\t\taddControlListeners();\n\t\t}\n\n\t\tfunction onVideoControlDrag ( event ) {\n\n\t\t\tvar clientX;\n\n\t\t\tif( isDragging ){\n\n\t\t\t\tclientX = event.clientX || ( event.changedTouches && event.changedTouches[0].clientX );\n\t\t\t\t\n\t\t\t\tpercentageNext = ( clientX - mouseX ) / item.clientWidth;\n\n\t\t\t\tpercentageNext = percentageNow + percentageNext;\n\n\t\t\t\tpercentageNext = percentageNext > 1 ? 1 : ( ( percentageNext < 0 ) ? 0 : percentageNext );\n\n\t\t\t\titem.setProgress ( percentageNext );\n\n\t\t\t\t/**\n\t\t\t\t * Viewer handler event\n\t\t\t\t * @type {object}\n\t\t\t\t * @property {string} method - 'setVideoCurrentTime' function call on PANOLENS.Viewer\n\t\t\t\t * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n\t\t\t\t */\n\t\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentageNext } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onVideoControlStop ( event ) {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tisDragging = false;\n\n\t\t\tremoveControlListeners();\n\n\t\t}\n\n\t\tfunction addControlListeners () {\n\n\t\t\tscope.container.addEventListener( 'mousemove', onVideoControlDrag, false );\n\t\t\tscope.container.addEventListener( 'mouseup', onVideoControlStop, false );\n\t\t\tscope.container.addEventListener( 'touchmove', onVideoControlDrag, false );\n\t\t\tscope.container.addEventListener( 'touchend', onVideoControlStop, false );\n\n\n\t\t}\n\n\t\tfunction removeControlListeners () {\n\n\t\t\tscope.container.removeEventListener( 'mousemove', onVideoControlDrag, false );\n\t\t\tscope.container.removeEventListener( 'mouseup', onVideoControlStop, false );\n\t\t\tscope.container.removeEventListener( 'touchmove', onVideoControlDrag, false );\n\t\t\tscope.container.removeEventListener( 'touchend', onVideoControlStop, false );\n\n\t\t}\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar percentage;\n\n\t\t\tif ( event.target === progressElementControl ) { return; }\n\n\t\t\tpercentage = ( event.changedTouches && event.changedTouches.length > 0 )\n\t\t\t\t? ( event.changedTouches[0].pageX - event.target.getBoundingClientRect().left ) / this.clientWidth\n\t\t\t\t: event.offsetX / this.clientWidth;\n\n\t\t\t/**\n\t\t\t * Viewer handler event\n\t\t\t * @type {object}\n\t\t\t * @property {string} method - 'setVideoCurrentTime' function call on PANOLENS.Viewer\n\t\t\t * @property {number} data - Percentage of current video. Range from 0.0 to 1.0\n\t\t\t */\n\t\t\tscope.dispatchEvent( { type: 'panolens-viewer-handler', method: 'setVideoCurrentTime', data: percentage } );\n\n\t\t\titem.setProgress( event.offsetX / this.clientWidth );\n\n\t\t};\n\n\t\tfunction onDispose () {\n\n\t\t\tremoveControlListeners();\n\t\t\tprogressElement = null;\n\t\t\tprogressElementControl = null;\n\n\t\t}\n\n\t\tprogressElement.appendChild( progressElementControl );\n\n\t\titem = this.createCustomItem( {\n\n\t\t\tstyle : { \n\n\t\t\t\tfloat : 'left',\n\t\t\t\twidth : '30%',\n\t\t\t\theight : '4px',\n\t\t\t\tmarginTop : '20px',\n\t\t\t\tbackgroundColor : 'rgba(188,188,188,0.8)'\n\n\t\t\t},\n\n\t\t\tonTap : onTap,\n\t\t\tonDispose: onDispose\n\n\t\t} );\n\n\t\titem.appendChild( progressElement );\n\n\t\titem.setProgress = function( percentage ) {\n\n\t\t\tprogressElement.style.width = percentage * 100 + '%';\n\n\t\t};\t\t\n\n\t\tthis.addEventListener( 'video-update', function ( event ) { \n\n\t\t\titem.setProgress( event.percentage ); \n\n\t\t} );\n\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create menu item\n\t * @param  {string} title - Title to display\n\t * @return {HTMLDomElement} - An anchor tag element\n\t */\n\tPANOLENS.Widget.prototype.createMenuItem = function ( title ) {\n\n\t\tvar scope = this, item = document.createElement( 'a' );\n\t\titem.textContent = title;\n\t\titem.style.display = 'block';\n\t\titem.style.padding = '10px';\n\t\titem.style.textDecoration = 'none';\n\t\titem.style.cursor = 'pointer';\n\t\titem.style.pointerEvents = 'auto';\n\t\titem.style.transition = this.DEFAULT_TRANSITION;\n\n\t\titem.slide = function ( right ) {\n\n\t\t\tthis.style.transform = 'translateX(' + ( right ? '' : '-' ) + '100%)';\n\n\t\t};\n\n\t\titem.unslide = function () {\n\n\t\t\tthis.style.transform = 'translateX(0)';\n\n\t\t};\n\n\t\titem.setIcon = function ( url ) {\n\n\t\t\tif ( this.icon ) {\n\n\t\t\t\tthis.icon.style.backgroundImage = 'url(' + url + ')';\n\n\t\t\t}\n\n\t\t};\n\n\t\titem.setSelectionTitle = function ( title ) {\n\n\t\t\tif ( this.selection ) {\n\n\t\t\t\tthis.selection.textContent = title;\n\n\t\t\t}\n\n\t\t};\n\n\t\titem.addSelection = function ( name ) {\n\t\t\t\n\t\t\tvar selection = document.createElement( 'span' );\n\t\t\tselection.style.fontSize = '13px';\n\t\t\tselection.style.fontWeight = '300';\n\t\t\tselection.style.float = 'right';\n\n\t\t\tthis.selection = selection;\n\t\t\tthis.setSelectionTitle( name );\n\t\t\tthis.appendChild( selection );\n\t\t\t\n\t\t\treturn this;\n\n\t\t};\n\n\t\titem.addIcon = function ( url, left, flip ) {\n\n\t\t\turl = url || PANOLENS.DataImage.ChevronRight;\n\t\t\tleft = left || false;\n\t\t\tflip = flip || false;\n\t\t\t\n\t\t\tvar element = document.createElement( 'span' );\n\t\t\telement.style.float = left ? 'left' : 'right';\n\t\t\telement.style.width = '17px';\n\t\t\telement.style.height = '17px';\n\t\t\telement.style[ 'margin' + ( left ? 'Right' : 'Left' ) ] = '12px';\n\t\t\telement.style.backgroundSize = 'cover';\n\n\t\t\tif ( flip ) {\n\n\t\t\t\telement.style.transform = 'rotateZ(180deg)';\n\n\t\t\t}\n\n\t\t\tthis.icon = element;\n\t\t\tthis.setIcon( url );\n\t\t\tthis.appendChild( element );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\titem.addSubMenu = function ( title, items ) {\n\n\t\t\tthis.subMenu = scope.createSubMenu( title, items );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\titem.addEventListener( 'mouseenter', function () {\n\t\t\t\n\t\t\tthis.style.backgroundColor = '#e0e0e0';\n\n\t\t}, false );\n\n\t\titem.addEventListener( 'mouseleave', function () {\n\t\t\t\n\t\t\tthis.style.backgroundColor = '#fafafa';\n\n\t\t}, false );\n\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Create menu item header\n\t * @param  {string} title - Title to display\n\t * @return {HTMLDomElement} - An anchor tag element\n\t */\n\tPANOLENS.Widget.prototype.createMenuItemHeader = function ( title ) {\n\n\t\tvar header = this.createMenuItem( title );\n\n\t\theader.style.borderBottom = '1px solid #333';\n\t\theader.style.paddingBottom = '15px';\n\n\t\treturn header;\n\n\t};\n\n\t/**\n\t * Create main menu\n\t * @param  {array} menus - Menu array list\n\t * @return {HTMLDomElement} - A span element\n\t */\n\tPANOLENS.Widget.prototype.createMainMenu = function ( menus ) {\n\t\t\n\t\tvar scope = this, menu = this.createMenu(), subMenu;\n\n\t\tmenu._width = 200;\n\t\tmenu.changeSize( menu._width );\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar mainMenu = scope.mainMenu, subMenu = this.subMenu;\n\n\t\t\tfunction onNextTick () {\n\n\t\t\t\tmainMenu.changeSize( subMenu.clientWidth );\n\t\t\t\tsubMenu.show();\n\t\t\t\tsubMenu.unslideAll();\n\n\t\t\t}\n\n\t\t\tmainMenu.hide();\n\t\t\tmainMenu.slideAll();\n\t\t\tmainMenu.parentElement.appendChild( subMenu );\n\n\t\t\tscope.activeMainItem = this;\n\t\t\tscope.activeSubMenu = subMenu;\n\n\t\t\twindow.requestAnimationFrame( onNextTick );\n\n\t\t};\n\n\t\tfor ( var i = 0; i < menus.length; i++ ) {\n\n\t\t\tvar item = menu.addItem( menus[ i ].title );\n\n\t\t\titem.style.paddingLeft = '20px';\n\n\t\t\titem.addIcon()\n\t\t\t\t.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n\t\t\tif ( menus[ i ].subMenu && menus[ i ].subMenu.length > 0 ) {\n\n\t\t\t\tvar title = menus[ i ].subMenu[ 0 ].title;\n\n\t\t\t\titem.addSelection( title )\n\t\t\t\t\t.addSubMenu( menus[ i ].title, menus[ i ].subMenu );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn menu;\n\n\t};\n\n\t/**\n\t * Create sub menu\n\t * @param {string} title - Sub menu title\n\t * @param {array} items - Item array list\n\t * @return {HTMLDomElement} - A span element\n\t */\n\tPANOLENS.Widget.prototype.createSubMenu = function ( title, items ) {\n\n\t\tvar scope = this, menu, subMenu = this.createMenu();\n\n\t\tsubMenu.items = items;\n\t\tsubMenu.activeItem;\n\n\t\tfunction onTap ( event ) {\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tmenu = scope.mainMenu;\n\t\t\tmenu.changeSize( menu._width );\n\t\t\tmenu.unslideAll();\n\t\t\tmenu.show();\n\t\t\tsubMenu.slideAll( true );\n\t\t\tsubMenu.hide();\n\n\t\t\tif ( this.type !== 'header' ) {\n\n\t\t\t\tsubMenu.setActiveItem( this );\n\t\t\t\tscope.activeMainItem.setSelectionTitle( this.textContent );\n\n\t\t\t\tthis.handler && this.handler();\n\n\t\t\t}\n\n\t\t}\n\n\t\tsubMenu.addHeader( title ).addIcon( undefined, true, true ).addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n\t\tfor ( var i = 0; i < items.length; i++ ) {\n\n\t\t\tvar item = subMenu.addItem( items[ i ].title );\n\n\t\t\titem.style.fontWeight = 300;\n\t\t\titem.handler = items[ i ].handler;\n\t\t\titem.addIcon( ' ', true );\n\t\t\titem.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', onTap, false );\n\n\t\t\tif ( !subMenu.activeItem ) {\n\n\t\t\t\tsubMenu.setActiveItem( item );\n\n\t\t\t}\n\n\t\t}\n\n\t\tsubMenu.slideAll( true );\n\n\t\treturn subMenu;\n\t\t\n\t};\n\n\t/**\n\t * Create general menu\n\t * @return {HTMLDomElement} - A span element\n\t */\n\tPANOLENS.Widget.prototype.createMenu = function () {\n\n\t\tvar scope = this, menu = document.createElement( 'span' ), style;\n\n\t\tstyle = menu.style;\n\n\t\tstyle.padding = '5px 0';\n\t\tstyle.position = 'fixed';\n\t\tstyle.bottom = '100%';\n\t\tstyle.right = '14px';\n\t\tstyle.backgroundColor = '#fafafa';\n\t\tstyle.fontFamily = 'Helvetica Neue';\n\t\tstyle.fontSize = '14px';\n\t\tstyle.visibility = 'hidden';\n\t\tstyle.opacity = 0;\n\t\tstyle.boxShadow = '0 0 12pt rgba(0,0,0,0.25)';\n  \t\tstyle.borderRadius = '2px';\n\t\tstyle.overflow = 'hidden';\n\t\tstyle.willChange = 'width, height, opacity';\n\t\tstyle.pointerEvents = 'auto';\n\t\tstyle.transition = this.DEFAULT_TRANSITION;\n\n\t\tmenu.visible = false;\n\n\t\tmenu.changeSize = function ( width, height ) {\n\n\t\t\tif ( width ) {\n\n\t\t\t\tthis.style.width = width + 'px';\n\n\t\t\t}\n\n\t\t\tif ( height ) {\n\n\t\t\t\tthis.style.height = height + 'px';\n\n\t\t\t}\n\n\t\t};\n\n\t\tmenu.show = function () {\n\n\t\t\tthis.style.opacity = 1;\n\t\t\tthis.style.visibility = 'visible';\n\t\t\tthis.visible = true;\n\n\t\t};\n\n\t\tmenu.hide = function () {\n\n\t\t\tthis.style.opacity = 0;\n\t\t\tthis.style.visibility = 'hidden';\n\t\t\tthis.visible = false;\n\n\t\t};\n\n\t\tmenu.toggle = function () {\n\n\t\t\tif ( this.visible ) {\n\n\t\t\t\tthis.hide();\n\n\t\t\t} else {\n\n\t\t\t\tthis.show();\n\n\t\t\t}\n\n\t\t};\n\n\t\tmenu.slideAll = function ( right ) {\n\n\t\t\tfor ( var i = 0; i < menu.children.length; i++ ){\n\n\t\t\t\tif ( menu.children[ i ].slide ) {\n\n\t\t\t\t\tmenu.children[ i ].slide( right );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tmenu.unslideAll = function () {\n\n\t\t\tfor ( var i = 0; i < menu.children.length; i++ ){\n\n\t\t\t\tif ( menu.children[ i ].unslide ) {\n\n\t\t\t\t\tmenu.children[ i ].unslide();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tmenu.addHeader = function ( title ) {\n\n\t\t\tvar header = scope.createMenuItemHeader( title );\n\t\t\theader.type = 'header';\n\n\t\t\tthis.appendChild( header );\n\n\t\t\treturn header;\n\n\t\t};\n\n\t\tmenu.addItem = function ( title ) {\n\n\t\t\tvar item = scope.createMenuItem( title );\n\t\t\titem.type = 'item';\n\n\t\t\tthis.appendChild( item );\n\n\t\t\treturn item;\n\n\t\t};\n\n\t\tmenu.setActiveItem = function ( item ) {\n\n\t\t\tif ( this.activeItem ) {\n\n\t\t\t\tthis.activeItem.setIcon( ' ' );\n\n\t\t\t}\n\n\t\t\titem.setIcon( PANOLENS.DataImage.Check );\n\n\t\t\tthis.activeItem = item;\n\n\t\t};\n\n\t\tmenu.addEventListener( 'mousemove', this.PREVENT_EVENT_HANDLER, true );\n\t\tmenu.addEventListener( 'mouseup', this.PREVENT_EVENT_HANDLER, true );\n\t\tmenu.addEventListener( 'mousedown', this.PREVENT_EVENT_HANDLER, true );\n\n\t\treturn menu;\n\n\t};\n\n\t/**\n\t * Create custom item element\n\t * @return {HTMLSpanElement} - The dom element icon\n\t */\n\tPANOLENS.Widget.prototype.createCustomItem = function ( options ) {\n\n\t\toptions = options || {};\n\n\t\tvar scope = this,\n\t\t\titem = options.element || document.createElement( 'span' );\n\n\t\titem.style.cursor = 'pointer';\n\t\titem.style.float = 'right';\n\t\titem.style.width = '44px';\n\t\titem.style.height = '100%';\n\t\titem.style.backgroundSize = '60%';\n\t\titem.style.backgroundRepeat = 'no-repeat';\n\t\titem.style.backgroundPosition = 'center';\n\t\titem.style.webkitUserSelect = \n\t\titem.style.MozUserSelect = \n\t\titem.style.userSelect = 'none';\n\t\titem.style.position = 'relative';\n\t\titem.style.pointerEvents = 'auto';\n\n\t\t// White glow on icon\n\t\titem.addEventListener( scope.TOUCH_ENABLED ? 'touchstart' : 'mouseenter', function() {\n\t\t\titem.style.filter = \n\t\t\titem.style.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n\t\t});\n\t\titem.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'mouseleave', function() {\n\t\t\titem.style.filter = \n\t\t\titem.style.webkitFilter = '';\n\t\t});\n\n\t\titem = this.mergeStyleOptions( item, options.style );\n\n\t\tif ( options.onTap ) {\n\n\t\t\titem.addEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n\t\t}\n\n\t\titem.dispose = function () {\n\n\t\t\titem.removeEventListener( scope.TOUCH_ENABLED ? 'touchend' : 'click', options.onTap, false );\n\n\t\t\toptions.onDispose && options.onDispose();\n\n\t\t};\n\t\t\n\t\treturn item;\n\n\t};\n\n\t/**\n\t * Merge item css style\n\t * @param  {HTMLDOMElement} element - The element to be merged with style\n\t * @param  {object} options - The style options\n\t * @return {HTMLDOMElement} - The same element with merged styles\n\t */\n\tPANOLENS.Widget.prototype.mergeStyleOptions = function ( element, options ) {\n\n\t\toptions = options || {};\n\n\t\tfor ( var property in options ){\n\n\t\t\tif ( options.hasOwnProperty( property ) ) {\n\n\t\t\t\telement.style[ property ] = options[ property ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn element;\n\n\t};\n\n\t/**\n\t * Dispose widgets by detaching dom elements from container\n\t */\n\tPANOLENS.Widget.prototype.dispose = function () {\n\n\t\tif ( this.barElement ) {\n\t\t\tthis.container.removeChild( this.barElement );\n\t\t\tthis.barElement.dispose();\n\t\t\tthis.barElement = null;\n\n\t\t}\n\n\t};\n\n})();;( function () {\n\n\t/**\n\t * Information spot attached to panorama\n\t * @constructor\n\t * @param {number} [scale=300] - Infospot scale\n\t * @param {imageSrc} [imageSrc=PANOLENS.DataImage.Info] - Image overlay info\n\t * @param {boolean} [animated=true] - Enable default hover animation\n\t */\n\tPANOLENS.Infospot = function ( scale, imageSrc, animated ) {\n\t\t\n\t\tvar scope = this, ratio, startScale, endScale, duration;\n\n\t\tscale = scale || 300;\n\t\timageSrc = imageSrc || PANOLENS.DataImage.Info;\n\t\tduration = 500;\n\n\t\tTHREE.Sprite.call( this );\n\n\t\tthis.type = 'infospot';\n\n\t\tthis.animated = animated !== undefined ? animated : true;\n\t\tthis.isHovering = false;\n\t\tthis.visible = false;\n\n\t\tthis.element;\n\t\tthis.toPanorama;\n\t\tthis.cursorStyle;\n\n\t\tthis.mode = PANOLENS.Modes.UNKNOWN;\n\n\t\tthis.scale.set( scale, scale, 1 );\n\t\tthis.rotation.y = Math.PI;\n\t\tthis.scaleFactor = 1.3;\n\n\t\tthis.container;\n\n\t\t// Event Handler\n\t\tthis.HANDLER_FOCUS;\n\n\t\tPANOLENS.Utils.TextureLoader.load( imageSrc, postLoad );\t\t\n\n\t\tfunction postLoad ( texture ) {\n\n\t\t\ttexture.wrapS = THREE.RepeatWrapping;\n\t\t\ttexture.repeat.x = - 1;\n\n\t\t\ttexture.image.width = texture.image.naturalWidth || 64;\n\t\t\ttexture.image.height = texture.image.naturalHeight || 64;\n\n\t\t\tratio = texture.image.width / texture.image.height;\n\t\t\tscope.scale.set( ratio * scale, scale, 1 );\n\n\t\t\tstartScale = scope.scale.clone();\n\n\t\t\tscope.scaleUpAnimation = new TWEEN.Tween( scope.scale )\n\t\t\t\t.to( { x: startScale.x * scope.scaleFactor, y: startScale.y * scope.scaleFactor }, duration )\n\t\t\t\t.easing( TWEEN.Easing.Elastic.Out );\n\n\t\t\tscope.scaleDownAnimation = new TWEEN.Tween( scope.scale )\n\t\t\t\t.to( { x: startScale.x, y: startScale.y }, duration )\n\t\t\t\t.easing( TWEEN.Easing.Elastic.Out );\n\n\t\t\tscope.material.side = THREE.DoubleSide;\n\t\t\tscope.material.map = texture;\n\t\t\tscope.material.depthTest = false;\n\t\t\tscope.material.needsUpdate = true;\n\n\t\t}\n\n\t\tfunction show () {\n\n\t\t\tthis.visible = true;\n\n\t\t}\n\n\t\tfunction hide () {\n\n\t\t\tthis.visible = false;\n\n\t\t}\n\n\t\t// Add show and hide animations\n\t\tthis.showAnimation = new TWEEN.Tween( this.material )\n\t\t\t.to( { opacity: 1 }, duration )\n\t\t\t.onStart( show.bind( this ) )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out );\n\n\t\tthis.hideAnimation = new TWEEN.Tween( this.material )\n\t\t\t.to( { opacity: 0 }, duration )\n\t\t\t.onComplete( hide.bind( this ) )\n\t\t\t.easing( TWEEN.Easing.Quartic.Out );\n\n\t\t// Attach event listeners\n\t\tthis.addEventListener( 'click', this.onClick );\n\t\tthis.addEventListener( 'hover', this.onHover );\n\t\tthis.addEventListener( 'hoverenter', this.onHoverStart );\n\t\tthis.addEventListener( 'hoverleave', this.onHoverEnd );\n\t\tthis.addEventListener( 'panolens-dual-eye-effect', this.onDualEyeEffect );\n\t\tthis.addEventListener( 'panolens-container', this.setContainer.bind( this ) );\n\t\tthis.addEventListener( 'dismiss', this.onDismiss );\n\t\tthis.addEventListener( 'panolens-infospot-focus', this.setFocusMethod );\n\n\t};\n\n\tPANOLENS.Infospot.prototype = Object.create( THREE.Sprite.prototype );\n\n\t/**\n\t * Set infospot container\n\t * @param {HTMLElement|object} data - Data with container information\n\t */\n\tPANOLENS.Infospot.prototype.setContainer = function ( data ) {\n\n\t\tvar container;\n\n\t\tif ( data instanceof HTMLElement ) {\n\n\t\t\tcontainer = data;\n\n\t\t} else if ( data && data.container ) {\n\n\t\t\tcontainer = data.container;\n\n\t\t}\n\n\t\t// Append element if exists\n\t\tif ( container && this.element ) {\n\n\t\t\tcontainer.appendChild( this.element );\n\n\t\t}\n\n\t\tthis.container = container;\n\n\t};\n\n\t/**\n\t * Get container\n\t * @return {HTMLElement} - The container of this infospot\n\t */\n\tPANOLENS.Infospot.prototype.getContainer = function () {\n\n\t\treturn this.container;\n\n\t};\n\n\t/**\n\t * This will be called by a click event\n\t * Translate and lock the hovering element if any\n\t * @param  {object} event - Event containing mouseEvent with clientX and clientY\n\t */\n\tPANOLENS.Infospot.prototype.onClick = function ( event ) {\n\n\t\tif ( this.element && this.getContainer() ) {\n\n\t\t\tthis.onHoverStart( event );\n\n\t\t\t// Lock element\n\t\t\tthis.lockHoverElement();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Dismiss current element if any\n\t * @param  {object} event - Dismiss event\n\t */\n\tPANOLENS.Infospot.prototype.onDismiss = function ( event ) {\n\n\t\tif ( this.element ) {\n\n\t\t\tthis.unlockHoverElement();\n\t\t\tthis.onHoverEnd();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * This will be called by a mouse hover event\n\t * Translate the hovering element if any\n\t * @param  {object} event - Event containing mouseEvent with clientX and clientY\n\t */\n\tPANOLENS.Infospot.prototype.onHover = function ( event ) {\n\n\t};\n\n\t/**\n\t * This will be called on a mouse hover start\n\t * Sets cursor style to 'pointer', display the element and scale up the infospot\n\t */\n\tPANOLENS.Infospot.prototype.onHoverStart = function ( event ) {\n\n\t\tif ( !this.getContainer() ) { return; }\n\n\t\tvar cursorStyle = this.cursorStyle || ( this.mode === PANOLENS.Modes.NORMAL ? 'pointer' : 'default' );\n\n\t\tthis.isHovering = true;\n\t\tthis.container.style.cursor = cursorStyle;\n\t\t\n\t\tif ( this.animated ) {\n\n\t\t\tthis.scaleDownAnimation && this.scaleDownAnimation.stop();\n\t\t\tthis.scaleUpAnimation && this.scaleUpAnimation.start();\n\n\t\t}\n\t\t\n\t\tif ( this.element && event.mouseEvent.clientX >= 0 && event.mouseEvent.clientY >= 0 ) {\n\n\t\t\tif ( this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO ) {\n\n\t\t\t\tthis.element.style.display = 'none';\n\t\t\t\tthis.element.left && ( this.element.left.style.display = 'block' );\n\t\t\t\tthis.element.right && ( this.element.right.style.display = 'block' );\n\n\t\t\t\t// Store element width for reference\n\t\t\t\tthis.element._width = this.element.left.clientWidth;\n\t\t\t\tthis.element._height = this.element.left.clientHeight;\n\n\t\t\t} else {\n\n\t\t\t\tthis.element.style.display = 'block';\n\t\t\t\tthis.element.left && ( this.element.left.style.display = 'none' );\n\t\t\t\tthis.element.right && ( this.element.right.style.display = 'none' );\n\n\t\t\t\t// Store element width for reference\n\t\t\t\tthis.element._width = this.element.clientWidth;\n\t\t\t\tthis.element._height = this.element.clientHeight;\n\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t};\n\n\t/**\n\t * This will be called on a mouse hover end\n\t * Sets cursor style to 'default', hide the element and scale down the infospot\n\t */\n\tPANOLENS.Infospot.prototype.onHoverEnd = function () {\n\n\t\tif ( !this.getContainer() ) { return; }\n\n\t\tthis.isHovering = false;\n\t\tthis.container.style.cursor = 'default';\n\n\t\tif ( this.animated ) {\n\n\t\t\tthis.scaleUpAnimation && this.scaleUpAnimation.stop();\n\t\t\tthis.scaleDownAnimation && this.scaleDownAnimation.start();\n\n\t\t}\n\n\t\tif ( this.element && !this.element.locked ) {\n\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.left && ( this.element.left.style.display = 'none' );\n\t\t\tthis.element.right && ( this.element.right.style.display = 'none' );\n\n\t\t\tthis.unlockHoverElement();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * On dual eye effect handler\n\t * Creates duplicate left and right element\n\t * @param  {object} event - panolens-dual-eye-effect event\n\t */\n\tPANOLENS.Infospot.prototype.onDualEyeEffect = function ( event ) {\n\t\t\n\t\tif ( !this.getContainer() ) { return; }\n\n\t\tvar element, halfWidth, halfHeight;\n\n\t\tthis.mode = event.mode;\n\n\t\telement = this.element;\n\n\t\thalfWidth = this.container.clientWidth / 2;\n\t\thalfHeight = this.container.clientHeight / 2;\n\n\t\tif ( !element ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( !element.left || !element.right ) {\n\n\t\t\telement.left = element.cloneNode( true );\n\t\t\telement.right = element.cloneNode( true );\n\n\t\t}\n\n\t\tif ( this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO ) {\n\n\t\t\telement.left.style.display = element.style.display;\n\t\t\telement.right.style.display = element.style.display;\n\t\t\telement.style.display = 'none';\n\n\t\t} else {\n\n\t\t\telement.style.display = element.left.style.display;\n\t\t\telement.left.style.display = 'none';\n\t\t\telement.right.style.display = 'none';\n\n\t\t}\n\n\t\t// Update elements translation\n\t\tthis.translateElement( halfWidth, halfHeight );\n\n\t\tthis.container.appendChild( element.left );\n\t\tthis.container.appendChild( element.right );\n\n\t};\n\n\t/**\n\t * Translate the hovering element by css transform\n\t * @param  {number} x - X position on the window screen\n\t * @param  {number} y - Y position on the window screen\n\t */\n\tPANOLENS.Infospot.prototype.translateElement = function ( x, y ) {\n\n\t\tif ( !this.element._width || !this.element._height || !this.getContainer() ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar left, top, element, width, height, delta, container;\n\n\t\tcontainer = this.container;\n\t\telement = this.element;\n\t\twidth = element._width / 2;\n\t\theight = element._height / 2;\n\t\tdelta = element.verticalDelta !== undefined ? element.verticalDelta : 40;\n\n\t\tleft = x - width;\n\t\ttop = y - height - delta;\n\n\t\tif ( ( this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO ) \n\t\t\t\t&& element.left && element.right\n\t\t\t\t&& !( x === container.clientWidth / 2 && y === container.clientHeight / 2 ) ) {\n\n\t\t\tleft = container.clientWidth / 4 - width + ( x - container.clientWidth / 2 );\n\t\t\ttop = container.clientHeight / 2 - height - delta + ( y - container.clientHeight / 2 );\n\n\t\t\tthis.setElementStyle( 'transform', element.left, 'translate(' + left + 'px, ' + top + 'px)' );\n\n\t\t\tleft += container.clientWidth / 2;\n\n\t\t\tthis.setElementStyle( 'transform', element.right, 'translate(' + left + 'px, ' + top + 'px)' );\n\n\t\t} else {\n\n\t\t\tthis.setElementStyle( 'transform', element, 'translate(' + left + 'px, ' + top + 'px)' );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set vendor specific css\n\t * @param {string} type - CSS style name\n\t * @param {HTMLElement} element - The element to be modified\n\t * @param {string} value - Style value\n\t */\n\tPANOLENS.Infospot.prototype.setElementStyle = function ( type, element, value ) {\n\n\t\tvar style = element.style;\n\n\t\tif ( type === 'transform' ) {\n\n\t\t\tstyle.webkitTransform = style.msTransform = style.transform = value;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set hovering text content\n\t * @param {string} text - Text to be displayed\n\t */\n\tPANOLENS.Infospot.prototype.setText = function ( text ) {\n\n\t\tif ( this.element ) {\n\n\t\t\tthis.element.textContent = text;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set cursor css style on hover\n\t */\n\tPANOLENS.Infospot.prototype.setCursorHoverStyle = function ( style ) {\n\n\t\tthis.cursorStyle = style;\n\n\t};\n\n\t/**\n\t * Add hovering text element\n\t * @param {string} text - Text to be displayed\n\t * @param {number} [delta=40] - Vertical delta to the infospot\n\t */\n\tPANOLENS.Infospot.prototype.addHoverText = function ( text, delta ) {\n\n\t\tif ( !this.element ) {\n\n\t\t\tthis.element = document.createElement( 'div' );\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.style.color = '#fff';\n\t\t\tthis.element.style.top = 0;\n\t\t\tthis.element.style.maxWidth = '50%';\n\t\t\tthis.element.style.maxHeight = '50%';\n\t\t\tthis.element.style.textShadow = '0 0 3px #000000';\n\t\t\tthis.element.style.fontFamily = '\"Trebuchet MS\", Helvetica, sans-serif';\n\t\t\tthis.element.style.position = 'absolute';\n\t\t\tthis.element.classList.add( 'panolens-infospot' );\n\t\t\tthis.element.verticalDelta = delta !== undefined ? delta : 40;\n\n\t\t}\n\n\t\tthis.setText( text );\n\n\t};\n\n\t/**\n\t * Add hovering element by cloning an element\n\t * @param {HTMLDOMElement} el - Element to be cloned and displayed\n\t * @param {number} [delta=40] - Vertical delta to the infospot\n\t */\n\tPANOLENS.Infospot.prototype.addHoverElement = function ( el, delta ) {\n\n\t\tif ( !this.element ) { \n\n\t\t\tthis.element = el.cloneNode( true );\n\t\t\tthis.element.style.display = 'none';\n\t\t\tthis.element.style.top = 0;\n\t\t\tthis.element.style.position = 'absolute';\n\t\t\tthis.element.classList.add( 'panolens-infospot' );\n\t\t\tthis.element.verticalDelta = delta !== undefined ? delta : 40;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Remove hovering element\n\t */\n\tPANOLENS.Infospot.prototype.removeHoverElement = function () {\n\n\t\tif ( this.element ) { \n\n\t\t\tif ( this.element.left ) {\n\n\t\t\t\tthis.container.removeChild( this.element.left );\n\t\t\t\tthis.element.left = null;\n\n\t\t\t}\n\n\t\t\tif ( this.element.right ) {\n\n\t\t\t\tthis.container.removeChild( this.element.right );\n\t\t\t\tthis.element.right = null;\n\n\t\t\t}\n\n\t\t\tthis.container.removeChild( this.element );\n\t\t\tthis.element = null;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Lock hovering element\n\t */\n\tPANOLENS.Infospot.prototype.lockHoverElement = function () {\n\n\t\tif ( this.element ) { \n\n\t\t\tthis.element.locked = true;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Unlock hovering element\n\t */\n\tPANOLENS.Infospot.prototype.unlockHoverElement = function () {\n\n\t\tif ( this.element ) { \n\n\t\t\tthis.element.locked = false;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Show infospot\n\t * @param  {number} [delay=0] - Delay time to show\n\t */\n\tPANOLENS.Infospot.prototype.show = function ( delay ) {\n\n\t\tdelay = delay || 0;\n\n\t\tif ( this.animated ) {\n\n\t\t\tthis.hideAnimation && this.hideAnimation.stop();\n\t\t\tthis.showAnimation && this.showAnimation.delay( delay ).start();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Hide infospot\n\t * @param  {number} [delay=0] - Delay time to hide\n\t */\n\tPANOLENS.Infospot.prototype.hide = function ( delay ) {\n\n\t\tdelay = delay || 0;\n\n\t\tif ( this.animated ) {\n\n\t\t\tthis.showAnimation && this.showAnimation.stop();\n\t\t\tthis.hideAnimation && this.hideAnimation.delay( delay ).start();\n\n\t\t}\n\t\t\n\t\t\n\t};\n\n\t/**\n\t * Set focus event handler\n\t */\n\tPANOLENS.Infospot.prototype.setFocusMethod = function ( event ) {\n\n\t\tif ( event ) {\n\n\t\t\tthis.HANDLER_FOCUS = event.method;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Focus camera center to this infospot\n\t * @param {number} [duration=1000] - Duration to tween\n\t * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n\t */\n\tPANOLENS.Infospot.prototype.focus = function ( duration, easing ) {\n\n\t\tif ( this.HANDLER_FOCUS ) {\n\n\t\t\tthis.HANDLER_FOCUS( this.position, duration, easing );\n\t\t\tthis.onDismiss();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Dispose infospot\n\t */\n\tPANOLENS.Infospot.prototype.dispose = function () {\n\n\t\tthis.removeHoverElement();\n\t\tthis.material.dispose();\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.remove( this );\n\n\t\t}\n\n\t};\n\n} )();;( function () {\n\n\t'use strict';\n\n\t/**\n\t * Viewer contains pre-defined scene, camera and renderer\n\t * @constructor\n\t * @param {object} [options] - Use custom or default config options\n\t * @param {HTMLElement} [options.container] - A HTMLElement to host the canvas\n\t * @param {THREE.Scene} [options.scene=THREE.Scene] - A THREE.Scene which contains panorama and 3D objects\n\t * @param {THREE.Camera} [options.camera=THREE.PerspectiveCamera] - A THREE.Camera to view the scene\n\t * @param {THREE.WebGLRenderer} [options.renderer=THREE.WebGLRenderer] - A THREE.WebGLRenderer to render canvas\n\t * @param {boolean} [options.controlBar=true] - Show/hide control bar on the bottom of the container\n\t * @param {array}   [options.controlButtons=[]] - Button names to mount on controlBar if controlBar exists, Defaults to ['fullscreen', 'setting', 'video']\n\t * @param {boolean} [options.autoHideControlBar=false] - Auto hide control bar when click on non-active area\n\t * @param {boolean} [options.autoHideInfospot=true] - Auto hide infospots when click on non-active area\n\t * @param {boolean} [options.horizontalView=false] - Allow only horizontal camera control\n\t * @param {number}  [options.clickTolerance=10] - Distance tolerance to tigger click / tap event\n\t * @param {number}  [options.cameraFov=60] - Camera field of view value\n\t * @param {boolean} [options.reverseDragging=false] - Reverse dragging direction\n\t * @param {boolean} [options.enableReticle=false] - Enable reticle for mouseless interaction other than VR mode\n\t * @param {number}  [options.dwellTime=1500] - Dwell time for reticle selection\n\t * @param {boolean} [options.autoReticleSelect=true] - Auto select a clickable target after dwellTime\n\t * @param {boolean} [options.viewIndicator=false] - Adds an angle view indicator in upper left corner\n\t * @param {number}  [options.indicatorSize=30] - Size of View Indicator\n\t * @param {string}  [options.output='none'] - Whether and where to output raycast position. Could be 'console' or 'overlay'\n\t */\n\tPANOLENS.Viewer = function ( options ) {\n\n\t\tTHREE.EventDispatcher.call( this );\n\n\t\tif ( !THREE ) {\n\n\t\t\tconsole.error('Three.JS not found');\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar container;\n\n\t\toptions = options || {};\n\t\toptions.controlBar = options.controlBar !== undefined ? options.controlBar : true;\n\t\toptions.controlButtons = options.controlButtons || [ 'fullscreen', 'setting', 'video' ];\n\t\toptions.autoHideControlBar = options.autoHideControlBar !== undefined ? options.autoHideControlBar : false;\n\t\toptions.autoHideInfospot = options.autoHideInfospot !== undefined ? options.autoHideInfospot : true;\n\t\toptions.horizontalView = options.horizontalView !== undefined ? options.horizontalView : false;\n\t\toptions.clickTolerance = options.clickTolerance || 10;\n\t\toptions.cameraFov = options.cameraFov || 60;\n\t\toptions.reverseDragging = options.reverseDragging || false;\n\t\toptions.enableReticle = options.enableReticle || false;\n\t\toptions.dwellTime = options.dwellTime || 1500;\n\t\toptions.autoReticleSelect = options.autoReticleSelect !== undefined ? options.autoReticleSelect : true;\n\t\toptions.viewIndicator = options.viewIndicator !== undefined ? options.viewIndicator : false;\n\t\toptions.indicatorSize = options.indicatorSize || 30;\n\t\toptions.output = options.output ? options.output : 'none';\n\n\t\tthis.options = options;\n\n\t\t// Container\n\t\tif ( options.container ) {\n\n\t\t\tcontainer = options.container;\n\t\t\tcontainer._width = container.clientWidth;\n\t\t\tcontainer._height = container.clientHeight;\n\n\t\t} else {\n\n\t\t\tcontainer = document.createElement( 'div' );\n\t\t\tcontainer.classList.add( 'panolens-container' );\n\t\t\tcontainer.style.width = '100%';\n\t\t\tcontainer.style.height = '100%';\n\t\t\tcontainer._width = window.innerWidth;\n\t\t\tcontainer._height = window.innerHeight;\n\t\t\tdocument.body.appendChild( container );\n\n\t\t}\n\n\t\tthis.container = container;\n\n\t\tthis.camera = options.camera || new THREE.PerspectiveCamera( this.options.cameraFov, this.container.clientWidth / this.container.clientHeight, 1, 10000 );\n\t\tthis.scene = options.scene || new THREE.Scene();\n\t\tthis.renderer = options.renderer || new THREE.WebGLRenderer( { alpha: true, antialias: false } );\n\n\t\tthis.viewIndicatorSize = options.indicatorSize;\n\n\t\tthis.reticle = {};\n\t\tthis.tempEnableReticle = this.options.enableReticle;\n\n\t\tthis.mode = PANOLENS.Modes.NORMAL;\n\n\t\tthis.OrbitControls;\n\t\tthis.DeviceOrientationControls;\n\n\t\tthis.CardboardEffect;\n\t\tthis.StereoEffect;\n\n\t\tthis.controls;\n\t\tthis.effect;\n\t\tthis.panorama;\n\t\tthis.widget;\n\n\t\tthis.hoverObject;\n\t\tthis.infospot;\n\t\tthis.pressEntityObject;\n\t\tthis.pressObject;\n\n\t\tthis.raycaster = new THREE.Raycaster();\n\t\tthis.raycasterPoint = new THREE.Vector2();\n\t\tthis.userMouse = new THREE.Vector2();\n\t\tthis.updateCallbacks = [];\n\t\tthis.requestAnimationId;\n\n\t\tthis.cameraFrustum = new THREE.Frustum();\n\t\tthis.cameraViewProjectionMatrix = new THREE.Matrix4();\n\n\t\tthis.outputDivElement;\n\n\t\t// Handler references\n\t\tthis.HANDLER_MOUSE_DOWN = this.onMouseDown.bind( this );\n\t\tthis.HANDLER_MOUSE_UP = this.onMouseUp.bind( this );\n\t\tthis.HANDLER_MOUSE_MOVE = this.onMouseMove.bind( this );\n\t\tthis.HANDLER_WINDOW_RESIZE = this.onWindowResize.bind( this );\n\t\tthis.HANDLER_KEY_DOWN = this.onKeyDown.bind( this );\n\t\tthis.HANDLER_KEY_UP = this.onKeyUp.bind( this );\n\t\tthis.HANDLER_TAP = this.onTap.bind( this, {\n\t\t\tclientX: this.container.clientWidth / 2,\n\t\t\tclientY: this.container.clientHeight / 2\n\t\t} );\n\n\t\t// Flag for infospot output\n\t\tthis.OUTPUT_INFOSPOT = false;\n\n\t\t// Animations\n\t\tthis.tweenLeftAnimation = new TWEEN.Tween();\n\t\tthis.tweenUpAnimation = new TWEEN.Tween();\n\n\t\t// Renderer\n\t\tthis.renderer.setPixelRatio( window.devicePixelRatio );\n\t\tthis.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n\t\tthis.renderer.setClearColor( 0x000000, 1 );\n\t\tthis.renderer.sortObjects = false;\n\n\t\t// Append Renderer Element to container\n\t\tthis.renderer.domElement.classList.add( 'panolens-canvas' );\n\t\tthis.renderer.domElement.style.display = 'block';\n\t\tthis.container.style.backgroundColor = '#000';\n\t\tthis.container.appendChild( this.renderer.domElement );\n\n\t\t// Camera Controls\n\t\tthis.OrbitControls = new THREE.OrbitControls( this.camera, this.container );\n\t\tthis.OrbitControls.name = 'orbit';\n\t\tthis.OrbitControls.minDistance = 1;\n\t\tthis.OrbitControls.noPan = true;\n\t\tthis.DeviceOrientationControls = new THREE.DeviceOrientationControls( this.camera, this.container );\n\t\tthis.DeviceOrientationControls.name = 'device-orientation';\n\t\tthis.DeviceOrientationControls.enabled = false;\n\t\tthis.camera.position.z = 1;\n\n\t\t// Register change event if passiveRenering\n\t\tif ( this.options.passiveRendering ) {\n\n\t\t\tconsole.warn( 'passiveRendering is now deprecated' );\n\n\t\t}\n\n\t\t// Controls\n\t\tthis.controls = [ this.OrbitControls, this.DeviceOrientationControls ];\n\t\tthis.control = this.OrbitControls;\n\n\t\t// Cardboard effect\n\t\tthis.CardboardEffect = new THREE.CardboardEffect( this.renderer );\n\t\tthis.CardboardEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n\t\t// Stereo effect\n\t\tthis.StereoEffect = new THREE.StereoEffect( this.renderer );\n\t\tthis.StereoEffect.setSize( this.container.clientWidth, this.container.clientHeight );\n\n\t\tthis.effect = this.CardboardEffect;\n\n\t\t// Add default hidden reticle\n\t\tthis.addReticle();\n\n\t\t// Lock horizontal view\n\t\tif ( this.options.horizontalView ) {\n\t\t\tthis.OrbitControls.minPolarAngle = Math.PI / 2;\n\t\t\tthis.OrbitControls.maxPolarAngle = Math.PI / 2;\n\t\t}\n\n\t\t// Add Control UI\n\t\tif ( this.options.controlBar !== false ) {\n\t\t\tthis.addDefaultControlBar( this.options.controlButtons );\n\t\t}\n\n\t\t// Add View Indicator\n\t\tif ( this.options.viewIndicator ) {\n\t\t\tthis.addViewIndicator();\n\t\t}\n\n\t\t// Reverse dragging direction\n\t\tif ( this.options.reverseDragging ) {\n\t\t\tthis.reverseDraggingDirection();\n\t\t}\n\n\t\t// Register event if reticle is enabled, otherwise defaults to mouse\n\t\tif ( this.options.enableReticle ) {\n\t\t\tthis.enableReticleControl();\n\t\t} else {\n\t\t\tthis.registerMouseAndTouchEvents();\n\t\t}\n\n\t\tif ( this.options.output === 'overlay' ) {\n\t\t\tthis.addOutputElement();\n\t\t}\n\n\t\t// Register dom event listeners\n\t\tthis.registerEventListeners();\n\n\t\t// Animate\n\t\tthis.animate.call( this );\n\n\t};\n\n\tPANOLENS.Viewer.prototype = Object.create( THREE.EventDispatcher.prototype );\n\n\tPANOLENS.Viewer.prototype.constructor = PANOLENS.Viewer;\n\n\t/**\n\t * Add an object to the scene\n\t * Automatically hookup with panolens-viewer-handler listener\n\t * to communicate with viewer method\n\t * @param {THREE.Object3D} object - The object to be added\n\t */\n\tPANOLENS.Viewer.prototype.add = function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.scene.add( object );\n\n\t\t// All object added to scene has 'panolens-viewer-handler' event to handle viewer communication\n\t\tif ( object.addEventListener ) {\n\n\t\t\tobject.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n\t\t}\n\n\t\t// All object added to scene being passed with container\n\t\tif ( object instanceof PANOLENS.Panorama && object.dispatchEvent ) {\n\n\t\t\tobject.dispatchEvent( { type: 'panolens-container', container: this.container } );\n\n\t\t}\n\n\t\t// Hookup default panorama event listeners\n\t\tif ( object.type === 'panorama' ) {\n\n\t\t\tthis.addPanoramaEventListener( object );\n\n\t\t\tif ( !this.panorama ) {\n\n\t\t\t\tthis.setPanorama( object );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Remove an object from the scene\n\t * @param  {THREE.Object3D} object - Object to be removed\n\t */\n\tPANOLENS.Viewer.prototype.remove = function ( object ) {\n\n\t\tif ( object.removeEventListener ) {\n\n\t\t\tobject.removeEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\n\t\t}\n\n\t\tthis.scene.remove( object );\n\n\t};\n\n\t/**\n\t * Add default control bar\n\t * @param {array} array - The control buttons array\n\t */\n\tPANOLENS.Viewer.prototype.addDefaultControlBar = function ( array ) {\n\n\t\tvar scope = this;\n\n\t\tif ( this.widget ) {\n\n\t\t\tconsole.warn( 'Default control bar exists' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.widget = new PANOLENS.Widget( this.container );\n\t\tthis.widget.addEventListener( 'panolens-viewer-handler', this.eventHandler.bind( this ) );\n\t\tthis.widget.addControlBar();\n\t\tarray.forEach( function( buttonName ){\n\n\t\t\tscope.widget.addControlButton( buttonName );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Set a panorama to be the current one\n\t * @param {PANOLENS.Panorama} pano - Panorama to be set\n\t */\n\tPANOLENS.Viewer.prototype.setPanorama = function ( pano ) {\n\n\t\tvar scope = this, leavingPanorama = this.panorama;\n\n\t\tif ( pano.type === 'panorama' && leavingPanorama !== pano ) {\n\n\t\t\t// Clear exisiting infospot\n\t\t\tthis.hideInfospot();\n\n\t\t\tvar afterEnterComplete = function () {\n\n\t\t\t\tleavingPanorama && leavingPanorama.onLeave();\n\t\t\t\tpano.removeEventListener( 'enter-fade-start', afterEnterComplete );\n\n\t\t\t};\n\n\t\t\tpano.addEventListener( 'enter-fade-start', afterEnterComplete );\n\n\t\t\t// Assign and enter panorama\n\t\t\t(this.panorama = pano).onEnter();\n\t\t\t\n\t\t}\n\n\t};\n\n\t/**\n\t * Event handler to execute commands from child objects\n\t * @param {object} event - The dispatched event with method as function name and data as an argument\n\t */\n\tPANOLENS.Viewer.prototype.eventHandler = function ( event ) {\n\n\t\tif ( event.method && this[ event.method ] ) {\n\n\t\t\tthis[ event.method ]( event.data );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Dispatch event to all descendants\n\t * @param  {object} event - Event to be passed along\n\t */\n\tPANOLENS.Viewer.prototype.dispatchEventToChildren = function ( event ) {\n\n\t\tthis.scene.traverse( function ( object ) {\n\n\t\t\tif ( object.dispatchEvent ) {\n\n\t\t\t\tobject.dispatchEvent( event );\n\n\t\t\t}\n\n\t\t});\n\n\t};\n\n\t/**\n\t * Set widget content\n\t * @param  {integer} controlIndex - Control index\n\t * @param  {PANOLENS.Modes} mode - Modes for effects\n\t */\n\tPANOLENS.Viewer.prototype.activateWidgetItem = function ( controlIndex, mode ) {\n\n\t\tvar mainMenu = this.widget.mainMenu;\n\t\tvar ControlMenuItem = mainMenu.children[ 0 ];\n\t\tvar ModeMenuItem = mainMenu.children[ 1 ];\n\n\t\tvar item;\n\n\t\tif ( controlIndex !== undefined ) {\n\n\t\t\tswitch ( controlIndex ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[ 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[ 2 ];\n\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tdefault:\n\n\t\t\t\t\titem = ControlMenuItem.subMenu.children[ 1 ];\n\n\t\t\t\t\tbreak;\t\n\n\t\t\t}\n\n\t\t\tControlMenuItem.subMenu.setActiveItem( item )\n\t\t\tControlMenuItem.setSelectionTitle( item.textContent );\n\n\t\t}\n\n\t\tif ( mode !== undefined ) {\n\n\t\t\tswitch( mode ) {\n\n\t\t\t\tcase PANOLENS.Modes.CARDBOARD:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[ 2 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase PANOLENS.Modes.STEREO:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[ 3 ];\n\t\t\t\t\t\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\titem = ModeMenuItem.subMenu.children[ 1 ];\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tModeMenuItem.subMenu.setActiveItem( item )\n\t\t\tModeMenuItem.setSelectionTitle( item.textContent );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Enable rendering effect\n\t * @param  {PANOLENS.Modes} mode - Modes for effects\n\t */\n\tPANOLENS.Viewer.prototype.enableEffect = function ( mode ) {\n\n\t\tif ( this.mode === mode ) { return; }\n\t\tif ( mode === PANOLENS.Modes.NORMAL ) { this.disableEffect(); return; }\n\t\telse { this.mode = mode; }\n\n\t\tvar fov = this.camera.fov;\n\n\t\tswitch( mode ) {\n\n\t\t\tcase PANOLENS.Modes.CARDBOARD:\n\n\t\t\t\tthis.effect = this.CardboardEffect;\n\t\t\t\tthis.enableReticleControl();\n\n\t\t\t\tbreak;\n\n\t\t\tcase PANOLENS.Modes.STEREO:\n\n\t\t\t\tthis.effect = this.StereoEffect;\n\t\t\t\tthis.enableReticleControl();\n\t\t\t\t\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tthis.effect = null;\n\t\t\t\tthis.disableReticleControl();\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tthis.activateWidgetItem( undefined, this.mode );\n\n\t\t/**\n\t\t * Dual eye effect event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#panolens-dual-eye-effect\n\t\t * @event PANOLENS.Infospot#panolens-dual-eye-effect\n\t\t * @property {PANOLENS.Modes} mode - Current display mode\n\t\t */\n\t\tthis.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n\t\t// Force effect stereo camera to update by refreshing fov\n\t\tthis.camera.fov = fov + 10e-3;\n\t\tthis.effect.setSize( this.container.clientWidth, this.container.clientHeight );\n\t\tthis.render();\n\t\tthis.camera.fov = fov;\n\n\t};\n\n\t/**\n\t * Disable additional rendering effect\n\t */\n\tPANOLENS.Viewer.prototype.disableEffect = function () {\n\n\t\tif ( this.mode === PANOLENS.Modes.NORMAL ) { return; }\n\n\t\tthis.mode = PANOLENS.Modes.NORMAL;\n\t\tthis.disableReticleControl();\n\n\t\tthis.activateWidgetItem( undefined, this.mode );\n\n\t\t/**\n\t\t * Dual eye effect event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#panolens-dual-eye-effect\n\t\t * @event PANOLENS.Infospot#panolens-dual-eye-effect\n\t\t * @property {PANOLENS.Modes} mode - Current display mode\n\t\t */\n\t\tthis.dispatchEventToChildren( { type: 'panolens-dual-eye-effect', mode: this.mode } );\n\n\t\tthis.renderer.setSize( this.container.clientWidth, this.container.clientHeight );\n\t\tthis.render();\n\t};\n\n\t/**\n\t * Enable reticle control\n\t */\n\tPANOLENS.Viewer.prototype.enableReticleControl = function () {\n\n\t\tif ( this.reticle.visible ) { return; }\n\t\tif ( !this.reticle.textureLoaded ) { this.reticle.loadTextures(); }\n\n\t\tthis.tempEnableReticle = true;\n\n\t\t// Register reticle event and unregister mouse event\n\t\tthis.unregisterMouseAndTouchEvents();\n\t\tthis.reticle.show();\n\t\tthis.registerReticleEvent();\n\t\tthis.updateReticleEvent();\n\n\t};\n\n\t/**\n\t * Disable reticle control\n\t */\n\tPANOLENS.Viewer.prototype.disableReticleControl = function () {\n\n\t\tthis.tempEnableReticle = false;\n\n\t\t// Register mouse event and unregister reticle event\n\t\tif ( !this.options.enableReticle ) {\n\n\t\t\tthis.reticle.hide();\n\t\t\tthis.unregisterReticleEvent();\n\t\t\tthis.registerMouseAndTouchEvents();\n\n\t\t} else {\n\n\t\t\tthis.updateReticleEvent();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Toggle video play or stop\n\t * @fires PANOLENS.Viewer#video-toggle\n\t */\n\tPANOLENS.Viewer.prototype.toggleVideoPlay = function ( pause ) {\n\n\t\tif ( this.panorama instanceof PANOLENS.VideoPanorama ) {\n\n\t\t\t/**\n\t\t\t * Toggle video event\n\t\t\t * @type {object}\n\t\t\t * @event PANOLENS.Viewer#video-toggle\n\t\t\t */\n\t\t\tthis.panorama.dispatchEvent( { type: 'video-toggle', pause: pause } );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set currentTime in a video\n\t * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n\t * @fires PANOLENS.Viewer#video-time\n\t */\n\tPANOLENS.Viewer.prototype.setVideoCurrentTime = function ( percentage ) {\n\n\t\tif ( this.panorama instanceof PANOLENS.VideoPanorama ) {\n\n\t\t\t/**\n\t\t\t * Setting video time event\n\t\t\t * @type {object}\n\t\t\t * @event PANOLENS.Viewer#video-time\n\t\t\t * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n\t\t\t */\n\t\t\tthis.panorama.dispatchEvent( { type: 'video-time', percentage: percentage } );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * This will be called when video updates if an widget is present\n\t * @param {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n\t * @fires PANOLENS.Viewer#video-update\n\t */\n\tPANOLENS.Viewer.prototype.onVideoUpdate = function ( percentage ) {\n\n\t\t/**\n\t\t * Video update event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#video-update\n\t\t * @property {number} percentage - Percentage of a video. Range from 0.0 to 1.0\n\t\t */\n\t\tthis.widget && this.widget.dispatchEvent( { type: 'video-update', percentage: percentage } );\n\n\t};\n\n\t/**\n\t * Add update callback to be called every animation frame\n\t */\n\tPANOLENS.Viewer.prototype.addUpdateCallback = function ( fn ) {\n\n\t\tif ( fn ) {\n\n\t\t\tthis.updateCallbacks.push( fn );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Remove update callback\n\t * @param  {Function} fn - The function to be removed\n\t */\n\tPANOLENS.Viewer.prototype.removeUpdateCallback = function ( fn ) {\n\n\t\tvar index = this.updateCallbacks.indexOf( fn );\n\n\t\tif ( fn && index >= 0 ) {\n\n\t\t\tthis.updateCallbacks.splice( index, 1 );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Show video widget\n\t */\n\tPANOLENS.Viewer.prototype.showVideoWidget = function () {\n\n\t\t/**\n\t\t * Show video widget event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#video-control-show\n\t\t */\n\t\tthis.widget && this.widget.dispatchEvent( { type: 'video-control-show' } );\n\n\t};\n\n\t/**\n\t * Hide video widget\n\t */\n\tPANOLENS.Viewer.prototype.hideVideoWidget = function () {\n\n\t\t/**\n\t\t * Hide video widget\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#video-control-hide\n\t\t */\n\t\tthis.widget && this.widget.dispatchEvent( { type: 'video-control-hide' } );\n\n\t};\n\n\tPANOLENS.Viewer.prototype.updateVideoPlayButton = function ( paused ) {\n\n\t\tif ( this.widget && \n\t\t\t this.widget.videoElement && \n\t\t\t this.widget.videoElement.controlButton ) {\n\n\t\t\tthis.widget.videoElement.controlButton.update( paused );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Add default panorama event listeners\n\t * @param {PANOLENS.Panorama} pano - The panorama to be added with event listener\n\t */\n\tPANOLENS.Viewer.prototype.addPanoramaEventListener = function ( pano ) {\n\n\t\tvar scope = this;\n\n\t\t// Set camera control on every panorama\n\t\tpano.addEventListener( 'enter-fade-start', this.setCameraControl.bind( this ) );\n\n\t\t// Show and hide widget event only when it's PANOLENS.VideoPanorama\n\t\tif ( pano instanceof PANOLENS.VideoPanorama ) {\n\n\t\t\tpano.addEventListener( 'enter-fade-start', this.showVideoWidget.bind( this ) );\n\t\t\tpano.addEventListener( 'leave', function () {\n\n\t\t\t\tif ( !(this.panorama instanceof PANOLENS.VideoPanorama) ) {\n\n\t\t\t\t\tthis.hideVideoWidget.call( this );\n\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}.bind( this ) );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Set camera control\n\t */\n\tPANOLENS.Viewer.prototype.setCameraControl = function () {\n\n\t\tthis.OrbitControls.target.copy( this.panorama.position );\n\n\t};\n\n\t/**\n\t * Get current camera control\n\t * @return {object} - Current navigation control. THREE.OrbitControls or THREE.DeviceOrientationControls\n\t */\n\tPANOLENS.Viewer.prototype.getControl = function () {\n\n\t\treturn this.control;\n\n\t},\n\n\t/**\n\t * Get scene\n\t * @return {THREE.Scene} - Current scene which the viewer is built on\n\t */\n\tPANOLENS.Viewer.prototype.getScene = function () {\n\n\t\treturn this.scene;\n\n\t};\n\n\t/**\n\t * Get camera\n\t * @return {THREE.Camera} - The scene camera\n\t */\n\tPANOLENS.Viewer.prototype.getCamera = function () {\n\n\t\treturn this.camera;\n\n\t},\n\n\t/**\n\t * Get renderer\n\t * @return {THREE.WebGLRenderer} - The renderer using webgl\n\t */\n\tPANOLENS.Viewer.prototype.getRenderer = function () {\n\n\t\treturn this.renderer;\n\n\t};\n\n\t/**\n\t * Get container\n\t * @return {HTMLDOMElement} - The container holds rendererd canvas\n\t */\n\tPANOLENS.Viewer.prototype.getContainer = function () {\n\n\t\treturn this.container;\n\n\t};\n\n\t/**\n\t * Get control name\n\t * @return {string} - Control name. 'orbit' or 'device-orientation'\n\t */\n\tPANOLENS.Viewer.prototype.getControlName = function () {\n\n\t\treturn this.control.name;\n\n\t};\n\n\t/**\n\t * Get next navigation control name\n\t * @return {string} - Next control name\n\t */\n\tPANOLENS.Viewer.prototype.getNextControlName = function () {\n\n\t\treturn this.controls[ this.getNextControlIndex() ].name;\n\n\t};\n\n\t/**\n\t * Get next navigation control index\n\t * @return {number} - Next control index\n\t */\n\tPANOLENS.Viewer.prototype.getNextControlIndex = function () {\n\n\t\tvar controls, control, nextIndex;\n\n\t\tcontrols = this.controls;\n\t\tcontrol = this.control;\n\t\tnextIndex = controls.indexOf( control ) + 1;\n\n\t\treturn ( nextIndex >= controls.length ) ? 0 : nextIndex;\n\n\t};\n\n\t/**\n\t * Set field of view of camera\n\t */\n\tPANOLENS.Viewer.prototype.setCameraFov = function ( fov ) {\n\n\t\tthis.camera.fov = fov;\n\t\tthis.camera.updateProjectionMatrix();\n\n\t};\n\n\t/**\n\t * Enable control by index\n\t * @param  {PANOLENS.Controls} index - Index of camera control\n\t */\n\tPANOLENS.Viewer.prototype.enableControl = function ( index ) {\n\n\t\tindex = ( index >= 0 && index < this.controls.length ) ? index : 0;\n\n\t\tthis.control.enabled = false;\n\n\t\tthis.control = this.controls[ index ];\n\n\t\tthis.control.enabled = true;\n\n\t\tswitch ( index ) {\n\n\t\t\tcase PANOLENS.Controls.ORBIT:\n\n\t\t\t\tthis.camera.position.copy( this.panorama.position );\n\t\t\t\tthis.camera.position.z += 1;\n\n\t\t\t\tbreak;\n\n\t\t\tcase PANOLENS.Controls.DEVICEORIENTATION:\n\n\t\t\t\tthis.camera.position.copy( this.panorama.position );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.control.update();\n\n\t\tthis.activateWidgetItem( index, undefined );\n\n\t};\n\n\t/**\n\t * Disable current control\n\t */\n\tPANOLENS.Viewer.prototype.disableControl = function () {\n\n\t\tthis.control.enabled = false;\n\n\t};\n\n\t/**\n\t * Toggle next control\n\t */\n\tPANOLENS.Viewer.prototype.toggleNextControl = function () {\n\n\t\tthis.enableControl( this.getNextControlIndex() );\n\n\t};\n\n\t/**\n\t * Screen Space Projection\n\t */\n\tPANOLENS.Viewer.prototype.getScreenVector = function ( worldVector ) {\n\n\t\tvar vector = worldVector.clone();\n\t\tvar widthHalf = ( this.container.clientWidth ) / 2;\n\t\tvar heightHalf = this.container.clientHeight / 2;\n\n\t\tvector.project( this.camera );\n\n\t\tvector.x = ( vector.x * widthHalf ) + widthHalf;\n\t\tvector.y = - ( vector.y * heightHalf ) + heightHalf;\n\t\tvector.z = 0;\n\n\t\treturn vector;\n\n\t};\n\n\t/**\n\t * Check Sprite in Viewport\n\t */\n\tPANOLENS.Viewer.prototype.checkSpriteInViewport = function ( sprite ) {\n\n\t\tthis.camera.matrixWorldInverse.getInverse( this.camera.matrixWorld );\n\t\tthis.cameraViewProjectionMatrix.multiplyMatrices( this.camera.projectionMatrix, this.camera.matrixWorldInverse );\n\t\tthis.cameraFrustum.setFromMatrix( this.cameraViewProjectionMatrix );\n\n\t\treturn sprite.visible && this.cameraFrustum.intersectsSprite( sprite );\n\n\t};\n\n\t/**\n\t * Reverse dragging direction\n\t */\n\tPANOLENS.Viewer.prototype.reverseDraggingDirection = function () {\n\n\t\tthis.OrbitControls.rotateSpeed *= -1;\n\t\tthis.OrbitControls.momentumScalingFactor *= -1;\n\n\t};\n\n\t/**\n\t * Add reticle \n\t */\n\tPANOLENS.Viewer.prototype.addReticle = function () {\n\n\t\tthis.reticle = new PANOLENS.Reticle( 0xffffff, \n\t\t\tthis.options.autoReticleSelect,\n\t\t\tPANOLENS.DataImage.ReticleIdle, \n\t\t\tPANOLENS.DataImage.ReticleDwell, \n\t\t\tthis.options.dwellTime,\n\t\t\t45 );\n\t\tthis.reticle.position.z = -10;\n\t\tthis.camera.add( this.reticle );\n\t\tthis.scene.add( this.camera );\n\n\t};\n\n\t/**\n\t * Tween control looking center\n\t * @param {THREE.Vector3} vector - Vector to be looked at the center\n\t * @param {number} [duration=1000] - Duration to tween\n\t * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n\t */\n\tPANOLENS.Viewer.prototype.tweenControlCenter = function ( vector, duration, easing ) {\n\n\t\tif ( this.control !== this.OrbitControls ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Pass in arguments as array\n\t\tif ( vector instanceof Array ) {\n\n\t\t\tduration = vector[ 1 ];\n\t\t\teasing = vector[ 2 ];\n\t\t\tvector = vector[ 0 ];\n\n\t\t}\n\n\t\tduration = duration !== undefined ? duration : 1000;\n\t\teasing = easing || TWEEN.Easing.Exponential.Out;\n\n\t\tvar scope, ha, va, chv, cvv, hv, vv, vptc, ov, nv;\n\n\t\tscope = this;\n\n\t\tchv = this.camera.getWorldDirection();\n\t\tcvv = chv.clone();\n\n\t\tvptc = this.panorama.getWorldPosition().sub( this.camera.getWorldPosition() );\n\n\t\thv = vector.clone();\n\t\t// Scale effect\n\t\thv.x *= -1;\n\t\thv.add( vptc ).normalize();\n\t\tvv = hv.clone();\n\n\t\tchv.y = 0;\n\t\thv.y = 0;\n\n\t\tha = Math.atan2( hv.z, hv.x ) - Math.atan2( chv.z, chv.x );\n\t\tha = ha > Math.PI ? ha - 2 * Math.PI : ha;\n\t\tha = ha < -Math.PI ? ha + 2 * Math.PI : ha;\n\t\tva = Math.abs( cvv.angleTo( chv ) + ( cvv.y * vv.y <= 0 ? vv.angleTo( hv ) : -vv.angleTo( hv ) ) );\n\t\tva *= vv.y < cvv.y ? 1 : -1;\n\n\t\tov = { left: 0, up: 0 };\n\t\tnv = { left: 0, up: 0 };\n\n\t\tthis.tweenLeftAnimation.stop();\n\t\tthis.tweenUpAnimation.stop();\n\n\t\tthis.tweenLeftAnimation = new TWEEN.Tween( ov )\n\t\t\t.to( { left: ha }, duration )\n\t\t\t.easing( easing )\n\t\t\t.onUpdate(function(){\n\t\t\t\tscope.control.rotateLeft( this.left - nv.left );\n\t\t\t\tnv.left = this.left;\n\t\t\t})\n\t\t\t.start();\n\n\t\tthis.tweenUpAnimation = new TWEEN.Tween( ov )\n\t\t\t.to( { up: va }, duration )\n\t\t\t.easing( easing )\n\t\t\t.onUpdate(function(){\n\t\t\t\tscope.control.rotateUp( this.up - nv.up );\n\t\t\t\tnv.up = this.up;\n\t\t\t})\n\t\t\t.start();\n\n\t};\n\n\t/**\n\t * Tween control looking center by object\n\t * @param {THREE.Object3D} object - Object to be looked at the center\n\t * @param {number} [duration=1000] - Duration to tween\n\t * @param {function} [easing=TWEEN.Easing.Exponential.Out] - Easing function\n\t */\n\tPANOLENS.Viewer.prototype.tweenControlCenterByObject = function ( object, duration, easing ) {\n\n\t\tvar isUnderScalePlaceHolder = false;\n\n\t\tobject.traverseAncestors( function ( ancestor ) {\n\n\t\t\tif ( ancestor.scalePlaceHolder ) {\n\n\t\t\t\tisUnderScalePlaceHolder = true;\n\n\t\t\t}\n\t\t} );\n\n\t\tif ( isUnderScalePlaceHolder ) {\n\n\t\t\tvar invertXVector = new THREE.Vector3( -1, 1, 1 );\n\n\t\t\tthis.tweenControlCenter( object.getWorldPosition().multiply( invertXVector ), duration, easing );\n\n\t\t} else {\n\n\t\t\tthis.tweenControlCenter( object.getWorldPosition(), duration, easing );\n\n\t\t}\n\n\t};\n\n\t/**\n\t * This is called when window size is changed\n\t * @fires PANOLENS.Viewer#window-resize\n\t * @param {number} [windowWidth] - Specify if custom element has changed width\n\t * @param {number} [windowHeight] - Specify if custom element has changed height\n\t */\n\tPANOLENS.Viewer.prototype.onWindowResize = function ( windowWidth, windowHeight ) {\n\n\t\tvar width, height, expand;\n\n\t\texpand = this.container.classList.contains( 'panolens-container' ) || this.container.isFullscreen;\n\n\t\tif ( windowWidth !== undefined && windowHeight !== undefined ) {\n\n\t\t\twidth = windowWidth;\n\t\t\theight = windowHeight;\n\t\t\tthis.container._width = windowWidth;\n\t\t\tthis.container._height = windowHeight;\n\n\t\t} else {\n\n\t\t\twidth = expand ? Math.max(document.documentElement.clientWidth, window.innerWidth || 0) : this.container.clientWidth;\n\t\t\theight = expand ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : this.container.clientHeight;\n\t\t\tthis.container._width = width;\n\t\t\tthis.container._height = height;\n\n\t\t}\n\n\t\tthis.camera.aspect = width / height;\n\t\tthis.camera.updateProjectionMatrix();\n\n\t\tthis.renderer.setSize( width, height );\n\n\t\t// Update reticle\n\t\tif ( this.options.enableReticle || this.tempEnableReticle ) {\n\n\t\t\tthis.updateReticleEvent();\n\n\t\t}\n\n\t\t/**\n\t\t * Window resizing event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#window-resize\n\t\t * @property {number} width  - Width of the window\n\t\t * @property {number} height - Height of the window\n\t\t */\n\t\tthis.dispatchEvent( { type: 'window-resize', width: width, height: height });\n\t\tthis.scene.traverse( function ( object ) {\n\n\t\t\tif ( object.dispatchEvent ) {\n\n\t\t\t\tobject.dispatchEvent( { type: 'window-resize', width: width, height: height });\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\tPANOLENS.Viewer.prototype.addOutputElement = function () {\n\n\t\tvar element = document.createElement( 'div' );\n\t\telement.style.position = 'absolute';\n\t\telement.style.right = '10px';\n\t\telement.style.top = '10px';\n\t\telement.style.color = \"#fff\";\n\t\tthis.container.appendChild( element );\n\t\tthis.outputDivElement = element;\n\n\t};\n\n\t/**\n\t * Output infospot attach position in developer console by holding down Ctrl button\n\t */\n\tPANOLENS.Viewer.prototype.outputInfospotPosition = function () {\n\n\t\tvar intersects, point, panoramaWorldPosition, outputPosition;\n\n\t\tintersects = this.raycaster.intersectObject( this.panorama, true );\n\n\t\tif ( intersects.length > 0 ) {\n\n\t\t\tpoint = intersects[0].point;\n\t\t\tpanoramaWorldPosition = this.panorama.getWorldPosition();\n\n\t\t\t// Panorama is scaled -1 on X axis\n\t\t\toutputPosition = new THREE.Vector3(\n\t\t\t\t-(point.x - panoramaWorldPosition.x).toFixed(2),\n\t\t\t\t(point.y - panoramaWorldPosition.y).toFixed(2),\n\t\t\t\t(point.z - panoramaWorldPosition.z).toFixed(2)\n\t\t\t);\n\n\t\t\tswitch ( this.options.output ) {\n\n\t\t\t\tcase 'console':\n\t\t\t\t\tconsole.info( outputPosition.x + ', ' + outputPosition.y + ', ' + outputPosition.z );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'overlay':\n\t\t\t\t\tthis.outputDivElement.textContent = outputPosition.x + ', ' + outputPosition.y + ', ' + outputPosition.z;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseDown = function ( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tthis.userMouse.x = ( event.clientX >= 0 ) ? event.clientX : event.touches[0].clientX;\n\t\tthis.userMouse.y = ( event.clientY >= 0 ) ? event.clientY : event.touches[0].clientY;\n\t\tthis.userMouse.type = 'mousedown';\n\t\tthis.onTap( event );\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseMove = function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.userMouse.type = 'mousemove';\n\t\tthis.onTap( event );\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onMouseUp = function ( event ) {\n\n\t\tvar onTarget = false, type;\n\n\t\tthis.userMouse.type = 'mouseup';\n\n\t\ttype = ( this.userMouse.x >= event.clientX - this.options.clickTolerance \n\t\t\t\t&& this.userMouse.x <= event.clientX + this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y >= event.clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.clientY + this.options.clickTolerance ) \n\t\t\t\t||  ( event.changedTouches \n\t\t\t\t&& this.userMouse.x >= event.changedTouches[0].clientX - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.x <= event.changedTouches[0].clientX + this.options.clickTolerance \n\t\t\t\t&& this.userMouse.y >= event.changedTouches[0].clientY - this.options.clickTolerance\n\t\t\t\t&& this.userMouse.y <= event.changedTouches[0].clientY + this.options.clickTolerance ) \n\t\t? 'click' : undefined;\n\n\t\t// Event should happen on canvas\n\t\tif ( event && event.target && !event.target.classList.contains( 'panolens-canvas' ) ) { return; }\n\n\t\tevent.preventDefault();\n\n\t\tif ( event.changedTouches && event.changedTouches.length === 1 ) {\n\n\t\t\tonTarget = this.onTap( { clientX : event.changedTouches[0].clientX, clientY : event.changedTouches[0].clientY }, type );\n\t\t\n\t\t} else {\n\n\t\t\tonTarget = this.onTap( event, type );\n\n\t\t}\n\n\t\tthis.userMouse.type = 'none';\n\n\t\tif ( onTarget ) { \n\n\t\t\treturn; \n\n\t\t}\n\n\t\tif ( type === 'click' ) {\n\n\t\t\tthis.options.autoHideInfospot && this.panorama && this.panorama.toggleInfospotVisibility();\n\t\t\tthis.options.autoHideControlBar && this.toggleControlBar();\n\n\t\t}\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onTap = function ( event, type ) {\n\n\t\tvar intersects, intersect_entity, intersect;\n\n\t\tthis.raycasterPoint.x = ( ( event.clientX - this.container.offsetLeft ) / this.container.clientWidth ) * 2 - 1;\n\t\tthis.raycasterPoint.y = - ( ( event.clientY - this.container.offsetTop ) / this.container.clientHeight ) * 2 + 1;\n\n\t\tthis.raycaster.setFromCamera( this.raycasterPoint, this.camera );\n\n\t\t// Return if no panorama \n\t\tif ( !this.panorama ) { \n\n\t\t\treturn; \n\n\t\t}\n\n\t\t// output infospot information\n\t\tif ( event.type !== 'mousedown' && PANOLENS.Utils.checkTouchSupported() || this.OUTPUT_INFOSPOT ) { \n\n\t\t\tthis.outputInfospotPosition(); \n\n\t\t}\n\n\t\tintersects = this.raycaster.intersectObjects( this.panorama.children, true );\n\n\t\tintersect_entity = this.getConvertedIntersect( intersects );\n\n\t\tintersect = ( intersects.length > 0 ) ? intersects[0].object : intersect;\n\n\t\tif ( this.userMouse.type === 'mouseup'  ) {\n\n\t\t\tif ( intersect_entity && this.pressEntityObject === intersect_entity && this.pressEntityObject.dispatchEvent ) {\n\n\t\t\t\tthis.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n\t\t\t}\n\n\t\t\tthis.pressEntityObject = undefined;\n\n\t\t}\n\n\t\tif ( this.userMouse.type === 'mouseup'  ) {\n\n\t\t\tif ( intersect && this.pressObject === intersect && this.pressObject.dispatchEvent ) {\n\n\t\t\t\tthis.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n\t\t\t}\n\n\t\t\tthis.pressObject = undefined;\n\n\t\t}\n\n\t\tif ( type === 'click' ) {\n\n\t\t\tthis.panorama.dispatchEvent( { type: 'click', intersects: intersects, mouseEvent: event } );\n\n\t\t\tif ( intersect_entity && intersect_entity.dispatchEvent ) {\n\n\t\t\t\tintersect_entity.dispatchEvent( { type: 'click-entity', mouseEvent: event } );\n\n\t\t\t}\n\n\t\t\tif ( intersect && intersect.dispatchEvent ) {\n\n\t\t\t\tintersect.dispatchEvent( { type: 'click', mouseEvent: event } );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.panorama.dispatchEvent( { type: 'hover', intersects: intersects, mouseEvent: event } );\n\n\t\t\tif ( ( this.hoverObject && intersects.length > 0 && this.hoverObject !== intersect_entity )\n\t\t\t\t|| ( this.hoverObject && intersects.length === 0 ) ){\n\n\t\t\t\tif ( this.hoverObject.dispatchEvent ) {\n\n\t\t\t\t\tthis.hoverObject.dispatchEvent( { type: 'hoverleave', mouseEvent: event } );\n\n\t\t\t\t\t// Cancel dwelling\n\t\t\t\t\tthis.reticle.cancelDwelling();\n\n\t\t\t\t}\n\n\t\t\t\tthis.hoverObject = undefined;\n\n\t\t\t}\n\n\t\t\tif ( intersect_entity && intersects.length > 0 ) {\n\n\t\t\t\tif ( this.hoverObject !== intersect_entity ) {\n\n\t\t\t\t\tthis.hoverObject = intersect_entity;\n\n\t\t\t\t\tif ( this.hoverObject.dispatchEvent ) {\n\n\t\t\t\t\t\tthis.hoverObject.dispatchEvent( { type: 'hoverenter', mouseEvent: event } );\n\n\t\t\t\t\t\t// Start reticle timer\n\t\t\t\t\t\tif ( this.options.autoReticleSelect && this.options.enableReticle || this.tempEnableReticle ) {\n\t\t\t\t\t\t\tthis.reticle.startDwelling( this.onTap.bind( this, event, 'click' ) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.userMouse.type === 'mousedown' && this.pressEntityObject != intersect_entity ) {\n\n\t\t\t\t\tthis.pressEntityObject = intersect_entity;\n\n\t\t\t\t\tif ( this.pressEntityObject.dispatchEvent ) {\n\n\t\t\t\t\t\tthis.pressEntityObject.dispatchEvent( { type: 'pressstart-entity', mouseEvent: event } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.userMouse.type === 'mousedown' && this.pressObject != intersect ) {\n\n\t\t\t\t\tthis.pressObject = intersect;\n\n\t\t\t\t\tif ( this.pressObject.dispatchEvent ) {\n\n\t\t\t\t\t\tthis.pressObject.dispatchEvent( { type: 'pressstart', mouseEvent: event } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.userMouse.type === 'mousemove' || this.options.enableReticle ) {\n\n\t\t\t\t\tif ( intersect && intersect.dispatchEvent ) {\n\n\t\t\t\t\t\tintersect.dispatchEvent( { type: 'hover', mouseEvent: event } );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n\t\t\t\t\t\tthis.pressEntityObject.dispatchEvent( { type: 'pressmove-entity', mouseEvent: event } );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.pressObject && this.pressObject.dispatchEvent ) {\n\n\t\t\t\t\t\tthis.pressObject.dispatchEvent( { type: 'pressmove', mouseEvent: event } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( !intersect_entity && this.pressEntityObject && this.pressEntityObject.dispatchEvent ) {\n\n\t\t\t\tthis.pressEntityObject.dispatchEvent( { type: 'pressstop-entity', mouseEvent: event } );\n\n\t\t\t\tthis.pressEntityObject = undefined;\n\n\t\t\t}\n\n\t\t\tif ( !intersect && this.pressObject && this.pressObject.dispatchEvent ) {\n\n\t\t\t\tthis.pressObject.dispatchEvent( { type: 'pressstop', mouseEvent: event } );\n\n\t\t\t\tthis.pressObject = undefined;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Infospot handler\n\t\tif ( intersect && intersect instanceof PANOLENS.Infospot ) {\n\n\t\t\tthis.infospot = intersect;\n\t\t\t\n\t\t\tif ( type === 'click' ) {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\t\t\t\n\n\t\t} else if ( this.infospot ) {\n\n\t\t\tthis.hideInfospot();\n\n\t\t}\n\n\t};\n\n\tPANOLENS.Viewer.prototype.getConvertedIntersect = function ( intersects ) {\n\n\t\tvar intersect;\n\n\t\tfor ( var i = 0; i < intersects.length; i++ ) {\n\n\t\t\tif ( intersects[i].distance >= 0 && intersects[i].object && !intersects[i].object.passThrough ) {\n\n\t\t\t\tif ( intersects[i].object.entity && intersects[i].object.entity.passThrough ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( intersects[i].object.entity && !intersects[i].object.entity.passThrough ) {\n\t\t\t\t\tintersect = intersects[i].object.entity;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tintersect = intersects[i].object;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn intersect;\n\n\t};\n\n\tPANOLENS.Viewer.prototype.hideInfospot = function ( intersects ) {\n\n\t\tif ( this.infospot ) {\n\n\t\t\tthis.infospot.onHoverEnd();\n\n\t\t\tthis.infospot = undefined;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Toggle control bar\n\t * @fires [PANOLENS.Viewer#control-bar-toggle]\n\t */\n\tPANOLENS.Viewer.prototype.toggleControlBar = function () {\n\n\t\t/**\n\t\t * Toggle control bar event\n\t\t * @type {object}\n\t\t * @event PANOLENS.Viewer#control-bar-toggle\n\t\t */\n\t\tthis.widget && this.widget.dispatchEvent( { type: 'control-bar-toggle' } );\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onKeyDown = function ( event ) {\n\n\t\tif ( this.options.output && this.options.output !== 'none' && event.key === 'Control' ) {\n\n\t\t\tthis.OUTPUT_INFOSPOT = true;\n\n\t\t}\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onKeyUp = function ( event ) {\n\n\t\tthis.OUTPUT_INFOSPOT = false;\n\n\t};\n\n\t/**\n\t * Update control and callbacks\n\t */\n\tPANOLENS.Viewer.prototype.update = function () {\n\n\t\tTWEEN.update();\n\n\t\tthis.updateCallbacks.forEach( function( callback ){ callback(); } );\n\n\t\tthis.control.update();\n\n\t\tthis.scene.traverse( function( child ){\n\t\t\tif ( child instanceof PANOLENS.Infospot \n\t\t\t\t&& child.element \n\t\t\t\t&& ( this.hoverObject === child \n\t\t\t\t\t|| child.element.style.display !== 'none' \n\t\t\t\t\t|| (child.element.left && child.element.left.style.display !== 'none')\n\t\t\t\t\t|| (child.element.right && child.element.right.style.display !== 'none') ) ) {\n\t\t\t\tif ( this.checkSpriteInViewport( child ) ) {\n\t\t\t\t\tvar vector = this.getScreenVector( child.getWorldPosition() );\n\t\t\t\t\tchild.translateElement( vector.x, vector.y );\n\t\t\t\t} else {\n\t\t\t\t\tchild.onDismiss();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}.bind(this) );\n\n\t};\n\n\t/**\n\t * Rendering function to be called on every animation frame\n\t */\n\tPANOLENS.Viewer.prototype.render = function () {\n\n\t\tif ( this.mode === PANOLENS.Modes.CARDBOARD || this.mode === PANOLENS.Modes.STEREO ) {\n\n\t\t\tthis.effect.render( this.scene, this.camera );\n\n\t\t} else {\n\n\t\t\tthis.renderer.render( this.scene, this.camera );\n\n\t\t}\n\n\t};\n\n\tPANOLENS.Viewer.prototype.animate = function () {\n\n\t\tthis.requestAnimationId = window.requestAnimationFrame( this.animate.bind( this ) );\n\n\t\tthis.onChange();\n\n\t};\n\n\tPANOLENS.Viewer.prototype.onChange = function () {\n\n\t\tthis.update();\n\t\tthis.render();\n\n\t};\n\n\t/**\n\t * Register mouse and touch event on container\n\t */\n\tPANOLENS.Viewer.prototype.registerMouseAndTouchEvents = function () {\n\n\t\tthis.container.addEventListener( 'mousedown' , \tthis.HANDLER_MOUSE_DOWN, false );\n\t\tthis.container.addEventListener( 'mousemove' , \tthis.HANDLER_MOUSE_MOVE, false );\n\t\tthis.container.addEventListener( 'mouseup'\t , \tthis.HANDLER_MOUSE_UP  , false );\n\t\tthis.container.addEventListener( 'touchstart', \tthis.HANDLER_MOUSE_DOWN, false );\n\t\tthis.container.addEventListener( 'touchend'  , \tthis.HANDLER_MOUSE_UP  , false );\n\n\t};\n\n\t/**\n\t * Unregister mouse and touch event on container\n\t */\n\tPANOLENS.Viewer.prototype.unregisterMouseAndTouchEvents = function () {\n\n\t\tthis.container.removeEventListener( 'mousedown' ,  this.HANDLER_MOUSE_DOWN, false );\n\t\tthis.container.removeEventListener( 'mousemove' ,  this.HANDLER_MOUSE_MOVE, false );\n\t\tthis.container.removeEventListener( 'mouseup'\t,  this.HANDLER_MOUSE_UP  , false );\n\t\tthis.container.removeEventListener( 'touchstart',  this.HANDLER_MOUSE_DOWN, false );\n\t\tthis.container.removeEventListener( 'touchend'  ,  this.HANDLER_MOUSE_UP  , false );\n\t};\n\n\t/**\n\t * Register reticle event\n\t */\n\tPANOLENS.Viewer.prototype.registerReticleEvent = function () {\n\n\t\tthis.addUpdateCallback( this.HANDLER_TAP );\n\n\t};\n\n\t/**\n\t * Unregister reticle event\n\t */\n\tPANOLENS.Viewer.prototype.unregisterReticleEvent = function () {\n\n\t\tthis.removeUpdateCallback( this.HANDLER_TAP );\n\n\t};\n\n\t/**\n\t * Update reticle event\n\t */\n\tPANOLENS.Viewer.prototype.updateReticleEvent = function () {\n\n\t\tvar centerX, centerY;\n\n\t\tcenterX = this.container.clientWidth / 2 + this.container.offsetLeft;\n\t\tcenterY = this.container.clientHeight / 2;\n\n\t\tthis.removeUpdateCallback( this.HANDLER_TAP );\n\t\tthis.HANDLER_TAP = this.onTap.bind( this, { clientX: centerX, clientY: centerY } );\n\t\tthis.addUpdateCallback( this.HANDLER_TAP );\n\n\t};\n\n\t/**\n\t * Register container and window listeners\n\t */\n\tPANOLENS.Viewer.prototype.registerEventListeners = function () {\n\n\t\t// Resize Event\n\t\twindow.addEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n\t\t// Keyboard Event\n\t\twindow.addEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n\t\twindow.addEventListener( 'keyup'  , this.HANDLER_KEY_UP\t , true );\n\n\t};\n\n\t/**\n\t * Unregister container and window listeners\n\t */\n\tPANOLENS.Viewer.prototype.unregisterEventListeners = function () {\n\n\t\t// Resize Event\n\t\twindow.removeEventListener( 'resize' , this.HANDLER_WINDOW_RESIZE, true );\n\n\t\t// Keyboard Event\n\t\twindow.removeEventListener( 'keydown', this.HANDLER_KEY_DOWN, true );\n\t\twindow.removeEventListener( 'keyup'  , this.HANDLER_KEY_UP  , true );\n\n\t};\n\n\t/**\n\t * Dispose all scene objects and clear cache\n\t */\n\tPANOLENS.Viewer.prototype.dispose = function () {\n\n\t\t// Unregister dom event listeners\n\t\tthis.unregisterEventListeners();\n\n\t\t// recursive disposal on 3d objects\n\t\tfunction recursiveDispose ( object ) {\n\n\t\t\tfor ( var i = object.children.length - 1; i >= 0; i-- ) {\n\n\t\t\t\trecursiveDispose( object.children[i] );\n\t\t\t\tobject.remove( object.children[i] );\n\n\t\t\t}\n\n\t\t\tif ( object instanceof PANOLENS.Infospot ) {\n\n\t\t\t\tobject.dispose();\n\n\t\t\t}\n\n\t\t\tobject.geometry && object.geometry.dispose();\n\t\t\tobject.material && object.material.dispose();\n\t\t}\n\n\t\trecursiveDispose( this.scene );\n\n\t\t// dispose widget\n\t\tif ( this.widget ) {\n\n\t\t\tthis.widget.dispose();\n\t\t\tthis.widget = null;\n\n\t\t}\n\n\t\t// clear cache\n\t\tif ( THREE.Cache && THREE.Cache.enabled ) {\n\n\t\t\tTHREE.Cache.clear();\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Destory viewer by disposing and stopping requestAnimationFrame\n\t */\n\tPANOLENS.Viewer.prototype.destory = function () {\n\n\t\tthis.dispose();\n\t\tthis.render();\n\t\twindow.cancelAnimationFrame( this.requestAnimationId );\t\t\n\n\t};\n\n\t/**\n\t * On panorama dispose\n\t */\n\tPANOLENS.Viewer.prototype.onPanoramaDispose = function ( panorama ) {\n\n\t\tif ( panorama instanceof PANOLENS.VideoPanorama ) {\n\n\t\t\tthis.hideVideoWidget();\n\n\t\t}\n\n\t\tif ( panorama === this.panorama ) {\n\n\t\t\tthis.panorama = null;\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Load ajax call\n\t * @param {string} url - URL to be requested\n\t * @param {function} [callback] - Callback after request completes\n\t */\n\tPANOLENS.Viewer.prototype.loadAsyncRequest = function ( url, callback ) {\n\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.onloadend = function ( event ) {\n\t\t\tcallback && callback( event );\n\t\t};\n\t\trequest.open( \"GET\", url, true );\n\t\trequest.send( null );\n\n\t};\n\n\t/**\n\t * View indicator in upper left\n\t * */\n\tPANOLENS.Viewer.prototype.addViewIndicator = function () {\n\n\t\tvar scope = this;\n\n\t\tfunction loadViewIndicator ( asyncEvent ) {\n\n\t\t\tif ( asyncEvent.loaded === 0 ) return;\n\n\t\t\tvar viewIndicatorDiv = asyncEvent.target.responseXML.documentElement;\n\t\t\tviewIndicatorDiv.style.width = scope.viewIndicatorSize + \"px\";\n\t\t\tviewIndicatorDiv.style.height = scope.viewIndicatorSize + \"px\";\n\t\t\tviewIndicatorDiv.style.position = \"absolute\";\n\t\t\tviewIndicatorDiv.style.top = \"10px\";\n\t\t\tviewIndicatorDiv.style.left = \"10px\";\n\t\t\tviewIndicatorDiv.style.opacity = \"0.5\";\n\t\t\tviewIndicatorDiv.style.cursor = \"pointer\";\n\t\t\tviewIndicatorDiv.id = \"panolens-view-indicator-container\";\n\n\t\t\tscope.container.appendChild( viewIndicatorDiv );\n\n\t\t\tvar indicator = viewIndicatorDiv.querySelector( \"#indicator\" );\n\t\t\tvar setIndicatorD = function () {\n\n\t\t\t\tscope.radius = scope.viewIndicatorSize * 0.225;\n\t\t\t\tscope.currentPanoAngle = scope.camera.rotation.y - THREE.Math.degToRad( 90 );\n\t\t\t\tscope.fovAngle = THREE.Math.degToRad( scope.camera.fov ) ;\n\t\t\t\tscope.leftAngle = -scope.currentPanoAngle - scope.fovAngle / 2;\n\t\t\t\tscope.rightAngle = -scope.currentPanoAngle + scope.fovAngle / 2;\n\t\t\t\tscope.leftX = scope.radius * Math.cos( scope.leftAngle );\n\t\t\t\tscope.leftY = scope.radius * Math.sin( scope.leftAngle );\n\t\t\t\tscope.rightX = scope.radius * Math.cos( scope.rightAngle );\n\t\t\t\tscope.rightY = scope.radius * Math.sin( scope.rightAngle );\n\t\t\t\tscope.indicatorD = \"M \" + scope.leftX + \" \" + scope.leftY + \" A \" + scope.radius + \" \" + scope.radius + \" 0 0 1 \" + scope.rightX + \" \" + scope.rightY;\n\n\t\t\t\tif ( scope.leftX && scope.leftY && scope.rightX && scope.rightY && scope.radius ) {\n\n\t\t\t\t\tindicator.setAttribute( \"d\", scope.indicatorD );\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tscope.addUpdateCallback( setIndicatorD );\n\n\t\t\tvar indicatorOnMouseEnter = function () {\n\n\t\t\t\tthis.style.opacity = \"1\";\n\n\t\t\t};\n\n\t\t\tvar indicatorOnMouseLeave = function () {\n\n\t\t\t\tthis.style.opacity = \"0.5\";\n\n\t\t\t};\n\n\t\t\tviewIndicatorDiv.addEventListener( \"mouseenter\", indicatorOnMouseEnter );\n\t\t\tviewIndicatorDiv.addEventListener( \"mouseleave\", indicatorOnMouseLeave );\n\t\t}\n\n\t\tthis.loadAsyncRequest( PANOLENS.DataImage.ViewIndicator, loadViewIndicator );\n\n\t};\n\n\t/**\n\t * Append custom control item to existing control bar\n\t * @param {object} [option={}] - Style object to overwirte default element style. It takes 'style', 'onTap' and 'group' properties.\n\t */\n\tPANOLENS.Viewer.prototype.appendControlItem = function ( option ) {\n\n\t\tvar item = this.widget.createCustomItem( option );\t\t\n\n\t\tif ( option.group === 'video' ) {\n\n\t\t\tthis.widget.videoElement.appendChild( item );\n\n\t\t} else {\n\n\t\t\tthis.widget.barElement.appendChild( item );\n\n\t\t}\n\n\t\treturn item;\n\n\t};\n\n} )();\n;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\tvar createLayout = require('layout-bmfont-text')\n\tvar inherits = require('inherits')\n\tvar createIndices = require('quad-indices')\n\tvar buffer = require('three-buffer-vertex-data')\n\tvar assign = require('object-assign')\n\n\tvar vertices = require('./lib/vertices')\n\tvar utils = require('./lib/utils')\n\n\tvar Base = THREE.BufferGeometry\n\n\tmodule.exports = function createTextGeometry (opt) {\n\t  return new TextGeometry(opt)\n\t}\n\n\tfunction TextGeometry (opt) {\n\t  Base.call(this)\n\n\t  if (typeof opt === 'string') {\n\t    opt = { text: opt }\n\t  }\n\n\t  // use these as default values for any subsequent\n\t  // calls to update()\n\t  this._opt = assign({}, opt)\n\n\t  // also do an initial setup...\n\t  if (opt) this.update(opt)\n\t}\n\n\tinherits(TextGeometry, Base)\n\n\tTextGeometry.prototype.update = function (opt) {\n\t  if (typeof opt === 'string') {\n\t    opt = { text: opt }\n\t  }\n\n\t  // use constructor defaults\n\t  opt = assign({}, this._opt, opt)\n\n\t  if (!opt.font) {\n\t    throw new TypeError('must specify a { font } in options')\n\t  }\n\n\t  this.layout = createLayout(opt)\n\n\t  // get vec2 texcoords\n\t  var flipY = opt.flipY !== false\n\n\t  // the desired BMFont data\n\t  var font = opt.font\n\n\t  // determine texture size from font file\n\t  var texWidth = font.common.scaleW\n\t  var texHeight = font.common.scaleH\n\n\t  // get visible glyphs\n\t  var glyphs = this.layout.glyphs.filter(function (glyph) {\n\t    var bitmap = glyph.data\n\t    return bitmap.width * bitmap.height > 0\n\t  })\n\n\t  // provide visible glyphs for convenience\n\t  this.visibleGlyphs = glyphs\n\n\t  // get common vertex data\n\t  var positions = vertices.positions(glyphs)\n\t  var uvs = vertices.uvs(glyphs, texWidth, texHeight, flipY)\n\t  var indices = createIndices({\n\t    clockwise: true,\n\t    type: 'uint16',\n\t    count: glyphs.length\n\t  })\n\n\t  // update vertex data\n\t  buffer.index(this, indices, 1, 'uint16')\n\t  buffer.attr(this, 'position', positions, 2)\n\t  buffer.attr(this, 'uv', uvs, 2)\n\n\t  // update multipage data\n\t  if (!opt.multipage && 'page' in this.attributes) {\n\t    // disable multipage rendering\n\t    this.removeAttribute('page')\n\t  } else if (opt.multipage) {\n\t    var pages = vertices.pages(glyphs)\n\t    // enable multipage rendering\n\t    buffer.attr(this, 'page', pages, 1)\n\t  }\n\t}\n\n\tTextGeometry.prototype.computeBoundingSphere = function () {\n\t  if (this.boundingSphere === null) {\n\t    this.boundingSphere = new THREE.Sphere()\n\t  }\n\n\t  var positions = this.attributes.position.array\n\t  var itemSize = this.attributes.position.itemSize\n\t  if (!positions || !itemSize || positions.length < 2) {\n\t    this.boundingSphere.radius = 0\n\t    this.boundingSphere.center.set(0, 0, 0)\n\t    return\n\t  }\n\t  utils.computeSphere(positions, this.boundingSphere)\n\t  if (isNaN(this.boundingSphere.radius)) {\n\t    console.error('THREE.BufferGeometry.computeBoundingSphere(): ' +\n\t      'Computed radius is NaN. The ' +\n\t      '\"position\" attribute is likely to have NaN values.')\n\t  }\n\t}\n\n\tTextGeometry.prototype.computeBoundingBox = function () {\n\t  if (this.boundingBox === null) {\n\t    this.boundingBox = new THREE.Box3()\n\t  }\n\n\t  var bbox = this.boundingBox\n\t  var positions = this.attributes.position.array\n\t  var itemSize = this.attributes.position.itemSize\n\t  if (!positions || !itemSize || positions.length < 2) {\n\t    bbox.makeEmpty()\n\t    return\n\t  }\n\t  utils.computeBox(positions, bbox)\n\t}\n\n\t},{\"./lib/utils\":2,\"./lib/vertices\":3,\"inherits\":4,\"layout-bmfont-text\":5,\"object-assign\":26,\"quad-indices\":27,\"three-buffer-vertex-data\":31}],2:[function(require,module,exports){\n\tvar itemSize = 2\n\tvar box = { min: [0, 0], max: [0, 0] }\n\n\tfunction bounds (positions) {\n\t  var count = positions.length / itemSize\n\t  box.min[0] = positions[0]\n\t  box.min[1] = positions[1]\n\t  box.max[0] = positions[0]\n\t  box.max[1] = positions[1]\n\n\t  for (var i = 0; i < count; i++) {\n\t    var x = positions[i * itemSize + 0]\n\t    var y = positions[i * itemSize + 1]\n\t    box.min[0] = Math.min(x, box.min[0])\n\t    box.min[1] = Math.min(y, box.min[1])\n\t    box.max[0] = Math.max(x, box.max[0])\n\t    box.max[1] = Math.max(y, box.max[1])\n\t  }\n\t}\n\n\tmodule.exports.computeBox = function (positions, output) {\n\t  bounds(positions)\n\t  output.min.set(box.min[0], box.min[1], 0)\n\t  output.max.set(box.max[0], box.max[1], 0)\n\t}\n\n\tmodule.exports.computeSphere = function (positions, output) {\n\t  bounds(positions)\n\t  var minX = box.min[0]\n\t  var minY = box.min[1]\n\t  var maxX = box.max[0]\n\t  var maxY = box.max[1]\n\t  var width = maxX - minX\n\t  var height = maxY - minY\n\t  var length = Math.sqrt(width * width + height * height)\n\t  output.center.set(minX + width / 2, minY + height / 2, 0)\n\t  output.radius = length / 2\n\t}\n\n\t},{}],3:[function(require,module,exports){\n\tmodule.exports.pages = function pages (glyphs) {\n\t  var pages = new Float32Array(glyphs.length * 4 * 1)\n\t  var i = 0\n\t  glyphs.forEach(function (glyph) {\n\t    var id = glyph.data.page || 0\n\t    pages[i++] = id\n\t    pages[i++] = id\n\t    pages[i++] = id\n\t    pages[i++] = id\n\t  })\n\t  return pages\n\t}\n\n\tmodule.exports.uvs = function uvs (glyphs, texWidth, texHeight, flipY) {\n\t  var uvs = new Float32Array(glyphs.length * 4 * 2)\n\t  var i = 0\n\t  glyphs.forEach(function (glyph) {\n\t    var bitmap = glyph.data\n\t    var bw = (bitmap.x + bitmap.width)\n\t    var bh = (bitmap.y + bitmap.height)\n\n\t    // top left position\n\t    var u0 = bitmap.x / texWidth\n\t    var v1 = bitmap.y / texHeight\n\t    var u1 = bw / texWidth\n\t    var v0 = bh / texHeight\n\n\t    if (flipY) {\n\t      v1 = (texHeight - bitmap.y) / texHeight\n\t      v0 = (texHeight - bh) / texHeight\n\t    }\n\n\t    // BL\n\t    uvs[i++] = u0\n\t    uvs[i++] = v1\n\t    // TL\n\t    uvs[i++] = u0\n\t    uvs[i++] = v0\n\t    // TR\n\t    uvs[i++] = u1\n\t    uvs[i++] = v0\n\t    // BR\n\t    uvs[i++] = u1\n\t    uvs[i++] = v1\n\t  })\n\t  return uvs\n\t}\n\n\tmodule.exports.positions = function positions (glyphs) {\n\t  var positions = new Float32Array(glyphs.length * 4 * 2)\n\t  var i = 0\n\t  glyphs.forEach(function (glyph) {\n\t    var bitmap = glyph.data\n\n\t    // bottom left position\n\t    var x = glyph.position[0] + bitmap.xoffset\n\t    var y = glyph.position[1] + bitmap.yoffset\n\n\t    // quad size\n\t    var w = bitmap.width\n\t    var h = bitmap.height\n\n\t    // BL\n\t    positions[i++] = x\n\t    positions[i++] = y\n\t    // TL\n\t    positions[i++] = x\n\t    positions[i++] = y + h\n\t    // TR\n\t    positions[i++] = x + w\n\t    positions[i++] = y + h\n\t    // BR\n\t    positions[i++] = x + w\n\t    positions[i++] = y\n\t  })\n\t  return positions\n\t}\n\n\t},{}],4:[function(require,module,exports){\n\tif (typeof Object.create === 'function') {\n\t  // implementation from standard node.js 'util' module\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    ctor.prototype = Object.create(superCtor.prototype, {\n\t      constructor: {\n\t        value: ctor,\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true\n\t      }\n\t    });\n\t  };\n\t} else {\n\t  // old school shim for old browsers\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    var TempCtor = function () {}\n\t    TempCtor.prototype = superCtor.prototype\n\t    ctor.prototype = new TempCtor()\n\t    ctor.prototype.constructor = ctor\n\t  }\n\t}\n\n\t},{}],5:[function(require,module,exports){\n\tvar wordWrap = require('word-wrapper')\n\tvar xtend = require('xtend')\n\tvar findChar = require('indexof-property')('id')\n\tvar number = require('as-number')\n\n\tvar X_HEIGHTS = ['x', 'e', 'a', 'o', 'n', 's', 'r', 'c', 'u', 'm', 'v', 'w', 'z']\n\tvar M_WIDTHS = ['m', 'w']\n\tvar CAP_HEIGHTS = ['H', 'I', 'N', 'E', 'F', 'K', 'L', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']\n\n\n\tvar TAB_ID = '\\t'.charCodeAt(0)\n\tvar SPACE_ID = ' '.charCodeAt(0)\n\tvar ALIGN_LEFT = 0, \n\t    ALIGN_CENTER = 1, \n\t    ALIGN_RIGHT = 2\n\n\tmodule.exports = function createLayout(opt) {\n\t  return new TextLayout(opt)\n\t}\n\n\tfunction TextLayout(opt) {\n\t  this.glyphs = []\n\t  this._measure = this.computeMetrics.bind(this)\n\t  this.update(opt)\n\t}\n\n\tTextLayout.prototype.update = function(opt) {\n\t  opt = xtend({\n\t    measure: this._measure\n\t  }, opt)\n\t  this._opt = opt\n\t  this._opt.tabSize = number(this._opt.tabSize, 4)\n\n\t  if (!opt.font)\n\t    throw new Error('must provide a valid bitmap font')\n\n\t  var glyphs = this.glyphs\n\t  var text = opt.text||'' \n\t  var font = opt.font\n\t  this._setupSpaceGlyphs(font)\n\t  \n\t  var lines = wordWrap.lines(text, opt)\n\t  var minWidth = opt.width || 0\n\n\t  //clear glyphs\n\t  glyphs.length = 0\n\n\t  //get max line width\n\t  var maxLineWidth = lines.reduce(function(prev, line) {\n\t    return Math.max(prev, line.width, minWidth)\n\t  }, 0)\n\n\t  //the pen position\n\t  var x = 0\n\t  var y = 0\n\t  var lineHeight = number(opt.lineHeight, font.common.lineHeight)\n\t  var baseline = font.common.base\n\t  var descender = lineHeight-baseline\n\t  var letterSpacing = opt.letterSpacing || 0\n\t  var height = lineHeight * lines.length - descender\n\t  var align = getAlignType(this._opt.align)\n\n\t  //draw text along baseline\n\t  y -= height\n\t  \n\t  //the metrics for this text layout\n\t  this._width = maxLineWidth\n\t  this._height = height\n\t  this._descender = lineHeight - baseline\n\t  this._baseline = baseline\n\t  this._xHeight = getXHeight(font)\n\t  this._capHeight = getCapHeight(font)\n\t  this._lineHeight = lineHeight\n\t  this._ascender = lineHeight - descender - this._xHeight\n\t    \n\t  //layout each glyph\n\t  var self = this\n\t  lines.forEach(function(line, lineIndex) {\n\t    var start = line.start\n\t    var end = line.end\n\t    var lineWidth = line.width\n\t    var lastGlyph\n\t    \n\t    //for each glyph in that line...\n\t    for (var i=start; i<end; i++) {\n\t      var id = text.charCodeAt(i)\n\t      var glyph = self.getGlyph(font, id)\n\t      if (glyph) {\n\t        if (lastGlyph) \n\t          x += getKerning(font, lastGlyph.id, glyph.id)\n\n\t        var tx = x\n\t        if (align === ALIGN_CENTER) \n\t          tx += (maxLineWidth-lineWidth)/2\n\t        else if (align === ALIGN_RIGHT)\n\t          tx += (maxLineWidth-lineWidth)\n\n\t        glyphs.push({\n\t          position: [tx, y],\n\t          data: glyph,\n\t          index: i,\n\t          line: lineIndex\n\t        })  \n\n\t        //move pen forward\n\t        x += glyph.xadvance + letterSpacing\n\t        lastGlyph = glyph\n\t      }\n\t    }\n\n\t    //next line down\n\t    y += lineHeight\n\t    x = 0\n\t  })\n\t  this._linesTotal = lines.length;\n\t}\n\n\tTextLayout.prototype._setupSpaceGlyphs = function(font) {\n\t  //These are fallbacks, when the font doesn't include\n\t  //' ' or '\\t' glyphs\n\t  this._fallbackSpaceGlyph = null\n\t  this._fallbackTabGlyph = null\n\n\t  if (!font.chars || font.chars.length === 0)\n\t    return\n\n\t  //try to get space glyph\n\t  //then fall back to the 'm' or 'w' glyphs\n\t  //then fall back to the first glyph available\n\t  var space = getGlyphById(font, SPACE_ID) \n\t          || getMGlyph(font) \n\t          || font.chars[0]\n\n\t  //and create a fallback for tab\n\t  var tabWidth = this._opt.tabSize * space.xadvance\n\t  this._fallbackSpaceGlyph = space\n\t  this._fallbackTabGlyph = xtend(space, {\n\t    x: 0, y: 0, xadvance: tabWidth, id: TAB_ID, \n\t    xoffset: 0, yoffset: 0, width: 0, height: 0\n\t  })\n\t}\n\n\tTextLayout.prototype.getGlyph = function(font, id) {\n\t  var glyph = getGlyphById(font, id)\n\t  if (glyph)\n\t    return glyph\n\t  else if (id === TAB_ID) \n\t    return this._fallbackTabGlyph\n\t  else if (id === SPACE_ID) \n\t    return this._fallbackSpaceGlyph\n\t  return null\n\t}\n\n\tTextLayout.prototype.computeMetrics = function(text, start, end, width) {\n\t  var letterSpacing = this._opt.letterSpacing || 0\n\t  var font = this._opt.font\n\t  var curPen = 0\n\t  var curWidth = 0\n\t  var count = 0\n\t  var glyph\n\t  var lastGlyph\n\n\t  if (!font.chars || font.chars.length === 0) {\n\t    return {\n\t      start: start,\n\t      end: start,\n\t      width: 0\n\t    }\n\t  }\n\n\t  end = Math.min(text.length, end)\n\t  for (var i=start; i < end; i++) {\n\t    var id = text.charCodeAt(i)\n\t    var glyph = this.getGlyph(font, id)\n\n\t    if (glyph) {\n\t      //move pen forward\n\t      var xoff = glyph.xoffset\n\t      var kern = lastGlyph ? getKerning(font, lastGlyph.id, glyph.id) : 0\n\t      curPen += kern\n\n\t      var nextPen = curPen + glyph.xadvance + letterSpacing\n\t      var nextWidth = curPen + glyph.width\n\n\t      //we've hit our limit; we can't move onto the next glyph\n\t      if (nextWidth >= width || nextPen >= width)\n\t        break\n\n\t      //otherwise continue along our line\n\t      curPen = nextPen\n\t      curWidth = nextWidth\n\t      lastGlyph = glyph\n\t    }\n\t    count++\n\t  }\n\t  \n\t  //make sure rightmost edge lines up with rendered glyphs\n\t  if (lastGlyph)\n\t    curWidth += lastGlyph.xoffset\n\n\t  return {\n\t    start: start,\n\t    end: start + count,\n\t    width: curWidth\n\t  }\n\t}\n\n\t//getters for the private vars\n\t;['width', 'height', \n\t  'descender', 'ascender',\n\t  'xHeight', 'baseline',\n\t  'capHeight',\n\t  'lineHeight' ].forEach(addGetter)\n\n\tfunction addGetter(name) {\n\t  Object.defineProperty(TextLayout.prototype, name, {\n\t    get: wrapper(name),\n\t    configurable: true\n\t  })\n\t}\n\n\t//create lookups for private vars\n\tfunction wrapper(name) {\n\t  return (new Function([\n\t    'return function '+name+'() {',\n\t    '  return this._'+name,\n\t    '}'\n\t  ].join('\\n')))()\n\t}\n\n\tfunction getGlyphById(font, id) {\n\t  if (!font.chars || font.chars.length === 0)\n\t    return null\n\n\t  var glyphIdx = findChar(font.chars, id)\n\t  if (glyphIdx >= 0)\n\t    return font.chars[glyphIdx]\n\t  return null\n\t}\n\n\tfunction getXHeight(font) {\n\t  for (var i=0; i<X_HEIGHTS.length; i++) {\n\t    var id = X_HEIGHTS[i].charCodeAt(0)\n\t    var idx = findChar(font.chars, id)\n\t    if (idx >= 0) \n\t      return font.chars[idx].height\n\t  }\n\t  return 0\n\t}\n\n\tfunction getMGlyph(font) {\n\t  for (var i=0; i<M_WIDTHS.length; i++) {\n\t    var id = M_WIDTHS[i].charCodeAt(0)\n\t    var idx = findChar(font.chars, id)\n\t    if (idx >= 0) \n\t      return font.chars[idx]\n\t  }\n\t  return 0\n\t}\n\n\tfunction getCapHeight(font) {\n\t  for (var i=0; i<CAP_HEIGHTS.length; i++) {\n\t    var id = CAP_HEIGHTS[i].charCodeAt(0)\n\t    var idx = findChar(font.chars, id)\n\t    if (idx >= 0) \n\t      return font.chars[idx].height\n\t  }\n\t  return 0\n\t}\n\n\tfunction getKerning(font, left, right) {\n\t  if (!font.kernings || font.kernings.length === 0)\n\t    return 0\n\n\t  var table = font.kernings\n\t  for (var i=0; i<table.length; i++) {\n\t    var kern = table[i]\n\t    if (kern.first === left && kern.second === right)\n\t      return kern.amount\n\t  }\n\t  return 0\n\t}\n\n\tfunction getAlignType(align) {\n\t  if (align === 'center')\n\t    return ALIGN_CENTER\n\t  else if (align === 'right')\n\t    return ALIGN_RIGHT\n\t  return ALIGN_LEFT\n\t}\n\t},{\"as-number\":6,\"indexof-property\":7,\"word-wrapper\":8,\"xtend\":9}],6:[function(require,module,exports){\n\tmodule.exports = function numtype(num, def) {\n\t  return typeof num === 'number'\n\t    ? num \n\t    : (typeof def === 'number' ? def : 0)\n\t}\n\t},{}],7:[function(require,module,exports){\n\tmodule.exports = function compile(property) {\n\t  if (!property || typeof property !== 'string')\n\t    throw new Error('must specify property for indexof search')\n\n\t  return new Function('array', 'value', 'start', [\n\t    'start = start || 0',\n\t    'for (var i=start; i<array.length; i++)',\n\t    '  if (array[i][\"' + property +'\"] === value)',\n\t    '      return i',\n\t    'return -1'\n\t  ].join('\\n'))\n\t}\n\t},{}],8:[function(require,module,exports){\n\tvar newline = /\\n/\n\tvar newlineChar = '\\n'\n\tvar whitespace = /\\s/\n\n\tmodule.exports = function(text, opt) {\n\t    var lines = module.exports.lines(text, opt)\n\t    return lines.map(function(line) {\n\t        return text.substring(line.start, line.end)\n\t    }).join('\\n')\n\t}\n\n\tmodule.exports.lines = function wordwrap(text, opt) {\n\t    opt = opt||{}\n\n\t    //zero width results in nothing visible\n\t    if (opt.width === 0 && opt.mode !== 'nowrap') \n\t        return []\n\n\t    text = text||''\n\t    var width = typeof opt.width === 'number' ? opt.width : Number.MAX_VALUE\n\t    var start = Math.max(0, opt.start||0)\n\t    var end = typeof opt.end === 'number' ? opt.end : text.length\n\t    var mode = opt.mode\n\n\t    var measure = opt.measure || monospace\n\t    if (mode === 'pre')\n\t        return pre(measure, text, start, end, width)\n\t    else\n\t        return greedy(measure, text, start, end, width, mode)\n\t}\n\n\tfunction idxOf(text, chr, start, end) {\n\t    var idx = text.indexOf(chr, start)\n\t    if (idx === -1 || idx > end)\n\t        return end\n\t    return idx\n\t}\n\n\tfunction isWhitespace(chr) {\n\t    return whitespace.test(chr)\n\t}\n\n\tfunction pre(measure, text, start, end, width) {\n\t    var lines = []\n\t    var lineStart = start\n\t    for (var i=start; i<end && i<text.length; i++) {\n\t        var chr = text.charAt(i)\n\t        var isNewline = newline.test(chr)\n\n\t        //If we've reached a newline, then step down a line\n\t        //Or if we've reached the EOF\n\t        if (isNewline || i===end-1) {\n\t            var lineEnd = isNewline ? i : i+1\n\t            var measured = measure(text, lineStart, lineEnd, width)\n\t            lines.push(measured)\n\t            \n\t            lineStart = i+1\n\t        }\n\t    }\n\t    return lines\n\t}\n\n\tfunction greedy(measure, text, start, end, width, mode) {\n\t    //A greedy word wrapper based on LibGDX algorithm\n\t    //https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/BitmapFontCache.java\n\t    var lines = []\n\n\t    var testWidth = width\n\t    //if 'nowrap' is specified, we only wrap on newline chars\n\t    if (mode === 'nowrap')\n\t        testWidth = Number.MAX_VALUE\n\n\t    while (start < end && start < text.length) {\n\t        //get next newline position\n\t        var newLine = idxOf(text, newlineChar, start, end)\n\n\t        //eat whitespace at start of line\n\t        while (start < newLine) {\n\t            if (!isWhitespace( text.charAt(start) ))\n\t                break\n\t            start++\n\t        }\n\n\t        //determine visible # of glyphs for the available width\n\t        var measured = measure(text, start, newLine, testWidth)\n\n\t        var lineEnd = start + (measured.end-measured.start)\n\t        var nextStart = lineEnd + newlineChar.length\n\n\t        //if we had to cut the line before the next newline...\n\t        if (lineEnd < newLine) {\n\t            //find char to break on\n\t            while (lineEnd > start) {\n\t                if (isWhitespace(text.charAt(lineEnd)))\n\t                    break\n\t                lineEnd--\n\t            }\n\t            if (lineEnd === start) {\n\t                if (nextStart > start + newlineChar.length) nextStart--\n\t                lineEnd = nextStart // If no characters to break, show all.\n\t            } else {\n\t                nextStart = lineEnd\n\t                //eat whitespace at end of line\n\t                while (lineEnd > start) {\n\t                    if (!isWhitespace(text.charAt(lineEnd - newlineChar.length)))\n\t                        break\n\t                    lineEnd--\n\t                }\n\t            }\n\t        }\n\t        if (lineEnd >= start) {\n\t            var result = measure(text, start, lineEnd, testWidth)\n\t            lines.push(result)\n\t        }\n\t        start = nextStart\n\t    }\n\t    return lines\n\t}\n\n\t//determines the visible number of glyphs within a given width\n\tfunction monospace(text, start, end, width) {\n\t    var glyphs = Math.min(width, end-start)\n\t    return {\n\t        start: start,\n\t        end: start+glyphs\n\t    }\n\t}\n\t},{}],9:[function(require,module,exports){\n\tmodule.exports = extend\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\tfunction extend() {\n\t    var target = {}\n\n\t    for (var i = 0; i < arguments.length; i++) {\n\t        var source = arguments[i]\n\n\t        for (var key in source) {\n\t            if (hasOwnProperty.call(source, key)) {\n\t                target[key] = source[key]\n\t            }\n\t        }\n\t    }\n\n\t    return target\n\t}\n\n\t},{}],10:[function(require,module,exports){\n\t(function (Buffer){\n\tvar xhr = require('xhr')\n\tvar noop = function(){}\n\tvar parseASCII = require('parse-bmfont-ascii')\n\tvar parseXML = require('parse-bmfont-xml')\n\tvar readBinary = require('parse-bmfont-binary')\n\tvar isBinaryFormat = require('./lib/is-binary')\n\tvar xtend = require('xtend')\n\n\tvar xml2 = (function hasXML2() {\n\t  return window.XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest\n\t})()\n\n\tmodule.exports = function(opt, cb) {\n\t  cb = typeof cb === 'function' ? cb : noop\n\n\t  if (typeof opt === 'string')\n\t    opt = { uri: opt }\n\t  else if (!opt)\n\t    opt = {}\n\n\t  var expectBinary = opt.binary\n\t  if (expectBinary)\n\t    opt = getBinaryOpts(opt)\n\n\t  xhr(opt, function(err, res, body) {\n\t    if (err)\n\t      return cb(err)\n\t    if (!/^2/.test(res.statusCode))\n\t      return cb(new Error('http status code: '+res.statusCode))\n\t    if (!body)\n\t      return cb(new Error('no body result'))\n\n\t    var binary = false \n\n\t    //if the response type is an array buffer,\n\t    //we need to convert it into a regular Buffer object\n\t    if (isArrayBuffer(body)) {\n\t      var array = new Uint8Array(body)\n\t      body = new Buffer(array, 'binary')\n\t    }\n\n\t    //now check the string/Buffer response\n\t    //and see if it has a binary BMF header\n\t    if (isBinaryFormat(body)) {\n\t      binary = true\n\t      //if we have a string, turn it into a Buffer\n\t      if (typeof body === 'string') \n\t        body = new Buffer(body, 'binary')\n\t    } \n\n\t    //we are not parsing a binary format, just ASCII/XML/etc\n\t    if (!binary) {\n\t      //might still be a buffer if responseType is 'arraybuffer'\n\t      if (Buffer.isBuffer(body))\n\t        body = body.toString(opt.encoding)\n\t      body = body.trim()\n\t    }\n\n\t    var result\n\t    try {\n\t      var type = res.headers['content-type']\n\t      if (binary)\n\t        result = readBinary(body)\n\t      else if (/json/.test(type) || body.charAt(0) === '{')\n\t        result = JSON.parse(body)\n\t      else if (/xml/.test(type)  || body.charAt(0) === '<')\n\t        result = parseXML(body)\n\t      else\n\t        result = parseASCII(body)\n\t    } catch (e) {\n\t      cb(new Error('error parsing font '+e.message))\n\t      cb = noop\n\t    }\n\t    cb(null, result)\n\t  })\n\t}\n\n\tfunction isArrayBuffer(arr) {\n\t  var str = Object.prototype.toString\n\t  return str.call(arr) === '[object ArrayBuffer]'\n\t}\n\n\tfunction getBinaryOpts(opt) {\n\t  //IE10+ and other modern browsers support array buffers\n\t  if (xml2)\n\t    return xtend(opt, { responseType: 'arraybuffer' })\n\t  \n\t  if (typeof window.XMLHttpRequest === 'undefined')\n\t    throw new Error('your browser does not support XHR loading')\n\n\t  //IE9 and XML1 browsers could still use an override\n\t  var req = new window.XMLHttpRequest()\n\t  req.overrideMimeType('text/plain; charset=x-user-defined')\n\t  return xtend({\n\t    xhr: req\n\t  }, opt)\n\t}\n\t}).call(this,require(\"buffer\").Buffer)\n\t},{\"./lib/is-binary\":11,\"buffer\":37,\"parse-bmfont-ascii\":13,\"parse-bmfont-binary\":14,\"parse-bmfont-xml\":15,\"xhr\":18,\"xtend\":25}],11:[function(require,module,exports){\n\t(function (Buffer){\n\tvar equal = require('buffer-equal')\n\tvar HEADER = new Buffer([66, 77, 70, 3])\n\n\tmodule.exports = function(buf) {\n\t  if (typeof buf === 'string')\n\t    return buf.substring(0, 3) === 'BMF'\n\t  return buf.length > 4 && equal(buf.slice(0, 4), HEADER)\n\t}\n\t}).call(this,require(\"buffer\").Buffer)\n\t},{\"buffer\":37,\"buffer-equal\":12}],12:[function(require,module,exports){\n\tvar Buffer = require('buffer').Buffer; // for use with browserify\n\n\tmodule.exports = function (a, b) {\n\t    if (!Buffer.isBuffer(a)) return undefined;\n\t    if (!Buffer.isBuffer(b)) return undefined;\n\t    if (typeof a.equals === 'function') return a.equals(b);\n\t    if (a.length !== b.length) return false;\n\t    \n\t    for (var i = 0; i < a.length; i++) {\n\t        if (a[i] !== b[i]) return false;\n\t    }\n\t    \n\t    return true;\n\t};\n\n\t},{\"buffer\":37}],13:[function(require,module,exports){\n\tmodule.exports = function parseBMFontAscii(data) {\n\t  if (!data)\n\t    throw new Error('no data provided')\n\t  data = data.toString().trim()\n\n\t  var output = {\n\t    pages: [],\n\t    chars: [],\n\t    kernings: []\n\t  }\n\n\t  var lines = data.split(/\\r\\n?|\\n/g)\n\n\t  if (lines.length === 0)\n\t    throw new Error('no data in BMFont file')\n\n\t  for (var i = 0; i < lines.length; i++) {\n\t    var lineData = splitLine(lines[i], i)\n\t    if (!lineData) //skip empty lines\n\t      continue\n\n\t    if (lineData.key === 'page') {\n\t      if (typeof lineData.data.id !== 'number')\n\t        throw new Error('malformed file at line ' + i + ' -- needs page id=N')\n\t      if (typeof lineData.data.file !== 'string')\n\t        throw new Error('malformed file at line ' + i + ' -- needs page file=\"path\"')\n\t      output.pages[lineData.data.id] = lineData.data.file\n\t    } else if (lineData.key === 'chars' || lineData.key === 'kernings') {\n\t      //... do nothing for these two ...\n\t    } else if (lineData.key === 'char') {\n\t      output.chars.push(lineData.data)\n\t    } else if (lineData.key === 'kerning') {\n\t      output.kernings.push(lineData.data)\n\t    } else {\n\t      output[lineData.key] = lineData.data\n\t    }\n\t  }\n\n\t  return output\n\t}\n\n\tfunction splitLine(line, idx) {\n\t  line = line.replace(/\\t+/g, ' ').trim()\n\t  if (!line)\n\t    return null\n\n\t  var space = line.indexOf(' ')\n\t  if (space === -1) \n\t    throw new Error(\"no named row at line \" + idx)\n\n\t  var key = line.substring(0, space)\n\n\t  line = line.substring(space + 1)\n\t  //clear \"letter\" field as it is non-standard and\n\t  //requires additional complexity to parse \" / = symbols\n\t  line = line.replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, '')  \n\t  line = line.split(\"=\")\n\t  line = line.map(function(str) {\n\t    return str.trim().match((/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g))\n\t  })\n\n\t  var data = []\n\t  for (var i = 0; i < line.length; i++) {\n\t    var dt = line[i]\n\t    if (i === 0) {\n\t      data.push({\n\t        key: dt[0],\n\t        data: \"\"\n\t      })\n\t    } else if (i === line.length - 1) {\n\t      data[data.length - 1].data = parseData(dt[0])\n\t    } else {\n\t      data[data.length - 1].data = parseData(dt[0])\n\t      data.push({\n\t        key: dt[1],\n\t        data: \"\"\n\t      })\n\t    }\n\t  }\n\n\t  var out = {\n\t    key: key,\n\t    data: {}\n\t  }\n\n\t  data.forEach(function(v) {\n\t    out.data[v.key] = v.data;\n\t  })\n\n\t  return out\n\t}\n\n\tfunction parseData(data) {\n\t  if (!data || data.length === 0)\n\t    return \"\"\n\n\t  if (data.indexOf('\"') === 0 || data.indexOf(\"'\") === 0)\n\t    return data.substring(1, data.length - 1)\n\t  if (data.indexOf(',') !== -1)\n\t    return parseIntList(data)\n\t  return parseInt(data, 10)\n\t}\n\n\tfunction parseIntList(data) {\n\t  return data.split(',').map(function(val) {\n\t    return parseInt(val, 10)\n\t  })\n\t}\n\t},{}],14:[function(require,module,exports){\n\tvar HEADER = [66, 77, 70]\n\n\tmodule.exports = function readBMFontBinary(buf) {\n\t  if (buf.length < 6)\n\t    throw new Error('invalid buffer length for BMFont')\n\n\t  var header = HEADER.every(function(byte, i) {\n\t    return buf.readUInt8(i) === byte\n\t  })\n\n\t  if (!header)\n\t    throw new Error('BMFont missing BMF byte header')\n\n\t  var i = 3\n\t  var vers = buf.readUInt8(i++)\n\t  if (vers > 3)\n\t    throw new Error('Only supports BMFont Binary v3 (BMFont App v1.10)')\n\t  \n\t  var target = { kernings: [], chars: [] }\n\t  for (var b=0; b<5; b++)\n\t    i += readBlock(target, buf, i)\n\t  return target\n\t}\n\n\tfunction readBlock(target, buf, i) {\n\t  if (i > buf.length-1)\n\t    return 0\n\n\t  var blockID = buf.readUInt8(i++)\n\t  var blockSize = buf.readInt32LE(i)\n\t  i += 4\n\n\t  switch(blockID) {\n\t    case 1: \n\t      target.info = readInfo(buf, i)\n\t      break\n\t    case 2:\n\t      target.common = readCommon(buf, i)\n\t      break\n\t    case 3:\n\t      target.pages = readPages(buf, i, blockSize)\n\t      break\n\t    case 4:\n\t      target.chars = readChars(buf, i, blockSize)\n\t      break\n\t    case 5:\n\t      target.kernings = readKernings(buf, i, blockSize)\n\t      break\n\t  }\n\t  return 5 + blockSize\n\t}\n\n\tfunction readInfo(buf, i) {\n\t  var info = {}\n\t  info.size = buf.readInt16LE(i)\n\n\t  var bitField = buf.readUInt8(i+2)\n\t  info.smooth = (bitField >> 7) & 1\n\t  info.unicode = (bitField >> 6) & 1\n\t  info.italic = (bitField >> 5) & 1\n\t  info.bold = (bitField >> 4) & 1\n\t  \n\t  //fixedHeight is only mentioned in binary spec \n\t  if ((bitField >> 3) & 1)\n\t    info.fixedHeight = 1\n\t  \n\t  info.charset = buf.readUInt8(i+3) || ''\n\t  info.stretchH = buf.readUInt16LE(i+4)\n\t  info.aa = buf.readUInt8(i+6)\n\t  info.padding = [\n\t    buf.readInt8(i+7),\n\t    buf.readInt8(i+8),\n\t    buf.readInt8(i+9),\n\t    buf.readInt8(i+10)\n\t  ]\n\t  info.spacing = [\n\t    buf.readInt8(i+11),\n\t    buf.readInt8(i+12)\n\t  ]\n\t  info.outline = buf.readUInt8(i+13)\n\t  info.face = readStringNT(buf, i+14)\n\t  return info\n\t}\n\n\tfunction readCommon(buf, i) {\n\t  var common = {}\n\t  common.lineHeight = buf.readUInt16LE(i)\n\t  common.base = buf.readUInt16LE(i+2)\n\t  common.scaleW = buf.readUInt16LE(i+4)\n\t  common.scaleH = buf.readUInt16LE(i+6)\n\t  common.pages = buf.readUInt16LE(i+8)\n\t  var bitField = buf.readUInt8(i+10)\n\t  common.packed = 0\n\t  common.alphaChnl = buf.readUInt8(i+11)\n\t  common.redChnl = buf.readUInt8(i+12)\n\t  common.greenChnl = buf.readUInt8(i+13)\n\t  common.blueChnl = buf.readUInt8(i+14)\n\t  return common\n\t}\n\n\tfunction readPages(buf, i, size) {\n\t  var pages = []\n\t  var text = readNameNT(buf, i)\n\t  var len = text.length+1\n\t  var count = size / len\n\t  for (var c=0; c<count; c++) {\n\t    pages[c] = buf.slice(i, i+text.length).toString('utf8')\n\t    i += len\n\t  }\n\t  return pages\n\t}\n\n\tfunction readChars(buf, i, blockSize) {\n\t  var chars = []\n\n\t  var count = blockSize / 20\n\t  for (var c=0; c<count; c++) {\n\t    var char = {}\n\t    var off = c*20\n\t    char.id = buf.readUInt32LE(i + 0 + off)\n\t    char.x = buf.readUInt16LE(i + 4 + off)\n\t    char.y = buf.readUInt16LE(i + 6 + off)\n\t    char.width = buf.readUInt16LE(i + 8 + off)\n\t    char.height = buf.readUInt16LE(i + 10 + off)\n\t    char.xoffset = buf.readInt16LE(i + 12 + off)\n\t    char.yoffset = buf.readInt16LE(i + 14 + off)\n\t    char.xadvance = buf.readInt16LE(i + 16 + off)\n\t    char.page = buf.readUInt8(i + 18 + off)\n\t    char.chnl = buf.readUInt8(i + 19 + off)\n\t    chars[c] = char\n\t  }\n\t  return chars\n\t}\n\n\tfunction readKernings(buf, i, blockSize) {\n\t  var kernings = []\n\t  var count = blockSize / 10\n\t  for (var c=0; c<count; c++) {\n\t    var kern = {}\n\t    var off = c*10\n\t    kern.first = buf.readUInt32LE(i + 0 + off)\n\t    kern.second = buf.readUInt32LE(i + 4 + off)\n\t    kern.amount = buf.readInt16LE(i + 8 + off)\n\t    kernings[c] = kern\n\t  }\n\t  return kernings\n\t}\n\n\tfunction readNameNT(buf, offset) {\n\t  var pos=offset\n\t  for (; pos<buf.length; pos++) {\n\t    if (buf[pos] === 0x00) \n\t      break\n\t  }\n\t  return buf.slice(offset, pos)\n\t}\n\n\tfunction readStringNT(buf, offset) {\n\t  return readNameNT(buf, offset).toString('utf8')\n\t}\n\t},{}],15:[function(require,module,exports){\n\tvar parseAttributes = require('./parse-attribs')\n\tvar parseFromString = require('xml-parse-from-string')\n\n\t//In some cases element.attribute.nodeName can return\n\t//all lowercase values.. so we need to map them to the correct \n\t//case\n\tvar NAME_MAP = {\n\t  scaleh: 'scaleH',\n\t  scalew: 'scaleW',\n\t  stretchh: 'stretchH',\n\t  lineheight: 'lineHeight',\n\t  alphachnl: 'alphaChnl',\n\t  redchnl: 'redChnl',\n\t  greenchnl: 'greenChnl',\n\t  bluechnl: 'blueChnl'\n\t}\n\n\tmodule.exports = function parse(data) {\n\t  data = data.toString()\n\t  \n\t  var xmlRoot = parseFromString(data)\n\t  var output = {\n\t    pages: [],\n\t    chars: [],\n\t    kernings: []\n\t  }\n\n\t  //get config settings\n\t  ;['info', 'common'].forEach(function(key) {\n\t    var element = xmlRoot.getElementsByTagName(key)[0]\n\t    if (element)\n\t      output[key] = parseAttributes(getAttribs(element))\n\t  })\n\n\t  //get page info\n\t  var pageRoot = xmlRoot.getElementsByTagName('pages')[0]\n\t  if (!pageRoot)\n\t    throw new Error('malformed file -- no <pages> element')\n\t  var pages = pageRoot.getElementsByTagName('page')\n\t  for (var i=0; i<pages.length; i++) {\n\t    var p = pages[i]\n\t    var id = parseInt(p.getAttribute('id'), 10)\n\t    var file = p.getAttribute('file')\n\t    if (isNaN(id))\n\t      throw new Error('malformed file -- page \"id\" attribute is NaN')\n\t    if (!file)\n\t      throw new Error('malformed file -- needs page \"file\" attribute')\n\t    output.pages[parseInt(id, 10)] = file\n\t  }\n\n\t  //get kernings / chars\n\t  ;['chars', 'kernings'].forEach(function(key) {\n\t    var element = xmlRoot.getElementsByTagName(key)[0]\n\t    if (!element)\n\t      return\n\t    var childTag = key.substring(0, key.length-1)\n\t    var children = element.getElementsByTagName(childTag)\n\t    for (var i=0; i<children.length; i++) {      \n\t      var child = children[i]\n\t      output[key].push(parseAttributes(getAttribs(child)))\n\t    }\n\t  })\n\t  return output\n\t}\n\n\tfunction getAttribs(element) {\n\t  var attribs = getAttribList(element)\n\t  return attribs.reduce(function(dict, attrib) {\n\t    var key = mapName(attrib.nodeName)\n\t    dict[key] = attrib.nodeValue\n\t    return dict\n\t  }, {})\n\t}\n\n\tfunction getAttribList(element) {\n\t  //IE8+ and modern browsers\n\t  var attribs = []\n\t  for (var i=0; i<element.attributes.length; i++)\n\t    attribs.push(element.attributes[i])\n\t  return attribs\n\t}\n\n\tfunction mapName(nodeName) {\n\t  return NAME_MAP[nodeName.toLowerCase()] || nodeName\n\t}\n\t},{\"./parse-attribs\":16,\"xml-parse-from-string\":17}],16:[function(require,module,exports){\n\t//Some versions of GlyphDesigner have a typo\n\t//that causes some bugs with parsing. \n\t//Need to confirm with recent version of the software\n\t//to see whether this is still an issue or not.\n\tvar GLYPH_DESIGNER_ERROR = 'chasrset'\n\n\tmodule.exports = function parseAttributes(obj) {\n\t  if (GLYPH_DESIGNER_ERROR in obj) {\n\t    obj['charset'] = obj[GLYPH_DESIGNER_ERROR]\n\t    delete obj[GLYPH_DESIGNER_ERROR]\n\t  }\n\n\t  for (var k in obj) {\n\t    if (k === 'face' || k === 'charset') \n\t      continue\n\t    else if (k === 'padding' || k === 'spacing')\n\t      obj[k] = parseIntList(obj[k])\n\t    else\n\t      obj[k] = parseInt(obj[k], 10) \n\t  }\n\t  return obj\n\t}\n\n\tfunction parseIntList(data) {\n\t  return data.split(',').map(function(val) {\n\t    return parseInt(val, 10)\n\t  })\n\t}\n\t},{}],17:[function(require,module,exports){\n\tmodule.exports = (function xmlparser() {\n\t  //common browsers\n\t  if (typeof window.DOMParser !== 'undefined') {\n\t    return function(str) {\n\t      var parser = new window.DOMParser()\n\t      return parser.parseFromString(str, 'application/xml')\n\t    }\n\t  } \n\n\t  //IE8 fallback\n\t  if (typeof window.ActiveXObject !== 'undefined'\n\t      && new window.ActiveXObject('Microsoft.XMLDOM')) {\n\t    return function(str) {\n\t      var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\")\n\t      xmlDoc.async = \"false\"\n\t      xmlDoc.loadXML(str)\n\t      return xmlDoc\n\t    }\n\t  }\n\n\t  //last resort fallback\n\t  return function(str) {\n\t    var div = document.createElement('div')\n\t    div.innerHTML = str\n\t    return div\n\t  }\n\t})()\n\t},{}],18:[function(require,module,exports){\n\t\"use strict\";\n\tvar window = require(\"global/window\")\n\tvar once = require(\"once\")\n\tvar isFunction = require(\"is-function\")\n\tvar parseHeaders = require(\"parse-headers\")\n\tvar xtend = require(\"xtend\")\n\n\tmodule.exports = createXHR\n\tcreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\n\tcreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\n\tforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n\t    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n\t        options = initParams(uri, options, callback)\n\t        options.method = method.toUpperCase()\n\t        return _createXHR(options)\n\t    }\n\t})\n\n\tfunction forEachArray(array, iterator) {\n\t    for (var i = 0; i < array.length; i++) {\n\t        iterator(array[i])\n\t    }\n\t}\n\n\tfunction isEmpty(obj){\n\t    for(var i in obj){\n\t        if(obj.hasOwnProperty(i)) return false\n\t    }\n\t    return true\n\t}\n\n\tfunction initParams(uri, options, callback) {\n\t    var params = uri\n\n\t    if (isFunction(options)) {\n\t        callback = options\n\t        if (typeof uri === \"string\") {\n\t            params = {uri:uri}\n\t        }\n\t    } else {\n\t        params = xtend(options, {uri: uri})\n\t    }\n\n\t    params.callback = callback\n\t    return params\n\t}\n\n\tfunction createXHR(uri, options, callback) {\n\t    options = initParams(uri, options, callback)\n\t    return _createXHR(options)\n\t}\n\n\tfunction _createXHR(options) {\n\t    var callback = options.callback\n\t    if(typeof callback === \"undefined\"){\n\t        throw new Error(\"callback argument missing\")\n\t    }\n\t    callback = once(callback)\n\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            loadFunc()\n\t        }\n\t    }\n\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = undefined\n\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\n\t        return body\n\t    }\n\n\t    var failureResponse = {\n\t                body: undefined,\n\t                headers: {},\n\t                statusCode: 0,\n\t                method: method,\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\n\t    function errorFunc(evt) {\n\t        clearTimeout(timeoutTimer)\n\t        if(!(evt instanceof Error)){\n\t            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n\t        }\n\t        evt.statusCode = 0\n\t        callback(evt, failureResponse)\n\t    }\n\n\t    // will load the data & process the response in a special response object\n\t    function loadFunc() {\n\t        if (aborted) return\n\t        var status\n\t        clearTimeout(timeoutTimer)\n\t        if(options.useXDR && xhr.status===undefined) {\n\t            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n\t            status = 200\n\t        } else {\n\t            status = (xhr.status === 1223 ? 204 : xhr.status)\n\t        }\n\t        var response = failureResponse\n\t        var err = null\n\n\t        if (status !== 0){\n\t            response = {\n\t                body: getBody(),\n\t                statusCode: status,\n\t                method: method,\n\t                headers: {},\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t            }\n\t        } else {\n\t            err = new Error(\"Internal XMLHttpRequest Error\")\n\t        }\n\t        callback(err, response, response.body)\n\n\t    }\n\n\t    var xhr = options.xhr || null\n\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new createXHR.XDomainRequest()\n\t        }else{\n\t            xhr = new createXHR.XMLHttpRequest()\n\t        }\n\t    }\n\n\t    var key\n\t    var aborted\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data || null\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var timeoutTimer\n\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = loadFunc\n\t    xhr.onerror = errorFunc\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    xhr.ontimeout = errorFunc\n\t    xhr.open(method, uri, !sync, options.username, options.password)\n\t    //has to be after open\n\t    if(!sync) {\n\t        xhr.withCredentials = !!options.withCredentials\n\t    }\n\t    // Cannot set timeout with sync request\n\t    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n\t    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\t    if (!sync && options.timeout > 0 ) {\n\t        timeoutTimer = setTimeout(function(){\n\t            aborted=true//IE9 may still call readystatechange\n\t            xhr.abort(\"timeout\")\n\t            var e = new Error(\"XMLHttpRequest timeout\")\n\t            e.code = \"ETIMEDOUT\"\n\t            errorFunc(e)\n\t        }, options.timeout )\n\t    }\n\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers && !isEmpty(options.headers)) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\n\t    if (\"beforeSend\" in options &&\n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\n\t    xhr.send(body)\n\n\t    return xhr\n\n\n\t}\n\n\tfunction noop() {}\n\n\t},{\"global/window\":19,\"is-function\":20,\"once\":21,\"parse-headers\":24,\"xtend\":25}],19:[function(require,module,exports){\n\t(function (global){\n\tif (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\n\t}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\t},{}],20:[function(require,module,exports){\n\tmodule.exports = isFunction\n\n\tvar toString = Object.prototype.toString\n\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\t},{}],21:[function(require,module,exports){\n\tmodule.exports = once\n\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\t},{}],22:[function(require,module,exports){\n\tvar isFunction = require('is-function')\n\n\tmodule.exports = forEach\n\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\t},{\"is-function\":20}],23:[function(require,module,exports){\n\n\texports = module.exports = trim;\n\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\t},{}],24:[function(require,module,exports){\n\tvar trim = require('trim')\n\t  , forEach = require('for-each')\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\n\t  var result = {}\n\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\n\t  return result\n\t}\n\t},{\"for-each\":22,\"trim\":23}],25:[function(require,module,exports){\n\targuments[4][9][0].apply(exports,arguments)\n\t},{\"dup\":9}],26:[function(require,module,exports){\n\t/* eslint-disable no-unused-vars */\n\t'use strict';\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n\tfunction toObject(val) {\n\t  if (val === null || val === undefined) {\n\t    throw new TypeError('Object.assign cannot be called with null or undefined');\n\t  }\n\n\t  return Object(val);\n\t}\n\n\tmodule.exports = Object.assign || function (target, source) {\n\t  var from;\n\t  var to = toObject(target);\n\t  var symbols;\n\n\t  for (var s = 1; s < arguments.length; s++) {\n\t    from = Object(arguments[s]);\n\n\t    for (var key in from) {\n\t      if (hasOwnProperty.call(from, key)) {\n\t        to[key] = from[key];\n\t      }\n\t    }\n\n\t    if (Object.getOwnPropertySymbols) {\n\t      symbols = Object.getOwnPropertySymbols(from);\n\t      for (var i = 0; i < symbols.length; i++) {\n\t        if (propIsEnumerable.call(from, symbols[i])) {\n\t          to[symbols[i]] = from[symbols[i]];\n\t        }\n\t      }\n\t    }\n\t  }\n\n\t  return to;\n\t};\n\n\t},{}],27:[function(require,module,exports){\n\tvar dtype = require('dtype')\n\tvar anArray = require('an-array')\n\tvar isBuffer = require('is-buffer')\n\n\tvar CW = [0, 2, 3]\n\tvar CCW = [2, 1, 3]\n\n\tmodule.exports = function createQuadElements(array, opt) {\n\t    //if user didn't specify an output array\n\t    if (!array || !(anArray(array) || isBuffer(array))) {\n\t        opt = array || {}\n\t        array = null\n\t    }\n\n\t    if (typeof opt === 'number') //backwards-compatible\n\t        opt = { count: opt }\n\t    else\n\t        opt = opt || {}\n\n\t    var type = typeof opt.type === 'string' ? opt.type : 'uint16'\n\t    var count = typeof opt.count === 'number' ? opt.count : 1\n\t    var start = (opt.start || 0) \n\n\t    var dir = opt.clockwise !== false ? CW : CCW,\n\t        a = dir[0], \n\t        b = dir[1],\n\t        c = dir[2]\n\n\t    var numIndices = count * 6\n\n\t    var indices = array || new (dtype(type))(numIndices)\n\t    for (var i = 0, j = 0; i < numIndices; i += 6, j += 4) {\n\t        var x = i + start\n\t        indices[x + 0] = j + 0\n\t        indices[x + 1] = j + 1\n\t        indices[x + 2] = j + 2\n\t        indices[x + 3] = j + a\n\t        indices[x + 4] = j + b\n\t        indices[x + 5] = j + c\n\t    }\n\t    return indices\n\t}\n\t},{\"an-array\":28,\"dtype\":29,\"is-buffer\":30}],28:[function(require,module,exports){\n\tvar str = Object.prototype.toString\n\n\tmodule.exports = anArray\n\n\tfunction anArray(arr) {\n\t  return (\n\t       arr.BYTES_PER_ELEMENT\n\t    && str.call(arr.buffer) === '[object ArrayBuffer]'\n\t    || Array.isArray(arr)\n\t  )\n\t}\n\n\t},{}],29:[function(require,module,exports){\n\tmodule.exports = function(dtype) {\n\t  switch (dtype) {\n\t    case 'int8':\n\t      return Int8Array\n\t    case 'int16':\n\t      return Int16Array\n\t    case 'int32':\n\t      return Int32Array\n\t    case 'uint8':\n\t      return Uint8Array\n\t    case 'uint16':\n\t      return Uint16Array\n\t    case 'uint32':\n\t      return Uint32Array\n\t    case 'float32':\n\t      return Float32Array\n\t    case 'float64':\n\t      return Float64Array\n\t    case 'array':\n\t      return Array\n\t    case 'uint8_clamped':\n\t      return Uint8ClampedArray\n\t  }\n\t}\n\n\t},{}],30:[function(require,module,exports){\n\t/**\n\t * Determine if an object is Buffer\n\t *\n\t * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * License:  MIT\n\t *\n\t * `npm install is-buffer`\n\t */\n\n\tmodule.exports = function (obj) {\n\t  return !!(obj != null &&\n\t    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n\t      (obj.constructor &&\n\t      typeof obj.constructor.isBuffer === 'function' &&\n\t      obj.constructor.isBuffer(obj))\n\t    ))\n\t}\n\n\t},{}],31:[function(require,module,exports){\n\tvar flatten = require('flatten-vertex-data')\n\n\tmodule.exports.attr = setAttribute\n\tmodule.exports.index = setIndex\n\n\tfunction setIndex (geometry, data, itemSize, dtype) {\n\t  if (typeof itemSize !== 'number') itemSize = 1\n\t  if (typeof dtype !== 'number') dtype = 'uint16'\n\n\t  var isR69 = !geometry.index && typeof geometry.setIndex !== 'function'\n\t  var attrib = isR69 ? geometry.getAttribute('index') : geometry.index\n\t  var newAttrib = updateAttribute(attrib, data, itemSize, dtype)\n\t  if (newAttrib) {\n\t    if (isR69) geometry.addAttribute('index', newAttrib)\n\t    else geometry.index = newAttrib\n\t  }\n\t}\n\n\tfunction setAttribute (geometry, key, data, itemSize, dtype) {\n\t  if (typeof itemSize !== 'number') itemSize = 3\n\t  if (typeof dtype !== 'number') dtype = 'float32'\n\t  if (Array.isArray(data) &&\n\t    Array.isArray(data[0]) &&\n\t    data[0].length !== itemSize) {\n\t    throw new Error('Nested vertex array has unexpected size; expected ' +\n\t      itemSize + ' but found ' + data[0].length)\n\t  }\n\n\t  var attrib = geometry.getAttribute(key)\n\t  var newAttrib = updateAttribute(attrib, data, itemSize, dtype)\n\t  if (newAttrib) {\n\t    geometry.addAttribute(key, newAttrib)\n\t  }\n\t}\n\n\tfunction updateAttribute (attrib, data, itemSize, dtype) {\n\t  data = data || []\n\t  if (!attrib || rebuildAttribute(attrib, data, itemSize)) {\n\t    // create a new array with desired type\n\t    data = flatten(data, dtype)\n\t    attrib = new THREE.BufferAttribute(data, itemSize)\n\t    attrib.needsUpdate = true\n\t    return attrib\n\t  } else {\n\t    // copy data into the existing array\n\t    flatten(data, attrib.array)\n\t    attrib.needsUpdate = true\n\t    return null\n\t  }\n\t}\n\n\t// Test whether the attribute needs to be re-created,\n\t// returns false if we can re-use it as-is.\n\tfunction rebuildAttribute (attrib, data, itemSize) {\n\t  if (attrib.itemSize !== itemSize) return true\n\t  if (!attrib.array) return true\n\t  var attribLength = attrib.array.length\n\t  if (Array.isArray(data) && Array.isArray(data[0])) {\n\t    // [ [ x, y, z ] ]\n\t    return attribLength !== data.length * itemSize\n\t  } else {\n\t    // [ x, y, z ]\n\t    return attribLength !== data.length\n\t  }\n\t}\n\n\t},{\"flatten-vertex-data\":32}],32:[function(require,module,exports){\n\t/*eslint new-cap:0*/\n\tvar dtype = require('dtype')\n\tmodule.exports = flattenVertexData\n\tfunction flattenVertexData (data, output, offset) {\n\t  if (!data) throw new TypeError('must specify data as first parameter')\n\t  offset = +(offset || 0) | 0\n\n\t  if (Array.isArray(data) && Array.isArray(data[0])) {\n\t    var dim = data[0].length\n\t    var length = data.length * dim\n\n\t    // no output specified, create a new typed array\n\t    if (!output || typeof output === 'string') {\n\t      output = new (dtype(output || 'float32'))(length + offset)\n\t    }\n\n\t    var dstLength = output.length - offset\n\t    if (length !== dstLength) {\n\t      throw new Error('source length ' + length + ' (' + dim + 'x' + data.length + ')' +\n\t        ' does not match destination length ' + dstLength)\n\t    }\n\n\t    for (var i = 0, k = offset; i < data.length; i++) {\n\t      for (var j = 0; j < dim; j++) {\n\t        output[k++] = data[i][j]\n\t      }\n\t    }\n\t  } else {\n\t    if (!output || typeof output === 'string') {\n\t      // no output, create a new one\n\t      var Ctor = dtype(output || 'float32')\n\t      if (offset === 0) {\n\t        output = new Ctor(data)\n\t      } else {\n\t        output = new Ctor(data.length + offset)\n\t        output.set(data, offset)\n\t      }\n\t    } else {\n\t      // store output in existing array\n\t      output.set(data, offset)\n\t    }\n\t  }\n\n\t  return output\n\t}\n\n\t},{\"dtype\":33}],33:[function(require,module,exports){\n\targuments[4][29][0].apply(exports,arguments)\n\t},{\"dup\":29}],34:[function(require,module,exports){\n\tvar assign = require('object-assign')\n\n\tmodule.exports = function createSDFShader (opt) {\n\t  opt = opt || {}\n\t  var opacity = typeof opt.opacity === 'number' ? opt.opacity : 1\n\t  var alphaTest = typeof opt.alphaTest === 'number' ? opt.alphaTest : 0.0001\n\t  var precision = opt.precision || 'highp'\n\t  var color = opt.color\n\t  var map = opt.map\n\n\t  // remove to satisfy r73\n\t  delete opt.map\n\t  delete opt.color\n\t  delete opt.precision\n\t  delete opt.opacity\n\n\t  return assign({\n\t    uniforms: {\n\t      opacity: { type: 'f', value: opacity },\n\t      map: { type: 't', value: map || new THREE.Texture() },\n\t      color: { type: 'c', value: new THREE.Color(color) }\n\t    },\n\t    vertexShader: [\n\t      'attribute vec2 uv;',\n\t      'attribute vec4 position;',\n\t      'uniform mat4 projectionMatrix;',\n\t      'uniform mat4 modelViewMatrix;',\n\t      'varying vec2 vUv;',\n\t      'void main() {',\n\t      'vUv = uv;',\n\t      'gl_Position = projectionMatrix * modelViewMatrix * position;',\n\t      '}'\n\t    ].join('\\n'),\n\t    fragmentShader: [\n\t      '#ifdef GL_OES_standard_derivatives',\n\t      '#extension GL_OES_standard_derivatives : enable',\n\t      '#endif',\n\t      'precision ' + precision + ' float;',\n\t      'uniform float opacity;',\n\t      'uniform vec3 color;',\n\t      'uniform sampler2D map;',\n\t      'varying vec2 vUv;',\n\n\t      'float aastep(float value) {',\n\t      '  #ifdef GL_OES_standard_derivatives',\n\t      '    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;',\n\t      '  #else',\n\t      '    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));',\n\t      '  #endif',\n\t      '  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);',\n\t      '}',\n\n\t      'void main() {',\n\t      '  vec4 texColor = texture2D(map, vUv);',\n\t      '  float alpha = aastep(texColor.a);',\n\t      '  gl_FragColor = vec4(color, opacity * alpha);',\n\t      alphaTest === 0\n\t        ? ''\n\t        : '  if (gl_FragColor.a < ' + alphaTest + ') discard;',\n\t      '}'\n\t    ].join('\\n')\n\t  }, opt)\n\t}\n\n\t},{\"object-assign\":26}],35:[function(require,module,exports){\n\tvar loadFont = require('load-bmfont')\n\t//global.THREE = require('three')\n\n\t// A utility to load a font, then a texture\n\tmodule.exports = function (opt, cb) {\n\t  loadFont(opt.font, function (err, font) {\n\t    if (err) throw err\n\t\tPANOLENS.Utils.TextureLoader.load( opt.image, function (tex) {\n\t      cb(font, tex)\n\t    } );\n\t  })\n\t}\n\n\t},{\"load-bmfont\":10}],36:[function(require,module,exports){\n\n\tvar createText = require('../')\n\tvar SDFShader = require('../shaders/sdf')\n\n\tif ( PANOLENS && PANOLENS.Utils && PANOLENS.SpriteText ) {\n\t\tPANOLENS.Utils.loadBMFont = function(fontObject, callback){\n\t\t\trequire('./load')(fontObject, PANOLENS.SpriteText.prototype.setBMFont.bind(PANOLENS.SpriteText.prototype, callback));\n\t\t};\n\t\tPANOLENS.SpriteText.prototype.generateTextGeometry = createText;\n\t\tPANOLENS.SpriteText.prototype.generateSDFShader = SDFShader;\n\t}\n\n\t},{\"../\":1,\"../shaders/sdf\":34,\"./load\":35}],37:[function(require,module,exports){\n\t(function (global){\n\t/*!\n\t * The buffer module from node.js, for the browser.\n\t *\n\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * @license  MIT\n\t */\n\t/* eslint-disable no-proto */\n\n\t'use strict'\n\n\tvar base64 = require('base64-js')\n\tvar ieee754 = require('ieee754')\n\tvar isArray = require('isarray')\n\n\texports.Buffer = Buffer\n\texports.SlowBuffer = SlowBuffer\n\texports.INSPECT_MAX_BYTES = 50\n\tBuffer.poolSize = 8192 // not used by this implementation\n\n\tvar rootParent = {}\n\n\t/**\n\t * If `Buffer.TYPED_ARRAY_SUPPORT`:\n\t *   === true    Use Uint8Array implementation (fastest)\n\t *   === false   Use Object implementation (most compatible, even IE6)\n\t *\n\t * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n\t * Opera 11.6+, iOS 4.2+.\n\t *\n\t * Due to various browser bugs, sometimes the Object implementation will be used even\n\t * when the browser supports typed arrays.\n\t *\n\t * Note:\n\t *\n\t *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n\t *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n\t *\n\t *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n\t *\n\t *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n\t *     incorrect length in some situations.\n\n\t * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n\t * get the Object implementation, which is slower but behaves correctly.\n\t */\n\tBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n\t  ? global.TYPED_ARRAY_SUPPORT\n\t  : typedArraySupport()\n\n\tfunction typedArraySupport () {\n\t  try {\n\t    var arr = new Uint8Array(1)\n\t    arr.foo = function () { return 42 }\n\t    return arr.foo() === 42 && // typed array instances can be augmented\n\t        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n\t        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n\t  } catch (e) {\n\t    return false\n\t  }\n\t}\n\n\tfunction kMaxLength () {\n\t  return Buffer.TYPED_ARRAY_SUPPORT\n\t    ? 0x7fffffff\n\t    : 0x3fffffff\n\t}\n\n\t/**\n\t * Class: Buffer\n\t * =============\n\t *\n\t * The Buffer constructor returns instances of `Uint8Array` that are augmented\n\t * with function properties for all the node `Buffer` API functions. We use\n\t * `Uint8Array` so that square bracket notation works as expected -- it returns\n\t * a single octet.\n\t *\n\t * By augmenting the instances, we can avoid modifying the `Uint8Array`\n\t * prototype.\n\t */\n\tfunction Buffer (arg) {\n\t  if (!(this instanceof Buffer)) {\n\t    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n\t    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n\t    return new Buffer(arg)\n\t  }\n\n\t  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this.length = 0\n\t    this.parent = undefined\n\t  }\n\n\t  // Common case.\n\t  if (typeof arg === 'number') {\n\t    return fromNumber(this, arg)\n\t  }\n\n\t  // Slightly less common case.\n\t  if (typeof arg === 'string') {\n\t    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n\t  }\n\n\t  // Unusual.\n\t  return fromObject(this, arg)\n\t}\n\n\tfunction fromNumber (that, length) {\n\t  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n\t  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n\t    for (var i = 0; i < length; i++) {\n\t      that[i] = 0\n\t    }\n\t  }\n\t  return that\n\t}\n\n\tfunction fromString (that, string, encoding) {\n\t  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n\t  // Assumption: byteLength() return value is always < kMaxLength.\n\t  var length = byteLength(string, encoding) | 0\n\t  that = allocate(that, length)\n\n\t  that.write(string, encoding)\n\t  return that\n\t}\n\n\tfunction fromObject (that, object) {\n\t  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n\t  if (isArray(object)) return fromArray(that, object)\n\n\t  if (object == null) {\n\t    throw new TypeError('must start with number, buffer, array or string')\n\t  }\n\n\t  if (typeof ArrayBuffer !== 'undefined') {\n\t    if (object.buffer instanceof ArrayBuffer) {\n\t      return fromTypedArray(that, object)\n\t    }\n\t    if (object instanceof ArrayBuffer) {\n\t      return fromArrayBuffer(that, object)\n\t    }\n\t  }\n\n\t  if (object.length) return fromArrayLike(that, object)\n\n\t  return fromJsonObject(that, object)\n\t}\n\n\tfunction fromBuffer (that, buffer) {\n\t  var length = checked(buffer.length) | 0\n\t  that = allocate(that, length)\n\t  buffer.copy(that, 0, 0, length)\n\t  return that\n\t}\n\n\tfunction fromArray (that, array) {\n\t  var length = checked(array.length) | 0\n\t  that = allocate(that, length)\n\t  for (var i = 0; i < length; i += 1) {\n\t    that[i] = array[i] & 255\n\t  }\n\t  return that\n\t}\n\n\t// Duplicate of fromArray() to keep fromArray() monomorphic.\n\tfunction fromTypedArray (that, array) {\n\t  var length = checked(array.length) | 0\n\t  that = allocate(that, length)\n\t  // Truncating the elements is probably not what people expect from typed\n\t  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n\t  // of the old Buffer constructor.\n\t  for (var i = 0; i < length; i += 1) {\n\t    that[i] = array[i] & 255\n\t  }\n\t  return that\n\t}\n\n\tfunction fromArrayBuffer (that, array) {\n\t  //array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    // Return an augmented `Uint8Array` instance, for best performance\n\t    that = new Uint8Array(array)\n\t    that.__proto__ = Buffer.prototype\n\t  } else {\n\t    // Fallback: Return an object instance of the Buffer class\n\t    that = fromTypedArray(that, new Uint8Array(array))\n\t  }\n\t  return that\n\t}\n\n\tfunction fromArrayLike (that, array) {\n\t  var length = checked(array.length) | 0\n\t  that = allocate(that, length)\n\t  for (var i = 0; i < length; i += 1) {\n\t    that[i] = array[i] & 255\n\t  }\n\t  return that\n\t}\n\n\t// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n\t// Returns a zero-length buffer for inputs that don't conform to the spec.\n\tfunction fromJsonObject (that, object) {\n\t  var array\n\t  var length = 0\n\n\t  if (object.type === 'Buffer' && isArray(object.data)) {\n\t    array = object.data\n\t    length = checked(array.length) | 0\n\t  }\n\t  that = allocate(that, length)\n\n\t  for (var i = 0; i < length; i += 1) {\n\t    that[i] = array[i] & 255\n\t  }\n\t  return that\n\t}\n\n\tif (Buffer.TYPED_ARRAY_SUPPORT) {\n\t  Buffer.prototype.__proto__ = Uint8Array.prototype\n\t  Buffer.__proto__ = Uint8Array\n\t} else {\n\t  // pre-set for values that may exist in the future\n\t  Buffer.prototype.length = undefined\n\t  Buffer.prototype.parent = undefined\n\t}\n\n\tfunction allocate (that, length) {\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    // Return an augmented `Uint8Array` instance, for best performance\n\t    that = new Uint8Array(length)\n\t    that.__proto__ = Buffer.prototype\n\t  } else {\n\t    // Fallback: Return an object instance of the Buffer class\n\t    that.length = length\n\t  }\n\n\t  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n\t  if (fromPool) that.parent = rootParent\n\n\t  return that\n\t}\n\n\tfunction checked (length) {\n\t  // Note: cannot use `length < kMaxLength` here because that fails when\n\t  // length is NaN (which is otherwise coerced to zero.)\n\t  if (length >= kMaxLength()) {\n\t    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n\t                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n\t  }\n\t  return length | 0\n\t}\n\n\tfunction SlowBuffer (subject, encoding) {\n\t  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n\t  var buf = new Buffer(subject, encoding)\n\t  delete buf.parent\n\t  return buf\n\t}\n\n\tBuffer.isBuffer = function isBuffer (b) {\n\t  return !!(b != null && b._isBuffer)\n\t}\n\n\tBuffer.compare = function compare (a, b) {\n\t  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n\t    throw new TypeError('Arguments must be Buffers')\n\t  }\n\n\t  if (a === b) return 0\n\n\t  var x = a.length\n\t  var y = b.length\n\n\t  var i = 0\n\t  var len = Math.min(x, y)\n\t  while (i < len) {\n\t    if (a[i] !== b[i]) break\n\n\t    ++i\n\t  }\n\n\t  if (i !== len) {\n\t    x = a[i]\n\t    y = b[i]\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t}\n\n\tBuffer.isEncoding = function isEncoding (encoding) {\n\t  switch (String(encoding).toLowerCase()) {\n\t    case 'hex':\n\t    case 'utf8':\n\t    case 'utf-8':\n\t    case 'ascii':\n\t    case 'binary':\n\t    case 'base64':\n\t    case 'raw':\n\t    case 'ucs2':\n\t    case 'ucs-2':\n\t    case 'utf16le':\n\t    case 'utf-16le':\n\t      return true\n\t    default:\n\t      return false\n\t  }\n\t}\n\n\tBuffer.concat = function concat (list, length) {\n\t  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n\t  if (list.length === 0) {\n\t    return new Buffer(0)\n\t  }\n\n\t  var i\n\t  if (length === undefined) {\n\t    length = 0\n\t    for (i = 0; i < list.length; i++) {\n\t      length += list[i].length\n\t    }\n\t  }\n\n\t  var buf = new Buffer(length)\n\t  var pos = 0\n\t  for (i = 0; i < list.length; i++) {\n\t    var item = list[i]\n\t    item.copy(buf, pos)\n\t    pos += item.length\n\t  }\n\t  return buf\n\t}\n\n\tfunction byteLength (string, encoding) {\n\t  if (typeof string !== 'string') string = '' + string\n\n\t  var len = string.length\n\t  if (len === 0) return 0\n\n\t  // Use a for loop to avoid recursion\n\t  var loweredCase = false\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'ascii':\n\t      case 'binary':\n\t      // Deprecated\n\t      case 'raw':\n\t      case 'raws':\n\t        return len\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8ToBytes(string).length\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return len * 2\n\t      case 'hex':\n\t        return len >>> 1\n\t      case 'base64':\n\t        return base64ToBytes(string).length\n\t      default:\n\t        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n\t        encoding = ('' + encoding).toLowerCase()\n\t        loweredCase = true\n\t    }\n\t  }\n\t}\n\tBuffer.byteLength = byteLength\n\n\tfunction slowToString (encoding, start, end) {\n\t  var loweredCase = false\n\n\t  start = start | 0\n\t  end = end === undefined || end === Infinity ? this.length : end | 0\n\n\t  if (!encoding) encoding = 'utf8'\n\t  if (start < 0) start = 0\n\t  if (end > this.length) end = this.length\n\t  if (end <= start) return ''\n\n\t  while (true) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexSlice(this, start, end)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Slice(this, start, end)\n\n\t      case 'ascii':\n\t        return asciiSlice(this, start, end)\n\n\t      case 'binary':\n\t        return binarySlice(this, start, end)\n\n\t      case 'base64':\n\t        return base64Slice(this, start, end)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return utf16leSlice(this, start, end)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = (encoding + '').toLowerCase()\n\t        loweredCase = true\n\t    }\n\t  }\n\t}\n\n\t// Even though this property is private, it shouldn't be removed because it is\n\t// used by `is-buffer` to detect buffer instances in Safari 5-7.\n\tBuffer.prototype._isBuffer = true\n\n\tBuffer.prototype.toString = function toString () {\n\t  var length = this.length | 0\n\t  if (length === 0) return ''\n\t  if (arguments.length === 0) return utf8Slice(this, 0, length)\n\t  return slowToString.apply(this, arguments)\n\t}\n\n\tBuffer.prototype.equals = function equals (b) {\n\t  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n\t  if (this === b) return true\n\t  return Buffer.compare(this, b) === 0\n\t}\n\n\tBuffer.prototype.inspect = function inspect () {\n\t  var str = ''\n\t  var max = exports.INSPECT_MAX_BYTES\n\t  if (this.length > 0) {\n\t    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n\t    if (this.length > max) str += ' ... '\n\t  }\n\t  return '<Buffer ' + str + '>'\n\t}\n\n\tBuffer.prototype.compare = function compare (b) {\n\t  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n\t  if (this === b) return 0\n\t  return Buffer.compare(this, b)\n\t}\n\n\tBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n\t  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n\t  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n\t  byteOffset >>= 0\n\n\t  if (this.length === 0) return -1\n\t  if (byteOffset >= this.length) return -1\n\n\t  // Negative offsets start from the end of the buffer\n\t  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n\t  if (typeof val === 'string') {\n\t    if (val.length === 0) return -1 // special case: looking for empty string always fails\n\t    return String.prototype.indexOf.call(this, val, byteOffset)\n\t  }\n\t  if (Buffer.isBuffer(val)) {\n\t    return arrayIndexOf(this, val, byteOffset)\n\t  }\n\t  if (typeof val === 'number') {\n\t    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n\t      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n\t    }\n\t    return arrayIndexOf(this, [ val ], byteOffset)\n\t  }\n\n\t  function arrayIndexOf (arr, val, byteOffset) {\n\t    var foundIndex = -1\n\t    for (var i = 0; byteOffset + i < arr.length; i++) {\n\t      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n\t        if (foundIndex === -1) foundIndex = i\n\t        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n\t      } else {\n\t        foundIndex = -1\n\t      }\n\t    }\n\t    return -1\n\t  }\n\n\t  throw new TypeError('val must be string, number or Buffer')\n\t}\n\n\tfunction hexWrite (buf, string, offset, length) {\n\t  offset = Number(offset) || 0\n\t  var remaining = buf.length - offset\n\t  if (!length) {\n\t    length = remaining\n\t  } else {\n\t    length = Number(length)\n\t    if (length > remaining) {\n\t      length = remaining\n\t    }\n\t  }\n\n\t  // must be an even number of digits\n\t  var strLen = string.length\n\t  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n\t  if (length > strLen / 2) {\n\t    length = strLen / 2\n\t  }\n\t  for (var i = 0; i < length; i++) {\n\t    var parsed = parseInt(string.substr(i * 2, 2), 16)\n\t    if (isNaN(parsed)) throw new Error('Invalid hex string')\n\t    buf[offset + i] = parsed\n\t  }\n\t  return i\n\t}\n\n\tfunction utf8Write (buf, string, offset, length) {\n\t  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tfunction asciiWrite (buf, string, offset, length) {\n\t  return blitBuffer(asciiToBytes(string), buf, offset, length)\n\t}\n\n\tfunction binaryWrite (buf, string, offset, length) {\n\t  return asciiWrite(buf, string, offset, length)\n\t}\n\n\tfunction base64Write (buf, string, offset, length) {\n\t  return blitBuffer(base64ToBytes(string), buf, offset, length)\n\t}\n\n\tfunction ucs2Write (buf, string, offset, length) {\n\t  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tBuffer.prototype.write = function write (string, offset, length, encoding) {\n\t  // Buffer#write(string)\n\t  if (offset === undefined) {\n\t    encoding = 'utf8'\n\t    length = this.length\n\t    offset = 0\n\t  // Buffer#write(string, encoding)\n\t  } else if (length === undefined && typeof offset === 'string') {\n\t    encoding = offset\n\t    length = this.length\n\t    offset = 0\n\t  // Buffer#write(string, offset[, length][, encoding])\n\t  } else if (isFinite(offset)) {\n\t    offset = offset | 0\n\t    if (isFinite(length)) {\n\t      length = length | 0\n\t      if (encoding === undefined) encoding = 'utf8'\n\t    } else {\n\t      encoding = length\n\t      length = undefined\n\t    }\n\t  // legacy write(string, encoding, offset, length) - remove in v0.13\n\t  } else {\n\t    var swap = encoding\n\t    encoding = offset\n\t    offset = length | 0\n\t    length = swap\n\t  }\n\n\t  var remaining = this.length - offset\n\t  if (length === undefined || length > remaining) length = remaining\n\n\t  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n\t    throw new RangeError('attempt to write outside buffer bounds')\n\t  }\n\n\t  if (!encoding) encoding = 'utf8'\n\n\t  var loweredCase = false\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexWrite(this, string, offset, length)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Write(this, string, offset, length)\n\n\t      case 'ascii':\n\t        return asciiWrite(this, string, offset, length)\n\n\t      case 'binary':\n\t        return binaryWrite(this, string, offset, length)\n\n\t      case 'base64':\n\t        // Warning: maxLength not taken into account in base64Write\n\t        return base64Write(this, string, offset, length)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return ucs2Write(this, string, offset, length)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = ('' + encoding).toLowerCase()\n\t        loweredCase = true\n\t    }\n\t  }\n\t}\n\n\tBuffer.prototype.toJSON = function toJSON () {\n\t  return {\n\t    type: 'Buffer',\n\t    data: Array.prototype.slice.call(this._arr || this, 0)\n\t  }\n\t}\n\n\tfunction base64Slice (buf, start, end) {\n\t  if (start === 0 && end === buf.length) {\n\t    return base64.fromByteArray(buf)\n\t  } else {\n\t    return base64.fromByteArray(buf.slice(start, end))\n\t  }\n\t}\n\n\tfunction utf8Slice (buf, start, end) {\n\t  end = Math.min(buf.length, end)\n\t  var res = []\n\n\t  var i = start\n\t  while (i < end) {\n\t    var firstByte = buf[i]\n\t    var codePoint = null\n\t    var bytesPerSequence = (firstByte > 0xEF) ? 4\n\t      : (firstByte > 0xDF) ? 3\n\t      : (firstByte > 0xBF) ? 2\n\t      : 1\n\n\t    if (i + bytesPerSequence <= end) {\n\t      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n\t      switch (bytesPerSequence) {\n\t        case 1:\n\t          if (firstByte < 0x80) {\n\t            codePoint = firstByte\n\t          }\n\t          break\n\t        case 2:\n\t          secondByte = buf[i + 1]\n\t          if ((secondByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n\t            if (tempCodePoint > 0x7F) {\n\t              codePoint = tempCodePoint\n\t            }\n\t          }\n\t          break\n\t        case 3:\n\t          secondByte = buf[i + 1]\n\t          thirdByte = buf[i + 2]\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n\t            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t              codePoint = tempCodePoint\n\t            }\n\t          }\n\t          break\n\t        case 4:\n\t          secondByte = buf[i + 1]\n\t          thirdByte = buf[i + 2]\n\t          fourthByte = buf[i + 3]\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n\t            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t              codePoint = tempCodePoint\n\t            }\n\t          }\n\t      }\n\t    }\n\n\t    if (codePoint === null) {\n\t      // we did not generate a valid codePoint so insert a\n\t      // replacement char (U+FFFD) and advance only 1 byte\n\t      codePoint = 0xFFFD\n\t      bytesPerSequence = 1\n\t    } else if (codePoint > 0xFFFF) {\n\t      // encode to utf16 (surrogate pair dance)\n\t      codePoint -= 0x10000\n\t      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n\t      codePoint = 0xDC00 | codePoint & 0x3FF\n\t    }\n\n\t    res.push(codePoint)\n\t    i += bytesPerSequence\n\t  }\n\n\t  return decodeCodePointsArray(res)\n\t}\n\n\t// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n\t// the lowest limit is Chrome, with 0x10000 args.\n\t// We go 1 magnitude less, for safety\n\tvar MAX_ARGUMENTS_LENGTH = 0x1000\n\n\tfunction decodeCodePointsArray (codePoints) {\n\t  var len = codePoints.length\n\t  if (len <= MAX_ARGUMENTS_LENGTH) {\n\t    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n\t  }\n\n\t  // Decode in chunks to avoid \"call stack size exceeded\".\n\t  var res = ''\n\t  var i = 0\n\t  while (i < len) {\n\t    res += String.fromCharCode.apply(\n\t      String,\n\t      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n\t    )\n\t  }\n\t  return res\n\t}\n\n\tfunction asciiSlice (buf, start, end) {\n\t  var ret = ''\n\t  end = Math.min(buf.length, end)\n\n\t  for (var i = start; i < end; i++) {\n\t    ret += String.fromCharCode(buf[i] & 0x7F)\n\t  }\n\t  return ret\n\t}\n\n\tfunction binarySlice (buf, start, end) {\n\t  var ret = ''\n\t  end = Math.min(buf.length, end)\n\n\t  for (var i = start; i < end; i++) {\n\t    ret += String.fromCharCode(buf[i])\n\t  }\n\t  return ret\n\t}\n\n\tfunction hexSlice (buf, start, end) {\n\t  var len = buf.length\n\n\t  if (!start || start < 0) start = 0\n\t  if (!end || end < 0 || end > len) end = len\n\n\t  var out = ''\n\t  for (var i = start; i < end; i++) {\n\t    out += toHex(buf[i])\n\t  }\n\t  return out\n\t}\n\n\tfunction utf16leSlice (buf, start, end) {\n\t  var bytes = buf.slice(start, end)\n\t  var res = ''\n\t  for (var i = 0; i < bytes.length; i += 2) {\n\t    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n\t  }\n\t  return res\n\t}\n\n\tBuffer.prototype.slice = function slice (start, end) {\n\t  var len = this.length\n\t  start = ~~start\n\t  end = end === undefined ? len : ~~end\n\n\t  if (start < 0) {\n\t    start += len\n\t    if (start < 0) start = 0\n\t  } else if (start > len) {\n\t    start = len\n\t  }\n\n\t  if (end < 0) {\n\t    end += len\n\t    if (end < 0) end = 0\n\t  } else if (end > len) {\n\t    end = len\n\t  }\n\n\t  if (end < start) end = start\n\n\t  var newBuf\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    newBuf = this.subarray(start, end)\n\t    newBuf.__proto__ = Buffer.prototype\n\t  } else {\n\t    var sliceLen = end - start\n\t    newBuf = new Buffer(sliceLen, undefined)\n\t    for (var i = 0; i < sliceLen; i++) {\n\t      newBuf[i] = this[i + start]\n\t    }\n\t  }\n\n\t  if (newBuf.length) newBuf.parent = this.parent || this\n\n\t  return newBuf\n\t}\n\n\t/*\n\t * Need to make sure that buffer isn't trying to write out of bounds.\n\t */\n\tfunction checkOffset (offset, ext, length) {\n\t  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n\t  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n\t}\n\n\tBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n\t  var val = this[offset]\n\t  var mul = 1\n\t  var i = 0\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul\n\t  }\n\n\t  return val\n\t}\n\n\tBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) {\n\t    checkOffset(offset, byteLength, this.length)\n\t  }\n\n\t  var val = this[offset + --byteLength]\n\t  var mul = 1\n\t  while (byteLength > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --byteLength] * mul\n\t  }\n\n\t  return val\n\t}\n\n\tBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 1, this.length)\n\t  return this[offset]\n\t}\n\n\tBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 2, this.length)\n\t  return this[offset] | (this[offset + 1] << 8)\n\t}\n\n\tBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 2, this.length)\n\t  return (this[offset] << 8) | this[offset + 1]\n\t}\n\n\tBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\n\t  return ((this[offset]) |\n\t      (this[offset + 1] << 8) |\n\t      (this[offset + 2] << 16)) +\n\t      (this[offset + 3] * 0x1000000)\n\t}\n\n\tBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\n\t  return (this[offset] * 0x1000000) +\n\t    ((this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    this[offset + 3])\n\t}\n\n\tBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n\t  var val = this[offset]\n\t  var mul = 1\n\t  var i = 0\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul\n\t  }\n\t  mul *= 0x80\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n\t  return val\n\t}\n\n\tBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n\t  var i = byteLength\n\t  var mul = 1\n\t  var val = this[offset + --i]\n\t  while (i > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --i] * mul\n\t  }\n\t  mul *= 0x80\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n\t  return val\n\t}\n\n\tBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 1, this.length)\n\t  if (!(this[offset] & 0x80)) return (this[offset])\n\t  return ((0xff - this[offset] + 1) * -1)\n\t}\n\n\tBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 2, this.length)\n\t  var val = this[offset] | (this[offset + 1] << 8)\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t}\n\n\tBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 2, this.length)\n\t  var val = this[offset + 1] | (this[offset] << 8)\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t}\n\n\tBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\n\t  return (this[offset]) |\n\t    (this[offset + 1] << 8) |\n\t    (this[offset + 2] << 16) |\n\t    (this[offset + 3] << 24)\n\t}\n\n\tBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\n\t  return (this[offset] << 24) |\n\t    (this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    (this[offset + 3])\n\t}\n\n\tBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\t  return ieee754.read(this, offset, true, 23, 4)\n\t}\n\n\tBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 4, this.length)\n\t  return ieee754.read(this, offset, false, 23, 4)\n\t}\n\n\tBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 8, this.length)\n\t  return ieee754.read(this, offset, true, 52, 8)\n\t}\n\n\tBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n\t  if (!noAssert) checkOffset(offset, 8, this.length)\n\t  return ieee754.read(this, offset, false, 52, 8)\n\t}\n\n\tfunction checkInt (buf, value, offset, ext, max, min) {\n\t  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n\t  if (value > max || value < min) throw new RangeError('value is out of bounds')\n\t  if (offset + ext > buf.length) throw new RangeError('index out of range')\n\t}\n\n\tBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n\t  var mul = 1\n\t  var i = 0\n\t  this[offset] = value & 0xFF\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF\n\t  }\n\n\t  return offset + byteLength\n\t}\n\n\tBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  byteLength = byteLength | 0\n\t  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n\t  var i = byteLength - 1\n\t  var mul = 1\n\t  this[offset + i] = value & 0xFF\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF\n\t  }\n\n\t  return offset + byteLength\n\t}\n\n\tBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n\t  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n\t  this[offset] = (value & 0xff)\n\t  return offset + 1\n\t}\n\n\tfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n\t  if (value < 0) value = 0xffff + value + 1\n\t  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n\t    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n\t      (littleEndian ? i : 1 - i) * 8\n\t  }\n\t}\n\n\tBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value & 0xff)\n\t    this[offset + 1] = (value >>> 8)\n\t  } else {\n\t    objectWriteUInt16(this, value, offset, true)\n\t  }\n\t  return offset + 2\n\t}\n\n\tBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value >>> 8)\n\t    this[offset + 1] = (value & 0xff)\n\t  } else {\n\t    objectWriteUInt16(this, value, offset, false)\n\t  }\n\t  return offset + 2\n\t}\n\n\tfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n\t  if (value < 0) value = 0xffffffff + value + 1\n\t  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n\t    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n\t  }\n\t}\n\n\tBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset + 3] = (value >>> 24)\n\t    this[offset + 2] = (value >>> 16)\n\t    this[offset + 1] = (value >>> 8)\n\t    this[offset] = (value & 0xff)\n\t  } else {\n\t    objectWriteUInt32(this, value, offset, true)\n\t  }\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value >>> 24)\n\t    this[offset + 1] = (value >>> 16)\n\t    this[offset + 2] = (value >>> 8)\n\t    this[offset + 3] = (value & 0xff)\n\t  } else {\n\t    objectWriteUInt32(this, value, offset, false)\n\t  }\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) {\n\t    var limit = Math.pow(2, 8 * byteLength - 1)\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n\t  }\n\n\t  var i = 0\n\t  var mul = 1\n\t  var sub = value < 0 ? 1 : 0\n\t  this[offset] = value & 0xFF\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\t  }\n\n\t  return offset + byteLength\n\t}\n\n\tBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) {\n\t    var limit = Math.pow(2, 8 * byteLength - 1)\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n\t  }\n\n\t  var i = byteLength - 1\n\t  var mul = 1\n\t  var sub = value < 0 ? 1 : 0\n\t  this[offset + i] = value & 0xFF\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n\t  }\n\n\t  return offset + byteLength\n\t}\n\n\tBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n\t  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n\t  if (value < 0) value = 0xff + value + 1\n\t  this[offset] = (value & 0xff)\n\t  return offset + 1\n\t}\n\n\tBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value & 0xff)\n\t    this[offset + 1] = (value >>> 8)\n\t  } else {\n\t    objectWriteUInt16(this, value, offset, true)\n\t  }\n\t  return offset + 2\n\t}\n\n\tBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value >>> 8)\n\t    this[offset + 1] = (value & 0xff)\n\t  } else {\n\t    objectWriteUInt16(this, value, offset, false)\n\t  }\n\t  return offset + 2\n\t}\n\n\tBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value & 0xff)\n\t    this[offset + 1] = (value >>> 8)\n\t    this[offset + 2] = (value >>> 16)\n\t    this[offset + 3] = (value >>> 24)\n\t  } else {\n\t    objectWriteUInt32(this, value, offset, true)\n\t  }\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n\t  value = +value\n\t  offset = offset | 0\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n\t  if (value < 0) value = 0xffffffff + value + 1\n\t  if (Buffer.TYPED_ARRAY_SUPPORT) {\n\t    this[offset] = (value >>> 24)\n\t    this[offset + 1] = (value >>> 16)\n\t    this[offset + 2] = (value >>> 8)\n\t    this[offset + 3] = (value & 0xff)\n\t  } else {\n\t    objectWriteUInt32(this, value, offset, false)\n\t  }\n\t  return offset + 4\n\t}\n\n\tfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n\t  if (value > max || value < min) throw new RangeError('value is out of bounds')\n\t  if (offset + ext > buf.length) throw new RangeError('index out of range')\n\t  if (offset < 0) throw new RangeError('index out of range')\n\t}\n\n\tfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n\t  }\n\t  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, true, noAssert)\n\t}\n\n\tBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, false, noAssert)\n\t}\n\n\tfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n\t  }\n\t  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, true, noAssert)\n\t}\n\n\tBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, false, noAssert)\n\t}\n\n\t// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\tBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n\t  if (!start) start = 0\n\t  if (!end && end !== 0) end = this.length\n\t  if (targetStart >= target.length) targetStart = target.length\n\t  if (!targetStart) targetStart = 0\n\t  if (end > 0 && end < start) end = start\n\n\t  // Copy 0 bytes; we're done\n\t  if (end === start) return 0\n\t  if (target.length === 0 || this.length === 0) return 0\n\n\t  // Fatal error conditions\n\t  if (targetStart < 0) {\n\t    throw new RangeError('targetStart out of bounds')\n\t  }\n\t  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n\t  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n\t  // Are we oob?\n\t  if (end > this.length) end = this.length\n\t  if (target.length - targetStart < end - start) {\n\t    end = target.length - targetStart + start\n\t  }\n\n\t  var len = end - start\n\t  var i\n\n\t  if (this === target && start < targetStart && targetStart < end) {\n\t    // descending copy from end\n\t    for (i = len - 1; i >= 0; i--) {\n\t      target[i + targetStart] = this[i + start]\n\t    }\n\t  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n\t    // ascending copy from start\n\t    for (i = 0; i < len; i++) {\n\t      target[i + targetStart] = this[i + start]\n\t    }\n\t  } else {\n\t    Uint8Array.prototype.set.call(\n\t      target,\n\t      this.subarray(start, start + len),\n\t      targetStart\n\t    )\n\t  }\n\n\t  return len\n\t}\n\n\t// fill(value, start=0, end=buffer.length)\n\tBuffer.prototype.fill = function fill (value, start, end) {\n\t  if (!value) value = 0\n\t  if (!start) start = 0\n\t  if (!end) end = this.length\n\n\t  if (end < start) throw new RangeError('end < start')\n\n\t  // Fill 0 bytes; we're done\n\t  if (end === start) return\n\t  if (this.length === 0) return\n\n\t  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n\t  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n\t  var i\n\t  if (typeof value === 'number') {\n\t    for (i = start; i < end; i++) {\n\t      this[i] = value\n\t    }\n\t  } else {\n\t    var bytes = utf8ToBytes(value.toString())\n\t    var len = bytes.length\n\t    for (i = start; i < end; i++) {\n\t      this[i] = bytes[i % len]\n\t    }\n\t  }\n\n\t  return this\n\t}\n\n\t// HELPER FUNCTIONS\n\t// ================\n\n\tvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\n\tfunction base64clean (str) {\n\t  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\t  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n\t  // Node converts strings with length < 2 to ''\n\t  if (str.length < 2) return ''\n\t  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\t  while (str.length % 4 !== 0) {\n\t    str = str + '='\n\t  }\n\t  return str\n\t}\n\n\tfunction stringtrim (str) {\n\t  if (str.trim) return str.trim()\n\t  return str.replace(/^\\s+|\\s+$/g, '')\n\t}\n\n\tfunction toHex (n) {\n\t  if (n < 16) return '0' + n.toString(16)\n\t  return n.toString(16)\n\t}\n\n\tfunction utf8ToBytes (string, units) {\n\t  units = units || Infinity\n\t  var codePoint\n\t  var length = string.length\n\t  var leadSurrogate = null\n\t  var bytes = []\n\n\t  for (var i = 0; i < length; i++) {\n\t    codePoint = string.charCodeAt(i)\n\n\t    // is surrogate component\n\t    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n\t      // last char was a lead\n\t      if (!leadSurrogate) {\n\t        // no lead yet\n\t        if (codePoint > 0xDBFF) {\n\t          // unexpected trail\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n\t          continue\n\t        } else if (i + 1 === length) {\n\t          // unpaired lead\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n\t          continue\n\t        }\n\n\t        // valid lead\n\t        leadSurrogate = codePoint\n\n\t        continue\n\t      }\n\n\t      // 2 leads in a row\n\t      if (codePoint < 0xDC00) {\n\t        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n\t        leadSurrogate = codePoint\n\t        continue\n\t      }\n\n\t      // valid surrogate pair\n\t      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n\t    } else if (leadSurrogate) {\n\t      // valid bmp char, but last char was a lead\n\t      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n\t    }\n\n\t    leadSurrogate = null\n\n\t    // encode utf8\n\t    if (codePoint < 0x80) {\n\t      if ((units -= 1) < 0) break\n\t      bytes.push(codePoint)\n\t    } else if (codePoint < 0x800) {\n\t      if ((units -= 2) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x6 | 0xC0,\n\t        codePoint & 0x3F | 0x80\n\t      )\n\t    } else if (codePoint < 0x10000) {\n\t      if ((units -= 3) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0xC | 0xE0,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      )\n\t    } else if (codePoint < 0x110000) {\n\t      if ((units -= 4) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x12 | 0xF0,\n\t        codePoint >> 0xC & 0x3F | 0x80,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      )\n\t    } else {\n\t      throw new Error('Invalid code point')\n\t    }\n\t  }\n\n\t  return bytes\n\t}\n\n\tfunction asciiToBytes (str) {\n\t  var byteArray = []\n\t  for (var i = 0; i < str.length; i++) {\n\t    // Node's code seems to be doing this and not & 0x7F..\n\t    byteArray.push(str.charCodeAt(i) & 0xFF)\n\t  }\n\t  return byteArray\n\t}\n\n\tfunction utf16leToBytes (str, units) {\n\t  var c, hi, lo\n\t  var byteArray = []\n\t  for (var i = 0; i < str.length; i++) {\n\t    if ((units -= 2) < 0) break\n\n\t    c = str.charCodeAt(i)\n\t    hi = c >> 8\n\t    lo = c % 256\n\t    byteArray.push(lo)\n\t    byteArray.push(hi)\n\t  }\n\n\t  return byteArray\n\t}\n\n\tfunction base64ToBytes (str) {\n\t  return base64.toByteArray(base64clean(str))\n\t}\n\n\tfunction blitBuffer (src, dst, offset, length) {\n\t  for (var i = 0; i < length; i++) {\n\t    if ((i + offset >= dst.length) || (i >= src.length)) break\n\t    dst[i + offset] = src[i]\n\t  }\n\t  return i\n\t}\n\n\t}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\t},{\"base64-js\":38,\"ieee754\":39,\"isarray\":40}],38:[function(require,module,exports){\n\t;(function (exports) {\n\t  'use strict'\n\n\t  var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\n\t  var Arr = (typeof Uint8Array !== 'undefined')\n\t    ? Uint8Array\n\t    : Array\n\n\t  var PLUS = '+'.charCodeAt(0)\n\t  var SLASH = '/'.charCodeAt(0)\n\t  var NUMBER = '0'.charCodeAt(0)\n\t  var LOWER = 'a'.charCodeAt(0)\n\t  var UPPER = 'A'.charCodeAt(0)\n\t  var PLUS_URL_SAFE = '-'.charCodeAt(0)\n\t  var SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\t  function decode (elt) {\n\t    var code = elt.charCodeAt(0)\n\t    if (code === PLUS || code === PLUS_URL_SAFE) return 62 // '+'\n\t    if (code === SLASH || code === SLASH_URL_SAFE) return 63 // '/'\n\t    if (code < NUMBER) return -1 // no match\n\t    if (code < NUMBER + 10) return code - NUMBER + 26 + 26\n\t    if (code < UPPER + 26) return code - UPPER\n\t    if (code < LOWER + 26) return code - LOWER + 26\n\t  }\n\n\t  function b64ToByteArray (b64) {\n\t    var i, j, l, tmp, placeHolders, arr\n\n\t    if (b64.length % 4 > 0) {\n\t      throw new Error('Invalid string. Length must be a multiple of 4')\n\t    }\n\n\t    // the number of equal signs (place holders)\n\t    // if there are two placeholders, than the two characters before it\n\t    // represent one byte\n\t    // if there is only one, then the three characters before it represent 2 bytes\n\t    // this is just a cheap hack to not do indexOf twice\n\t    var len = b64.length\n\t    placeHolders = b64.charAt(len - 2) === '=' ? 2 : b64.charAt(len - 1) === '=' ? 1 : 0\n\n\t    // base64 is 4/3 + up to two characters of the original data\n\t    arr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t    // if there are placeholders, only get up to the last complete 4 chars\n\t    l = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t    var L = 0\n\n\t    function push (v) {\n\t      arr[L++] = v\n\t    }\n\n\t    for (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t      tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t      push((tmp & 0xFF0000) >> 16)\n\t      push((tmp & 0xFF00) >> 8)\n\t      push(tmp & 0xFF)\n\t    }\n\n\t    if (placeHolders === 2) {\n\t      tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t      push(tmp & 0xFF)\n\t    } else if (placeHolders === 1) {\n\t      tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t      push((tmp >> 8) & 0xFF)\n\t      push(tmp & 0xFF)\n\t    }\n\n\t    return arr\n\t  }\n\n\t  function uint8ToBase64 (uint8) {\n\t    var i\n\t    var extraBytes = uint8.length % 3 // if we have 1 byte left, pad 2 bytes\n\t    var output = ''\n\t    var temp, length\n\n\t    function encode (num) {\n\t      return lookup.charAt(num)\n\t    }\n\n\t    function tripletToBase64 (num) {\n\t      return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t    }\n\n\t    // go through the array every three bytes, we'll deal with trailing stuff later\n\t    for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t      temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t      output += tripletToBase64(temp)\n\t    }\n\n\t    // pad the end with zeros, but make sure to not forget the extra bytes\n\t    switch (extraBytes) {\n\t      case 1:\n\t        temp = uint8[uint8.length - 1]\n\t        output += encode(temp >> 2)\n\t        output += encode((temp << 4) & 0x3F)\n\t        output += '=='\n\t        break\n\t      case 2:\n\t        temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t        output += encode(temp >> 10)\n\t        output += encode((temp >> 4) & 0x3F)\n\t        output += encode((temp << 2) & 0x3F)\n\t        output += '='\n\t        break\n\t      default:\n\t        break\n\t    }\n\n\t    return output\n\t  }\n\n\t  exports.toByteArray = b64ToByteArray\n\t  exports.fromByteArray = uint8ToBase64\n\t}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n\t},{}],39:[function(require,module,exports){\n\texports.read = function (buffer, offset, isLE, mLen, nBytes) {\n\t  var e, m\n\t  var eLen = nBytes * 8 - mLen - 1\n\t  var eMax = (1 << eLen) - 1\n\t  var eBias = eMax >> 1\n\t  var nBits = -7\n\t  var i = isLE ? (nBytes - 1) : 0\n\t  var d = isLE ? -1 : 1\n\t  var s = buffer[offset + i]\n\n\t  i += d\n\n\t  e = s & ((1 << (-nBits)) - 1)\n\t  s >>= (-nBits)\n\t  nBits += eLen\n\t  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n\t  m = e & ((1 << (-nBits)) - 1)\n\t  e >>= (-nBits)\n\t  nBits += mLen\n\t  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n\t  if (e === 0) {\n\t    e = 1 - eBias\n\t  } else if (e === eMax) {\n\t    return m ? NaN : ((s ? -1 : 1) * Infinity)\n\t  } else {\n\t    m = m + Math.pow(2, mLen)\n\t    e = e - eBias\n\t  }\n\t  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n\t}\n\n\texports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n\t  var e, m, c\n\t  var eLen = nBytes * 8 - mLen - 1\n\t  var eMax = (1 << eLen) - 1\n\t  var eBias = eMax >> 1\n\t  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n\t  var i = isLE ? 0 : (nBytes - 1)\n\t  var d = isLE ? 1 : -1\n\t  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n\t  value = Math.abs(value)\n\n\t  if (isNaN(value) || value === Infinity) {\n\t    m = isNaN(value) ? 1 : 0\n\t    e = eMax\n\t  } else {\n\t    e = Math.floor(Math.log(value) / Math.LN2)\n\t    if (value * (c = Math.pow(2, -e)) < 1) {\n\t      e--\n\t      c *= 2\n\t    }\n\t    if (e + eBias >= 1) {\n\t      value += rt / c\n\t    } else {\n\t      value += rt * Math.pow(2, 1 - eBias)\n\t    }\n\t    if (value * c >= 2) {\n\t      e++\n\t      c /= 2\n\t    }\n\n\t    if (e + eBias >= eMax) {\n\t      m = 0\n\t      e = eMax\n\t    } else if (e + eBias >= 1) {\n\t      m = (value * c - 1) * Math.pow(2, mLen)\n\t      e = e + eBias\n\t    } else {\n\t      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n\t      e = 0\n\t    }\n\t  }\n\n\t  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n\t  e = (e << mLen) | m\n\t  eLen += mLen\n\t  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n\t  buffer[offset + i - d] |= s * 128\n\t}\n\n\t},{}],40:[function(require,module,exports){\n\tvar toString = {}.toString;\n\n\tmodule.exports = Array.isArray || function (arr) {\n\t  return toString.call(arr) == '[object Array]';\n\t};\n\n},{}]},{},[36]);\n\nexport default PANOLENS;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/panolens.js","import { Box3, Vector3, Vector2, BufferAttribute } from 'three';\n\nlet box = new Box3();\n\nfunction getSize( object ) {\n\n    box.setFromObject( object );\n\n    return box.getSize();\n}\n\nfunction getCenter( object ) {\n\n    box.setFromObject( object );\n\n    return box.getCenter();\n}\n\nfunction lightsDiff( lights, oldLights ) {\n\n}\n\nfunction toIndexed ( bufferGeometry ) {\n\n    var raw_positions = bufferGeometry.getAttribute( 'position' ).array;\n\n    var raw_uvs;\n    var hasUV = bufferGeometry.getAttribute( 'uv' ) !== undefined;\n    if ( hasUV ) raw_uvs = bufferGeometry.getAttribute( 'uv' ).array;\n\n    var raw_normals;\n    var hasNormal = bufferGeometry.getAttribute( 'normal' ) !== undefined;\n    if ( hasNormal ) raw_normals = bufferGeometry.getAttribute( 'normal' ).array;\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    var face, face_normalss, face_uvs, tmp_indices;\n\n    var v0 = new Vector3();\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n\n    var n0 = new Vector3();\n    var n1 = new Vector3();\n    var n2 = new Vector3();\n\n    var uv0 = new Vector2();\n    var uv1 = new Vector2();\n    var uv2 = new Vector2();\n\n    for ( var i = 0; i < raw_positions.length; i += 9 ) {\n\n        v0.x = raw_positions[ i ];\n        v0.y = raw_positions[ i + 1 ];\n        v0.z = raw_positions[ i + 2 ];\n\n        v1.x = raw_positions[ i + 3 ];\n        v1.y = raw_positions[ i + 4 ];\n        v1.z = raw_positions[ i + 5 ];\n\n        v2.x = raw_positions[ i + 6 ];\n        v2.y = raw_positions[ i + 7 ];\n        v2.z = raw_positions[ i + 8 ];\n\n        face = [ v0, v1, v2 ];\n\n        if ( hasNormal ) {\n\n            n0.x = raw_normals[ i ];\n            n0.y = raw_normals[ i + 1 ];\n            n0.z = raw_normals[ i + 2 ];\n\n            n1.x = raw_normals[ i + 3 ];\n            n1.y = raw_normals[ i + 4 ];\n            n1.z = raw_normals[ i + 5 ];\n\n            n2.x = raw_normals[ i + 6 ];\n            n2.y = raw_normals[ i + 7 ];\n            n2.z = raw_normals[ i + 8 ];\n\n            face_normalss = [ n0, n1, n2 ];\n\n        }\n\n        if ( hasUV ) {\n\n            uv0.x = raw_uvs[ i ];\n            uv0.y = raw_uvs[ i + 1 ];\n\n            uv1.x = raw_uvs[ i + 2 ];\n            uv1.y = raw_uvs[ i + 3 ];\n\n            uv2.x = raw_uvs[ i + 4 ];\n            uv2.y = raw_uvs[ i + 5 ];\n\n            face_uvs = [ uv0, uv1, uv2 ];\n\n        }\n\n        tmp_indices = [];\n\n        face.forEach( function ( v, i ) {\n\n            var id = exists( v, vertices );\n            if ( id == -1 ) {\n\n                id = vertices.length;\n                vertices.push( v.clone() );\n\n                if ( hasNormal ) normals.push( face_normalss[ i ].clone() );\n                if ( hasUV ) uvs.push( face_uvs[ i ].clone() );\n\n            }\n            tmp_indices.push( id );\n\n        } );\n\n        indices.push( tmp_indices[ 0 ], tmp_indices[ 1 ], tmp_indices[ 2 ] );\n\n    }\n\n    var positionBuffer = new Float32Array( vertices.length * 3 );\n    if ( hasNormal ) var normalBuffer = new Float32Array( vertices.length * 3 );\n    if ( hasUV ) var uvBuffer = new Float32Array( vertices.length * 2 );\n\n    var i2 = 0;\n    var i3 = 0;\n    for ( i = 0; i < vertices.length; i++ ) {\n\n        i3 = i * 3;\n\n        positionBuffer[ i3 ] = vertices[ i ].x;\n        positionBuffer[ i3 + 1 ] = vertices[ i ].y;\n        positionBuffer[ i3 + 2 ] = vertices[ i ].z;\n\n        if ( hasNormal ) {\n\n            normalBuffer[ i3 ] = normals[ i ].x;\n            normalBuffer[ i3 + 1 ] = normals[ i ].y;\n            normalBuffer[ i3 + 2 ] = normals[ i ].z;\n\n        }\n\n        if ( hasUV ) {\n\n            i2 = i * 2;\n            uvBuffer[ i2 ] = uvs[ i ].x;\n            uvBuffer[ i2 + 1 ] = uvs[ i ].y;\n\n        }\n\n    }\n\n    bufferGeometry.addAttribute( 'position', new BufferAttribute( positionBuffer, 3 ) );\n    if ( hasNormal ) bufferGeometry.addAttribute( 'normal', new BufferAttribute( normalBuffer, 3 ) );\n    if ( hasUV ) bufferGeometry.addAttribute( 'uv', new BufferAttribute( uvBuffer, 2 ) );\n    bufferGeometry.setIndex( new BufferAttribute( new Uint32Array( indices ), 1 ) );\n    return bufferGeometry;\n\n    function exists( v, vertices ) {\n        for ( var i = 0; i < vertices.length; i++ ) {\n            if ( v.equals( vertices[ i ] ) ) return i;\n        }\n        return -1;\n    }\n}\n\nexport { getSize, getCenter, toIndexed }\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}